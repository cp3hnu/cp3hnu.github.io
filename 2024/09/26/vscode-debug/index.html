<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VS Code 调试 Node.js | Study &amp; Product</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    <meta name="description" content="这篇文章我们将详细介绍 VS Code 调试 Node.js 的四种方法，并且解决修改代码没有重启服务的问题">
    <meta name="algolia-site-verification" content="23333450F18E92C1">
    
    <link rel="preload" href="/assets/css/0.styles.cd1f7b12.css" as="style"><link rel="preload" href="/assets/js/app.b07256e7.js" as="script"><link rel="preload" href="/assets/js/34.49b71b2c.js" as="script"><link rel="preload" href="/assets/js/3.276926dd.js" as="script"><link rel="preload" href="/assets/js/10.7c5bc6fc.js" as="script"><link rel="prefetch" href="/assets/js/100.f675d046.js"><link rel="prefetch" href="/assets/js/101.92ede1ec.js"><link rel="prefetch" href="/assets/js/102.678a907d.js"><link rel="prefetch" href="/assets/js/103.959ad108.js"><link rel="prefetch" href="/assets/js/104.b15677eb.js"><link rel="prefetch" href="/assets/js/105.377da8a5.js"><link rel="prefetch" href="/assets/js/106.29a8c44d.js"><link rel="prefetch" href="/assets/js/107.64b19904.js"><link rel="prefetch" href="/assets/js/108.a3e75a67.js"><link rel="prefetch" href="/assets/js/109.283d92d8.js"><link rel="prefetch" href="/assets/js/11.e6a0311f.js"><link rel="prefetch" href="/assets/js/110.cbb6ea81.js"><link rel="prefetch" href="/assets/js/111.252f143f.js"><link rel="prefetch" href="/assets/js/112.df62c9fe.js"><link rel="prefetch" href="/assets/js/113.66189350.js"><link rel="prefetch" href="/assets/js/114.890cd7de.js"><link rel="prefetch" href="/assets/js/115.53823707.js"><link rel="prefetch" href="/assets/js/116.caaa6eaa.js"><link rel="prefetch" href="/assets/js/117.b7b0f88f.js"><link rel="prefetch" href="/assets/js/118.03168974.js"><link rel="prefetch" href="/assets/js/119.90f4d7b7.js"><link rel="prefetch" href="/assets/js/12.8da07182.js"><link rel="prefetch" href="/assets/js/120.b654e5ee.js"><link rel="prefetch" href="/assets/js/121.92d87086.js"><link rel="prefetch" href="/assets/js/13.a9f90626.js"><link rel="prefetch" href="/assets/js/14.b18d5210.js"><link rel="prefetch" href="/assets/js/15.835c7671.js"><link rel="prefetch" href="/assets/js/16.eb29ed80.js"><link rel="prefetch" href="/assets/js/17.c4871518.js"><link rel="prefetch" href="/assets/js/18.606b879c.js"><link rel="prefetch" href="/assets/js/19.777086a8.js"><link rel="prefetch" href="/assets/js/20.c8e69fcc.js"><link rel="prefetch" href="/assets/js/21.6cda2658.js"><link rel="prefetch" href="/assets/js/22.19e356e1.js"><link rel="prefetch" href="/assets/js/23.ca8661ea.js"><link rel="prefetch" href="/assets/js/24.9f090eaf.js"><link rel="prefetch" href="/assets/js/25.be2c8a0c.js"><link rel="prefetch" href="/assets/js/26.5ce52eaa.js"><link rel="prefetch" href="/assets/js/27.d75e1151.js"><link rel="prefetch" href="/assets/js/28.6863d7e4.js"><link rel="prefetch" href="/assets/js/29.d8a1c4f2.js"><link rel="prefetch" href="/assets/js/30.178b8dc0.js"><link rel="prefetch" href="/assets/js/31.4c488d0e.js"><link rel="prefetch" href="/assets/js/32.ce3ae3c7.js"><link rel="prefetch" href="/assets/js/33.828dd0d1.js"><link rel="prefetch" href="/assets/js/35.9496ed4c.js"><link rel="prefetch" href="/assets/js/36.33ada8e1.js"><link rel="prefetch" href="/assets/js/37.e9705ffe.js"><link rel="prefetch" href="/assets/js/38.f9c57096.js"><link rel="prefetch" href="/assets/js/39.75b77f83.js"><link rel="prefetch" href="/assets/js/4.c651aa9d.js"><link rel="prefetch" href="/assets/js/40.4496a5db.js"><link rel="prefetch" href="/assets/js/41.260393e3.js"><link rel="prefetch" href="/assets/js/42.083f9350.js"><link rel="prefetch" href="/assets/js/43.8d311a8e.js"><link rel="prefetch" href="/assets/js/44.df55763b.js"><link rel="prefetch" href="/assets/js/45.e19037c7.js"><link rel="prefetch" href="/assets/js/46.9529f37b.js"><link rel="prefetch" href="/assets/js/47.8d631e39.js"><link rel="prefetch" href="/assets/js/48.3acad59c.js"><link rel="prefetch" href="/assets/js/49.9a12a900.js"><link rel="prefetch" href="/assets/js/5.373c53f3.js"><link rel="prefetch" href="/assets/js/50.f30877b8.js"><link rel="prefetch" href="/assets/js/51.e8b2adf9.js"><link rel="prefetch" href="/assets/js/52.e6a458bb.js"><link rel="prefetch" href="/assets/js/53.e4027d0c.js"><link rel="prefetch" href="/assets/js/54.5a4be38d.js"><link rel="prefetch" href="/assets/js/55.924ee4f8.js"><link rel="prefetch" href="/assets/js/56.11ff1ccf.js"><link rel="prefetch" href="/assets/js/57.14327960.js"><link rel="prefetch" href="/assets/js/58.cea182b0.js"><link rel="prefetch" href="/assets/js/59.2db874c7.js"><link rel="prefetch" href="/assets/js/6.6878fac4.js"><link rel="prefetch" href="/assets/js/60.e3e4017b.js"><link rel="prefetch" href="/assets/js/61.d5cd385e.js"><link rel="prefetch" href="/assets/js/62.6929f93f.js"><link rel="prefetch" href="/assets/js/63.3f8bf719.js"><link rel="prefetch" href="/assets/js/64.e89e1572.js"><link rel="prefetch" href="/assets/js/65.a4335c65.js"><link rel="prefetch" href="/assets/js/66.cc9fb484.js"><link rel="prefetch" href="/assets/js/67.d5da8f2f.js"><link rel="prefetch" href="/assets/js/68.91a38f6d.js"><link rel="prefetch" href="/assets/js/69.800ca600.js"><link rel="prefetch" href="/assets/js/7.6f2558ea.js"><link rel="prefetch" href="/assets/js/70.f7b16ee7.js"><link rel="prefetch" href="/assets/js/71.e34929dc.js"><link rel="prefetch" href="/assets/js/72.175a64bf.js"><link rel="prefetch" href="/assets/js/73.c3dcfd4b.js"><link rel="prefetch" href="/assets/js/74.65978082.js"><link rel="prefetch" href="/assets/js/75.718d5152.js"><link rel="prefetch" href="/assets/js/76.2ed620b3.js"><link rel="prefetch" href="/assets/js/77.f8726387.js"><link rel="prefetch" href="/assets/js/78.1dea2e59.js"><link rel="prefetch" href="/assets/js/79.f62213a1.js"><link rel="prefetch" href="/assets/js/8.81ebcef8.js"><link rel="prefetch" href="/assets/js/80.7600ac29.js"><link rel="prefetch" href="/assets/js/81.ab94746f.js"><link rel="prefetch" href="/assets/js/82.26baf7f8.js"><link rel="prefetch" href="/assets/js/83.89a3942a.js"><link rel="prefetch" href="/assets/js/84.1a5577ac.js"><link rel="prefetch" href="/assets/js/85.eb62de22.js"><link rel="prefetch" href="/assets/js/86.7635121c.js"><link rel="prefetch" href="/assets/js/87.5bee4d72.js"><link rel="prefetch" href="/assets/js/88.04d56860.js"><link rel="prefetch" href="/assets/js/89.09a7d920.js"><link rel="prefetch" href="/assets/js/9.7f69b9b1.js"><link rel="prefetch" href="/assets/js/90.dac6a66e.js"><link rel="prefetch" href="/assets/js/91.14f101dd.js"><link rel="prefetch" href="/assets/js/92.d398eb09.js"><link rel="prefetch" href="/assets/js/93.7a5477fa.js"><link rel="prefetch" href="/assets/js/94.c4bf7674.js"><link rel="prefetch" href="/assets/js/95.a0c3c94c.js"><link rel="prefetch" href="/assets/js/96.c3a44db5.js"><link rel="prefetch" href="/assets/js/97.6956ed39.js"><link rel="prefetch" href="/assets/js/98.ad65fe08.js"><link rel="prefetch" href="/assets/js/99.4fe76e2f.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.cb5d1302.js">
    <link rel="stylesheet" href="/assets/css/0.styles.cd1f7b12.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/" class="nav-link home-link">Study &amp; Product </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/" class="nav-link">Home</a></li><li class="nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/notebook/" class="nav-link">Notebook</a></li><li class="nav-item"><a href="/about/" class="nav-link">About</a></li><li class="nav-item"><a href="https://github.com/cp3hnu" target="_blank" rel="noopener noreferrer" class="nav-link external">GitHub</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="nav-link mobile-home-link">Study &amp; Product </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/" class="nav-link">Home</a></li><li class="mobile-nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/notebook/" class="nav-link">Notebook</a></li><li class="mobile-nav-item"><a href="/about/" class="nav-link">About</a></li><li class="mobile-nav-item"><a href="https://github.com/cp3hnu" target="_blank" rel="noopener noreferrer" class="nav-link external">GitHub</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper blog-page"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><div itemprop="articleBody" class="content__default"><h1 id="vs-code-调试-node-js"><a href="#vs-code-调试-node-js" class="header-anchor">#</a> VS Code 调试 Node.js</h1> <p>在上一篇文章  <a href="/2024/09/17/nodejs-api/#vs-code-调试-node-js">创建 Node.js 服务</a> 中，我们简单介绍了 VS Code 调试 Node.js。但是有一个问题，如果在调试过程中发现了问题，随即修改代码，但是服务没有自动重启，而是需要我们手动刷新。如果我们一时忘记了刷新，调试时发现问题依然存在，而我们觉得已经改了代码，问题不应该存在，给我们带来了困惑。这篇文章我们将详细介绍 VS Code 调试 Node.js 的四种方法，并且解决修改代码没有重启服务的问题。</p> <p>正如上一篇文章 <a href="/2024/09/17/nodejs-api/#vs-code-调试-node-js">创建 Node.js 服务</a> 中说的，VS Code 调试 Node.js 有四种方法：</p> <ul><li>使用 <a href="https://code.visualstudio.com/docs/nodejs/nodejs-debugging#_auto-attach" target="_blank" rel="noopener noreferrer">自动附加 <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>调试您在 VS Code 的集成终端中运行的进程。</li> <li>使用 <a href="https://code.visualstudio.com/docs/nodejs/nodejs-debugging#_javascript-debug-terminal" target="_blank" rel="noopener noreferrer">JavaScript 调试终端<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 调试程序。</li> <li>附加到在 VS Code 外部启动的 <a href="https://code.visualstudio.com/docs/nodejs/nodejs-debugging#_attaching-to-nodejs" target="_blank" rel="noopener noreferrer">进程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li> <li>使用 <a href="https://code.visualstudio.com/docs/nodejs/nodejs-debugging#_launch-configuration" target="_blank" rel="noopener noreferrer">启动配置 <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>启动程序。</li></ul> <p>同时我们知道，使用 <a href="https://github.com/remy/nodemon" target="_blank" rel="noopener noreferrer"><code>nodemon</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 命令行工具，可以在修改代码之后自动重启服务。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ nodemon index.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>接下来我们研究怎么将 <a href="https://github.com/remy/nodemon" target="_blank" rel="noopener noreferrer"><code>nodemon</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 工具与 VS Code 调试方式结合起来，实现既能使用 VS Code 调试，又能修改代码之后重启服务，并且可以继续调试。</p> <h2 id="自动附加"><a href="#自动附加" class="header-anchor">#</a> 自动附加</h2> <p>自动附加功能让 Node 调试器自动附加到从 VS Code 集成终端启动的 Node.js 进程。通过在命令面板（⇧⌘P）中的 <code>Debug: Toggle Auto Attach</code> 命令，启动自动附加功能。</p> <p>自动附加有三种模式:</p> <ul><li><code>always</code>：将调试在 VS Code 集成终端中启动的所有 Node.js 进程</li> <li><code>onlyWithFlag</code>：将仅调试使用 <code>--inspect</code> 或 <code>--inspect-brk</code> 标志启动的进程。</li> <li><code>smart</code>：将调试 <code>node_modules</code> 文件夹未包含的脚本或使用常见的 “运行程序” 脚本（如 <code>mocha</code> 或 <code>ts-node</code>）</li></ul> <p><img src="/assets/img/vscode-nodejs-auto-attach.fbc32b64.png" alt=""></p> <p>开启自动附加功能之后，可以通过 VS Code 窗口底部的 <code>Auto Attach</code> 状态栏切换模式。<strong>启动自动附加功能或者切换模式之后，需要重新创建一个新终端，然后运行程序</strong>。</p> <h3 id="always"><a href="#always" class="header-anchor">#</a> <code>always</code></h3> <p>首先我们来看看 <code>always</code>，当选择这个选项时，只要我们在 VS Code 集成终端运行 Node.js 程序（无论是在终端命令行里运行还是通过 <code>NPM Script</code> 运行，但是不能在别的终端应用运行），VS Code 就打开了调试。</p> <p>所以我们可以在 VS Code 集成终端运行 <code>nodemon</code> 命令</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ nodemon index.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>或者在 <code>package.json</code> 里添加脚本命令，然后运行</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nodemon index.js&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这样就实现了既打开了 VS Code 调试，又在修改代码之后重启服务。但是 <code>always</code> 模式有个缺陷：因为自动附加功能作用于全局，开启 <code>always</code> 模式之后，所有的项目只要通过 VS Code 集成终端运行，都会打开调试，这对于一些 web 前端项目是没有必要的。</p> <h3 id="onlywithflag"><a href="#onlywithflag" class="header-anchor">#</a> <code>onlyWithFlag</code></h3> <p><code>onlyWithFlag</code> 仅调试使用 <code>--inspect</code> 或 <code>--inspect-brk</code> 标志启动的进程，所以我们可以使用 <code>--inspect</code> 选项在 VS Code 集成终端运行 Node.js 程序。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ node --inspect index.js
<span class="token comment"># 或者</span>
$ nodemon --inspect index.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>通过 <code>nodemon --inspect index.js</code>，实现了既使用了 VS Code 调试，又在修改代码之后重启服务，同时避免 web 前端项目自动开启调试。</p> <p>注意，<code>onlyWithFlag</code> 模式同样要求在 VS Code 集成终端运行，在别的终端应用运行无效。</p> <h3 id="smart"><a href="#smart" class="header-anchor">#</a> <code>smart</code></h3> <p><code>smart</code>：将调试 <code>node_modules</code> 文件夹未包含的脚本或使用常见的 “运行程序” 脚本（如 <code>mocha</code> 或 <code>ts-node</code>），可以通过 <code>Auto Attach Smart Pattern</code> （<code>debug.javascript.autoAttachSmartPattern</code>） 配置 “运行程序” 脚本允许列表</p> <p><img src="/assets/img/vscode-nodejs-auto-smart.c600e08c.png" alt=""></p> <p>因为 <code>node</code> 和 <code>nodemon</code> 命令都不在 <code>node_modules</code> 文件夹里，所以也能实现打开 VS Code 调试，同时修改代码之后重启服务。对于 web 前端项目，如果使用了 <code>node_modules</code> 文件夹里的脚本，比如 <code>umijs</code> 的 <code>max</code> 命令，<code>CRA</code> 的 <code>react-scripts</code> 命令，就不会开启调试，如果没有使用，比如 <code>CRA</code> <code>eject</code> 之后的 <code>node scripts/start.js</code> 就会打开调试。</p> <p>注意，<code>smart</code> 模式同样要求在 VS Code 集成终端运行，在别的终端应用运行无效。</p> <h2 id="javascript-调试终端"><a href="#javascript-调试终端" class="header-anchor">#</a> JavaScript 调试终端</h2> <p>JavaScript 调试终端将自动调试您在其中运行的任何 Node.js 进程，无论是否使用了 <code>--inspect</code> 或 <code>--inspect-brk</code> 选项。</p> <p>创建 JavaScript 调试终端有下面两个方法：</p> <ul><li><p>命令面板（⇧⌘P）中的 <code>Debug: JavaScript Debug Terminal</code> 命令</p></li> <li><p>在 VS Code 终端界面创建一个 JavaScript 调试终端</p> <p><img src="/assets/img/vscode-nodejs-debug-terminal.a371560e.png" alt=""></p></li></ul> <p>然后，我们在 JavaScript 调试终端里运行 <code>nodemon</code>，实现 VS Code 调试，同时修改代码之后重启服务</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ nodemon index.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>除此之外，通过 NPM Script 面板，也能创建 JavaScript 调试终端，并调试 Node.js 程序</p> <p><img src="/assets/img/vscode-nodejs-npm-script-debug.03a3e057.png" alt=""></p> <p>因此我们可以在 <code>package.json</code> 里创建 <code>nodemon</code> 脚本命令</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nodemon index.js&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>通过 NPM Script 面板，调试 <code>dev</code> 命令，实现 VS Code 调试，同时修改代码之后重启服务</p> <h2 id="附加到-node-js"><a href="#附加到-node-js" class="header-anchor">#</a> 附加到 Node.js</h2> <p>如果您在别的终端应用（比如 iTerm）里运行 Node.js 程序</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ node --inspect index.js
<span class="token comment"># 或者</span>
$ nodemon --inspect index.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>然后想通过 VS Code 进行调试，这个时候就需要使用附加到 Node.js。通过命令面板 （⇧⌘P） 中的 <code>Debug: Attach to Node Process</code> 命令将打开一个 Quick Pick  的菜单，其中列出了所有的 Node.js 进程。</p> <p><img src="/assets/img/vscode-nodejs-attach-progress.10fab59f.png" alt=""></p> <blockquote><p>没有使用 <code>--inspect</code> 选项的 Node.js 进程也显示在这里，但是选择之后不能进行断点调试。</p></blockquote> <p>我们选择通过 <code>--inspect</code> 选项运行 Node.js 程序，比如上面的 PID 为 40931 进程，然后就可以调试了。</p> <p><strong>但是修改代码保存之后，nodemon 重启进程，本身的 PID 没有变化，但是 nodemon 内部使用的 Node 进程发生了变化，导致 VS Code 调试被关闭。因此这个方案不可取。</strong></p> <h2 id="启动配置"><a href="#启动配置" class="header-anchor">#</a> 启动配置</h2> <p>启动配置是在 VS Code 中设置调试的传统方式，可以为您提供运行复杂应用程序的配置选项。</p> <p>在上一篇文章 <a href="/2024/09/17/nodejs-api/#vs-code-调试-node-js">创建 Node.js 服务</a> 中，我们介绍了怎么创建启动配置，但是只配置了 <code>Node.js: 启动程序</code>，其实 VS Code 还有很多的配置选项。</p> <p><img src="/assets/img/vscode-nodejs-launch-config.f8b83ce3.png" alt=""></p> <p>这里我们只关注 <code>Node.js</code> 调试器</p> <h3 id="node-js-启动程序"><a href="#node-js-启动程序" class="header-anchor">#</a> <code>Node.js: 启动程序</code></h3> <p>在调试模式下启动 Node.js 程序。默认配置如下：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Launch Program&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;program&quot;</span><span class="token operator">:</span> <span class="token string">&quot;${workspaceFolder}/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token string">&quot;launch&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;skipFiles&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;&lt;node_internals&gt;/**&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>配置项参数：</p> <ul><li><code>request</code>：<code>launch</code> 或者 <code>attach</code>，<code>launch</code> 表示从 VS Code 启动程序，<code>attach</code> 表示附加已经从别的应用启动的程序，例如上面介绍的 “<a href="#%E9%99%84%E5%8A%A0%E5%88%B0-node-js">附加到 Node.js</a>”</li> <li><code>type</code>：调试器，VC Code 内置了 Node.js 的调试器 <code>node</code>，别的语言的调试器可能需要安装相应的扩展</li> <li><code>name</code>：配置项的名称</li> <li><code>program</code>：启动调试器时要运行的文件，<code>${workspaceFolder}</code> 表示项目根目录，关于变量的更多详情，请参考 <a href="https://code.visualstudio.com/docs/editor/variables-reference" target="_blank" rel="noopener noreferrer">Variables Reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><code>skipFiles</code>：表示调试要跳过哪些文件，<code>&lt;node_internals&gt;</code> 表示 Node.js 的内置核心模块</li></ul> <p>此外我们还可以添加其它配置选项，如：</p> <ul><li><p><code>runtimeExecutable</code>：运行时可执行文件的绝对路径，默认是 <code>node</code></p></li> <li><p><code>runtimeArgs</code>：运行时可执行文件的可选参数，比如要运行 <code>node --inspect</code>，<code>runtimeArgs</code> 设置为 <code>[&quot;--inspect&quot;]</code></p></li> <li><p><code>args</code>：运行程序的参数，就是我们自己写的程序需要的参数</p></li> <li><p><code>restart</code>：终止时是否重新启动连接，默认为 <code>false</code></p></li> <li><p><code>cwd</code>：启动程序所在的目录</p></li></ul> <p>关于配置项的完整列表，请参考 <a href="https://github.com/microsoft/vscode-js-debug/blob/main/OPTIONS.md" target="_blank" rel="noopener noreferrer">VS Code 启动配置参数<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>我们可以将 <code>runtimeExecutable</code> 设置为 <code>nodemon</code>，从而实现开启 VS Code 调试，同时修改代码之后重启服务</strong></p> <div class="language-diff line-numbers-mode"><pre class="language-diff"><code>{
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> &quot;name&quot;: &quot;Launch Program&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line"> &quot;program&quot;: &quot;${workspaceFolder}/index.js&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line"> &quot;request&quot;: &quot;launch&quot;,
</span><span class="token prefix unchanged"> </span><span class="token line"> &quot;skipFiles&quot;: [&quot;&lt;node_internals&gt;/**&quot;],
</span><span class="token prefix unchanged"> </span><span class="token line"> &quot;type&quot;: &quot;node&quot;,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> &quot;runtimeExecutable&quot;: &quot;nodemon&quot;
</span></span>}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="node-js-nodemon-安装程序"><a href="#node-js-nodemon-安装程序" class="header-anchor">#</a> <code>Node.js: Nodemon 安装程序</code></h3> <p>使用 <code>nodemon</code> 在代码发生更改时自动重新启动调试会话，默认配置如下：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;console&quot;</span><span class="token operator">:</span> <span class="token string">&quot;integratedTerminal&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;internalConsoleOptions&quot;</span><span class="token operator">:</span> <span class="token string">&quot;neverOpen&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nodemon&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;program&quot;</span><span class="token operator">:</span> <span class="token string">&quot;${workspaceFolder}/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token string">&quot;launch&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;restart&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;runtimeExecutable&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nodemon&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;skipFiles&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;&lt;node_internals&gt;/**&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>这里新增了几个选项参数：</p> <ul><li><code>console</code>：启动程序的控制台，默认是 <code>internalConsole</code> - VS Code 默认的调试控制台。<code>integratedTerminal</code> - VS Code 的集成控制台。<code>externalTerminal</code> - 外部控制台，当选择 <code>externalTerminal</code> 可以配置要选择的外部终端</li></ul> <p>​	<img src="/assets/img/vscode-nodejs-external-terminal.f1bc59b4.png" alt=""></p> <ul><li><code>internalConsoleOptions</code>：VS Code 默认的调试控制台是否打开，因为启动程序的控制台选择的是 VS Code 的集成控制台，所以这里不需要打开 <code>neverOpen</code></li></ul> <p>这个跟我们前面修改的 <code>Node.js: 启动程序</code> 类似，只是添加了<code>console</code>、<code>internalConsoleOptions</code> 和 <code>restart</code>，所以它也实现了开启 VS Code 调试，同时修改代码之后重启服务。</p> <h3 id="node-js-通过-npm-启动"><a href="#node-js-通过-npm-启动" class="header-anchor">#</a> <code>Node.js: 通过 npm 启动</code></h3> <p>通过 NPM Script 启动 Node.js 程序。默认配置如下：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Launch via NPM&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token string">&quot;launch&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;runtimeArgs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;run-script&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;debug&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;runtimeExecutable&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npm&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;skipFiles&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;&lt;node_internals&gt;/**&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>调试时，我们可以通过调试控制台查看调试信息</p> <p><img src="/assets/img/vscode-nodejs-console.16e3bd09.png" alt=""></p> <p>我们可以看到，其实就是执行了 <code>npm run-script dev</code>。</p> <p>我们通过在 <code>package.json</code> 里配置</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nodemon index.js&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>可以实现开启 VS Code 调试，同时修改代码之后重启服务</p> <h3 id="node-js-附加"><a href="#node-js-附加" class="header-anchor">#</a> <code>Node.js: 附加</code></h3> <p>附加到本地运行的 Node.js 程序的调试端口。</p> <p>确保 Node.js 要调试的程序已在调试模式下启动，并且使用的调试端口与代码段中指定的端口相同，即使用 <code>--inspect</code> 选项运行 Node.js</p> <p>默认配置如下：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Attach&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">9229</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token string">&quot;attach&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;skipFiles&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;&lt;node_internals&gt;/**&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li><code>port</code>: 要使用的调试端口，<code>node --inspect index.js</code> 默认端口号是 <code>9229</code></li></ul> <p>首先运行 <code>nodemon --inspect index.js</code>，然后启动 <code>Attach</code>，VS Code 就会自动连接上启动的进程，并打开调试。</p> <p>和 “<a href="#%E9%99%84%E5%8A%A0%E5%88%B0-node-js">附加到 Node.js</a>” 一样，修改代码保存之后，nodemon 重启进程，本身的 PID 没有变化，但是 nodemon 内部使用的 Node 进程发生了变化，导致 VS Code 调试被关闭。</p> <p><strong>但是通过设置 <code>restart</code> 为 <code>true</code>，可以重新启动连接，从而实现开启 VS Code 调试，同时修改代码之后重启服务</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Attach&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">9229</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token string">&quot;attach&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;skipFiles&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;&lt;node_internals&gt;/**&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;restart&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="node-js-附加到进程"><a href="#node-js-附加到进程" class="header-anchor">#</a> <code>Node.js: 附加到进程</code></h3> <p>和 <code>Node.js: 附加</code> 功能一样，不同的是 <code>Node.js: 附加</code> 通过端口，而 <code>Node.js: 附加到进程</code> 通过进程 ID。默认配置如下：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Attach by Process ID&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;processId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;${command:PickProcess}&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token string">&quot;attach&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;skipFiles&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;&lt;node_internals&gt;/**&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li><code>processId</code>: Node.js 运行进程 ID。<code>${command:PickProcess}</code> 让你选择一个进程</li></ul> <p>和 “<a href="#%E9%99%84%E5%8A%A0%E5%88%B0-node-js">附加到 Node.js</a>” 一样，修改代码保存之后，nodemon 重启进程，本身的 PID 没有变化，但是 nodemon 内部使用的 Node 进程发生了变化，导致 VS Code 调试被关闭。</p> <p><strong>但是同样通过设置 <code>restart</code> 为 <code>true</code>，可以重新启动连接，从而实现开启 VS Code 调试，同时修改代码之后重启服务</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Attach by Process ID&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;processId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;${command:PickProcess}&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token string">&quot;attach&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;skipFiles&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;&lt;node_internals&gt;/**&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;restart&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>这篇文章讲解了 VS Code 调试 Node.js 有四种方法，同时搭配 <code>nodemon</code> 工具，实现既能打开调试，又能修改代码重启服务。现在总结一下：</p> <table><thead><tr><th><span style="display:inline-block;width:140px;">方法</span></th> <th><span style="display:inline-block;width:70px;">能否实现</span></th> <th>是否推荐</th></tr></thead> <tbody><tr><td>自动附加</td> <td>能</td> <td><code>always</code> 和 <code>smart</code> 可能会影响别的项目， <code>onlyWithFlag</code> 需要添加 <code>--inspect</code> 选项，不是很推荐</td></tr> <tr><td>JavaScript 调试终端</td> <td>能</td> <td>推荐，很方便</td></tr> <tr><td>附加到 Node.js</td> <td>不能</td> <td>重启服务之后不能继续调试，因此不推荐</td></tr> <tr><td>启动配置</td> <td>能</td> <td>推荐使用 <code>Node.js: Nodemon 安装程序</code> 配置</td></tr></tbody></table> <h2 id="references"><a href="#references" class="header-anchor">#</a> References</h2> <ul><li><a href="https://code.visualstudio.com/docs/nodejs/nodejs-debugging" target="_blank" rel="noopener noreferrer">Node.js debugging in VS Code<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://code.visualstudio.com/docs/editor/debugging" target="_blank" rel="noopener noreferrer">Debugging<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/microsoft/vscode-js-debug/blob/main/OPTIONS.md" target="_blank" rel="noopener noreferrer">VS Code 启动配置参数<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://code.visualstudio.com/docs/editor/variables-reference" target="_blank" rel="noopener noreferrer">Variables Reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://code.visualstudio.com/docs/editor/glob-patterns" target="_blank" rel="noopener noreferrer">Glob Patterns Reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/remy/nodemon" target="_blank" rel="noopener noreferrer"><code>remy/nodemon</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#自动附加" title="自动附加">自动附加</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#always" title="always">always</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#onlywithflag" title="onlyWithFlag">onlyWithFlag</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#smart" title="smart">smart</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#javascript-调试终端" title="JavaScript 调试终端">JavaScript 调试终端</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#附加到-node-js" title="附加到 Node.js">附加到 Node.js</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#启动配置" title="启动配置">启动配置</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#node-js-启动程序" title="Node.js: 启动程序">Node.js: 启动程序</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#node-js-nodemon-安装程序" title="Node.js: Nodemon 安装程序">Node.js: Nodemon 安装程序</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#node-js-通过-npm-启动" title="Node.js: 通过 npm 启动">Node.js: 通过 npm 启动</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#node-js-附加" title="Node.js: 附加">Node.js: 附加</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#node-js-附加到进程" title="Node.js: 附加到进程">Node.js: 附加到进程</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#总结" title="总结">总结</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#references" title="References">References</a></div></div></div></div></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.b07256e7.js" defer></script><script src="/assets/js/34.49b71b2c.js" defer></script><script src="/assets/js/3.276926dd.js" defer></script><script src="/assets/js/10.7c5bc6fc.js" defer></script>
  </body>
</html>
