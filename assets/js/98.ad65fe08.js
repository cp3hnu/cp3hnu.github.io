(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{538:function(s,a,t){"use strict";t.r(a);var n=t(4),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"服务器部署-storybook-文档"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务器部署-storybook-文档"}},[s._v("#")]),s._v(" 服务器部署 Storybook 文档")]),s._v(" "),t("p",[s._v("上篇文章 "),t("RouterLink",{attrs:{to:"/2025/03/15/umijs-storybook/"}},[s._v("UmiJS + Storybook 搭建组件库文档")]),s._v("，我使用了 Storybook 生成了 UmiJS 项目的组件库文档，这篇文章我将部署 Storybook 文档到内部服务器上。")],1),s._v(" "),t("blockquote",[t("p",[s._v("如果想要发布到外网，可以使用 Chromatic 或者 Vercel 托管服务，详情请参考我的这篇文章 "),t("RouterLink",{attrs:{to:"/2023/09/02/storybook-in-action/#发布"}},[s._v("Storybook 搭建组件库文档")]),s._v("。")],1)]),s._v(" "),t("p",[s._v("部署 Storybook 文档到内部服务器有多种方式，下面我将分别介绍以下几种方式：")]),s._v(" "),t("ul",[t("li",[s._v("HTTP 静态服务")]),s._v(" "),t("li",[s._v("Nginx")]),s._v(" "),t("li",[s._v("Docker")]),s._v(" "),t("li",[s._v("Docker 镜像")])]),s._v(" "),t("h2",{attrs:{id:"http-静态服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#http-静态服务"}},[s._v("#")]),s._v(" HTTP 静态服务")]),s._v(" "),t("p",[t("code",[s._v("storybook build")]),s._v(" 编译 Storybook 生成的是静态 HTML/CSS/JS 文件，可以通过 "),t("a",{attrs:{href:"https://github.com/http-party/http-server",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("http-server")]),t("OutboundLink")],1),s._v("、"),t("a",{attrs:{href:"https://github.com/vercel/serve",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("serve")]),t("OutboundLink")],1),s._v(" 或者 "),t("a",{attrs:{href:"https://github.com/tapio/live-server",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("live-server")]),t("OutboundLink")],1),s._v(" 等 "),t("a",{attrs:{href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Node.js"),t("OutboundLink")],1),s._v(" 服务开启一个 HTTP 静态服务。")]),s._v(" "),t("p",[s._v("操作步骤如下：")]),s._v(" "),t("h5",{attrs:{id:"_1-构建-storybook"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-构建-storybook"}},[s._v("#")]),s._v(" 1. 构建 Storybook")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run storybook-build\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"_2-把-storybook-static-上传到服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-把-storybook-static-上传到服务器"}},[s._v("#")]),s._v(" 2. 把 "),t("code",[s._v("storybook-static")]),s._v(" 上传到服务器")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -r storybook-static/* user@your-server-ip:/remote-dir\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"_3-登录服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-登录服务器"}},[s._v("#")]),s._v(" 3. 登录服务器")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" user@your-server-ip\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"_4-安装-http-server"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-安装-http-server"}},[s._v("#")]),s._v(" 4. 安装 "),t("code",[s._v("http-server")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g http-server\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"_5-运行-http-server"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-运行-http-server"}},[s._v("#")]),s._v(" 5. 运行 "),t("code",[s._v("http-server")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /remote-dir\n$ http-server ./ -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("60006")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("然后就可以通过 http://your-server-ip:6006/ 访问 Storybook 生成的组件库文档了。")]),s._v(" "),t("h2",{attrs:{id:"nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[s._v("#")]),s._v(" Nginx")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://nginx.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Nginx"),t("OutboundLink")],1),s._v(" 是一个高性能的开源 Web 服务器，同时也可以作为"),t("strong",[s._v("反向代理服务器")]),s._v("、"),t("strong",[s._v("负载均衡器")]),s._v("和"),t("strong",[s._v("HTTP 缓存")]),s._v("使用。它以轻量、高并发著称，是目前互联网中应用最广泛的 Web 服务器之一。")]),s._v(" "),t("p",[s._v("Nginx 的主要功能有：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("静态资源服务")]),s._v("：高效地处理 HTML、CSS、JavaScript、图片等前端静态文件的请求，特别适合部署前端应用。")]),s._v(" "),t("li",[t("strong",[s._v("反向代理")]),s._v("：将客户端请求转发给后端服务，常用于前后端分离架构。")]),s._v(" "),t("li",[t("strong",[s._v("负载均衡")]),s._v("：将请求分发到多台服务器上，提高系统的可用性和处理能力。")]),s._v(" "),t("li",[t("strong",[s._v("HTTPS 支持")]),s._v("：可以很方便地配置 SSL，实现安全的 HTTPS 访问。")])]),s._v(" "),t("p",[s._v("操作步骤如下：")]),s._v(" "),t("blockquote",[t("p",[s._v("前三步是一样的，构建 Storybook、上传到服务器、登录服务器")])]),s._v(" "),t("h5",{attrs:{id:"_1-构建-storybook-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-构建-storybook-2"}},[s._v("#")]),s._v(" 1. 构建 Storybook")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run storybook-build\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"_2-把-storybook-static-上传到服务器-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-把-storybook-static-上传到服务器-2"}},[s._v("#")]),s._v(" 2. 把 "),t("code",[s._v("storybook-static")]),s._v(" 上传到服务器")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -r storybook-static/* user@your-server-ip:/remote-dir\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"_3-登录服务器-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-登录服务器-2"}},[s._v("#")]),s._v(" 3. 登录服务器")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" user@your-server-ip\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"_4-安装-nginx-如果没有"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-安装-nginx-如果没有"}},[s._v("#")]),s._v(" 4. 安装 Nginx（如果没有）")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" update\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nginx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h5",{attrs:{id:"_5-配置-nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-配置-nginx"}},[s._v("#")]),s._v(" 5. 配置 Nginx")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/nginx/sites-available/storybook\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("server {\n  listen 6006;\n  server_name your-server-ip;\n\n  location / {\n    root /remote-dir;\n    index index.html;\n    try_files $uri $uri/ /index.html;\n  }\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h5",{attrs:{id:"_6-启动-nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-启动-nginx"}},[s._v("#")]),s._v(" 6. 启动 Nginx")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s /etc/nginx/sites-available/storybook /etc/nginx/sites-enabled/\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" nginx -t\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl reload nginx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("然后就可以通过 http://your-server-ip:6006/ 访问 Storybook 生成的组件库文档了。")]),s._v(" "),t("h2",{attrs:{id:"docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[s._v("#")]),s._v(" Docker")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker"),t("OutboundLink")],1),s._v(" 是一个开源的容器化平台，它能够将应用程序及其依赖打包到一个“容器”中。这种容器可以在任何支持 Docker 的环境中一致地运行，不受操作系统和环境配置的影响。")]),s._v(" "),t("p",[s._v("Docker 的主要功能有：")]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("环境一致性")]),s._v("：无论是在开发、测试还是生产环境中，Docker 都能确保你的应用以相同的方式运行，避免“在我电脑上没问题”的情况。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("快速部署")]),s._v("：通过镜像快速构建和部署应用，节省配置环境的时间。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("资源隔离")]),s._v("：每个容器都是独立的单元，运行在隔离的环境中，不会互相干扰。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("易于扩展和集成")]),s._v("：结合 Docker Compose、Kubernetes 等工具，Docker 适用于微服务架构和大规模部署场景。")])])]),s._v(" "),t("p",[s._v("操作步骤如下：")]),s._v(" "),t("blockquote",[t("p",[s._v("前三步是一样的，构建 Storybook、上传到服务器、登录服务器")])]),s._v(" "),t("h5",{attrs:{id:"_1-构建-storybook-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-构建-storybook-3"}},[s._v("#")]),s._v(" 1. 构建 Storybook")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run storybook-build\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"_2-把-storybook-static-上传到服务器-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-把-storybook-static-上传到服务器-3"}},[s._v("#")]),s._v(" 2. 把 "),t("code",[s._v("storybook-static")]),s._v(" 上传到服务器")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -r storybook-static/* user@your-server-ip:/remote-dir\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"_3-登录服务器-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-登录服务器-3"}},[s._v("#")]),s._v(" 3. 登录服务器")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" user@your-server-ip\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"_4-安装和启用-docker-如果没有"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-安装和启用-docker-如果没有"}},[s._v("#")]),s._v(" 4. 安装和启用 Docker（如果没有）")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" brew "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" docker docker-compose\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动 Docker 服务")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" dockerd "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 测试 Docker 是否正常运行")]),s._v("\n$ docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h5",{attrs:{id:"_5-用-docker-运行-nginx-容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-用-docker-运行-nginx-容器"}},[s._v("#")]),s._v(" 5. 用 Docker 运行 Nginx 容器")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("docker run -d "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6006")]),s._v(":80 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  --name storybook "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -v /remote-dir:/usr/share/nginx/html:ro "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  nginx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("命令解析：")]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("-p 6006:80")]),s._v(":  把服务器的端口 6006 映射到容器内部的端口 80 （Nginx 在这里监听）上。")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("--name storybook")]),s._v(":  给 Docker 容器取一个自定义名字 storybook。")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("-v /remote-dir:/usr/share/nginx/html:ro")]),s._v(": 把服务器上的 "),t("code",[s._v("/remote-dir")]),s._v(" 文件夹，映射到容器内部的 "),t("code",[s._v("/usr/share/nginx/html")]),s._v(" 目录，并设置为只读（readonly）模式。")])])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[t("strong",[s._v("部分")])]),s._v(" "),t("th",[t("strong",[s._v("含义")])])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("-v")]),s._v(" "),t("td",[s._v("Docker volume 挂载选项（volume = 共享/挂载一个目录）")])]),s._v(" "),t("tr",[t("td",[s._v("/remote-dir")]),s._v(" "),t("td",[s._v("主机上的目录（你的 Storybook 静态文件在这里）")])]),s._v(" "),t("tr",[t("td",[s._v("/usr/share/nginx/html")]),s._v(" "),t("td",[s._v("容器内部的目录（Nginx 默认会从这个路径读取网页内容）")])]),s._v(" "),t("tr",[t("td",[s._v(":ro")]),s._v(" "),t("td",[s._v("设置挂载为只读（readonly），防止容器内修改主机文件")])])])]),s._v(" "),t("p",[s._v("然后就可以通过 http://your-server-ip:6006/ 访问 Storybook 生成的组件库文档了。")]),s._v(" "),t("p",[s._v("为了简便，可以写一个脚本")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置项（你可以改成自己的）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SERVER_USER")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root                   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务器用户名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SERVER_IP")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("xxx.xxx.xx.xx            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 你的服务器 IP 地址")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("REMOTE_DIR")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/var/storybook/         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务器上存放静态文件的目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CONTAINER_NAME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("storybook           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Docker 容器名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PORT")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6006")]),s._v("                          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 暴露的端口")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step 1: 构建 TypeDoc ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"📦 构建本地 TypeDoc..."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run docs\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step 2: 构建 Storybook")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"📦 构建本地 Storybook..."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run storybook-build\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step 3: 上传到服务器")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"📤 上传静态文件到服务器 '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SERVER_IP}")]),s._v('..."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -r storybook-static/* "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SERVER_USER}")]),s._v("@"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SERVER_IP}")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${REMOTE_DIR}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step 4: 在服务器上重启 Docker 容器")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"🚀 远程重启 Docker 容器..."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SERVER_USER}")]),s._v("@"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SERVER_IP}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("EOF\n  docker stop "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CONTAINER_NAME}")]),s._v(" || true\n  docker rm "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CONTAINER_NAME}")]),s._v(" || true\n  docker run -d \\\n    -p "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PORT}")]),s._v(":80 \\\n    --name "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CONTAINER_NAME}")]),s._v(" \\\n    -v "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${REMOTE_DIR}")]),s._v(":/usr/share/nginx/html:ro \\\n    nginx\nEOF")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"✅ 部署完成！你现在可以访问：http://'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SERVER_IP}")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PORT}")]),s._v('"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br")])]),t("h2",{attrs:{id:"制作-docker-镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#制作-docker-镜像"}},[s._v("#")]),s._v(" 制作 Docker 镜像")]),s._v(" "),t("p",[s._v("在上面的方案中，把 "),t("code",[s._v("storybook-static")]),s._v(" 上传到服务器不仅麻烦，而且费时。我们都知道，Docker 可以通过镜像来部署，这种方式部署更快、更一致、更安全。")]),s._v(" "),t("h3",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),t("p",[s._v("首先需要在本机安装 Docker")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ brew "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" docker docker-compose docker-buildx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("因为我是 Macbook，Docker Engine 不能直接在 macOS 上运行（macOS 不支持 dockerd），还需要额外配置 "),t("strong",[s._v("Docker Daemon")]),s._v("（可以使用 "),t("a",{attrs:{href:"https://github.com/abiosoft/colima",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("colima")]),t("OutboundLink")],1),s._v(" 或 "),t("a",{attrs:{href:"https://github.com/rancher-sandbox/rancher-desktop",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("rancher-desktop")]),t("OutboundLink")],1),s._v("），这里我使用 "),t("code",[s._v("colima")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ brew "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" colima\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行")]),s._v("\n$ colima start\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检查、测试")]),s._v("\n$ docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("Colima 的配置文件路径是 "),t("code",[s._v("~/.colima/default/colima.yaml")])]),s._v(" "),t("p",[s._v("接下来制作 Docker 镜像并进行部署")]),s._v(" "),t("h3",{attrs:{id:"操作步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#操作步骤"}},[s._v("#")]),s._v(" 操作步骤")]),s._v(" "),t("h5",{attrs:{id:"_1-新建-dockerfile"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-新建-dockerfile"}},[s._v("#")]),s._v(" 1. 新建 Dockerfile")]),s._v(" "),t("div",{staticClass:"language-dockerfile line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Dockerfile")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" nginx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("alpine\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COPY")]),s._v(" storybook"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("static/ /usr/share/nginx/html\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("code",[s._v("nginx:alpine")]),s._v(" 和 "),t("code",[s._v("nginx")]),s._v(" 的区别是 "),t("code",[s._v("nginx:alpine")]),s._v(" 是基于 "),t("strong",[s._v("Alpine Linux")]),s._v(" 的镜像，体积小，而 "),t("code",[s._v("nginx")]),s._v(" 拉取的是 "),t("code",[s._v("nginx:latest")]),s._v("，默认基于 "),t("strong",[s._v("Debian")]),s._v(" 的完整版镜像，体积大。对应 Storybook 生成的静态资源，使用 "),t("code",[s._v("nginx:alpine")]),s._v(" 就够了。")]),s._v(" "),t("h5",{attrs:{id:"_2-构建-storybook"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-构建-storybook"}},[s._v("#")]),s._v(" 2.  构建 Storybook")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run storybook-build\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"_3-构建镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-构建镜像"}},[s._v("#")]),s._v(" 3. 构建镜像")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ docker build -t storybook-app:latest "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"_4-保存为压缩文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-保存为压缩文件"}},[s._v("#")]),s._v(" 4. 保存为压缩文件")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ docker save storybook-app:latest "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("gzip")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" storybook-app.tar.gz\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"_5-上传服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-上传服务器"}},[s._v("#")]),s._v(" 5. 上传服务器")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" storybook-app.tar.gz user@your-server-ip:~/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"_6-服务器上加载镜像并运行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-服务器上加载镜像并运行"}},[s._v("#")]),s._v(" 6. 服务器上加载镜像并运行")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" user@your-server-ip\n$ gunzip -c storybook-app.tar.gz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" docker load\n$ docker run -d --name storybook -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6006")]),s._v(":80 storybook-app:latest\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("为了简便，可以写一个脚本")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# === 可配置参数 ===")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SERVER_USER")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("your-user              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务器用户名（比如 ubuntu）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SERVER_IP")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("xxx.xxx.xx.xx            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务器 IP")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CONTAINER_NAME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("storybook           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Docker 容器名称")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PORT")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6006")]),s._v("                          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 映射到宿主机的端口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("IMAGE_NAME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("storybook-app           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Docker 镜像名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("IMAGE_TAG")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("latest\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("TAR_FILE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${IMAGE_NAME}")]),s._v(".tar.gz\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step 1: 构建 TypeDoc ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"📦 1. 构建本地 TypeDoc..."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run docs "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"❌ TypeDoc 构建失败"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step 2: 构建 Storybook")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"🛠️  2. 构建 Storybook..."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build-storybook "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"❌ Storybook 构建失败"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step 3: 构建 Docker 镜像")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"🐳  3. 构建 Docker 镜像..."')]),s._v("\ndocker build -t "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${IMAGE_NAME}")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${IMAGE_TAG}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"❌ Docker 构建失败"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step 4: 打包镜像")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"📦  4. 打包镜像..."')]),s._v("\ndocker save "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${IMAGE_NAME}")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${IMAGE_TAG}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("gzip")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${TAR_FILE}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step 5: 上传镜像到服务器")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"📤  5. 上传镜像到服务器 '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SERVER_IP}")]),s._v('..."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${TAR_FILE}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SERVER_USER}")]),s._v("@"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SERVER_IP}")]),s._v(":~/\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step 6: 登录服务器并加载镜像")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"🚀  6. 登录服务器并加载镜像 + 启动容器..."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SERVER_USER}")]),s._v("@"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SERVER_IP}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('EOF\n  echo "🧹 删除旧容器（如果存在）..."\n  docker stop '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CONTAINER_NAME}")]),s._v(" 2>/dev/null || true\n  docker rm "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CONTAINER_NAME}")]),s._v(' 2>/dev/null || true\n\n  echo "📥 加载镜像..."\n  gunzip -c '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${TAR_FILE}")]),s._v(' | docker load\n\n  echo "🚀 启动容器..."\n  docker run -d \\\n    --name '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CONTAINER_NAME}")]),s._v(" \\\n    -p "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PORT}")]),s._v(":80 \\\n    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${IMAGE_NAME}")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${IMAGE_TAG}")]),s._v('\n\n  echo "✅ 容器已启动： http://'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SERVER_IP}")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PORT}")]),s._v('"\nEOF')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"🎉 全部完成！现在你可以访问：http://'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SERVER_IP}")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PORT}")]),s._v('"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br")])]),t("p",[s._v("我们还可以添加更多功能，比如添加部署时间统计、成功/失败提示音等")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -e\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# === 配置项 ===")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SERVER_USER")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("your-user                     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务器用户名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SERVER_IP")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("xxx.xxx.xx.xx                   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务器 IP")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CONTAINER_NAME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("storybook-app\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PORT")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6007")]),s._v("                                 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改端口以避开已用的 6006")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("IMAGE_NAME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("storybook-app\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("IMAGE_TAG")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("latest\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("TAR_FILE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${IMAGE_NAME}")]),s._v(".tar.gz\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("start_time")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%s"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# === 出错时提示音 ===")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("on_error")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"❌ 脚本执行失败！"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" -v afplay "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&>")]),s._v("/dev/null"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    afplay /System/Library/Sounds/Funk.aiff\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" -v paplay "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&>")]),s._v("/dev/null"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    paplay /usr/share/sounds/freedesktop/stereo/dialog-error.oga\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("trap")]),s._v(" on_error ERR\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# === Step 1: 构建 TypeDoc ===")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"📚 1. 构建本地 TypeDoc..."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run docs\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# === Step 2: 构建 Storybook ===")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"🛠️  构建 Storybook..."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build-storybook\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# === Step 3: 使用 buildx 构建 amd64 镜像 ===")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"🐳 构建 Docker 镜像（平台 linux/amd64）..."')]),s._v("\ndocker buildx build "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  --platform linux/amd64 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -t "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${IMAGE_NAME}")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${IMAGE_TAG}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  --load "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# === Step 4: 导出镜像为 tar.gz ===")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"📦 导出并压缩镜像..."')]),s._v("\ndocker save "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${IMAGE_NAME}")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${IMAGE_TAG}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("gzip")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${TAR_FILE}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# === Step 5: 上传压缩包到服务器 ===")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"📤 上传压缩包到服务器 '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SERVER_IP}")]),s._v('..."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${TAR_FILE}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SERVER_USER}")]),s._v("@"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SERVER_IP}")]),s._v(":~/\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# === Step 6: SSH 远程部署容器 ===")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"🚀 登录服务器并部署容器..."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SERVER_USER}")]),s._v("@"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SERVER_IP}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("EOF\n  docker stop "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CONTAINER_NAME}")]),s._v(" 2>/dev/null || true\n  docker rm "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CONTAINER_NAME}")]),s._v(" 2>/dev/null || true\n  gunzip -c "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${TAR_FILE}")]),s._v(" | docker load\n  docker run -d --name "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${CONTAINER_NAME}")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PORT}")]),s._v(":80 "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${IMAGE_NAME}")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${IMAGE_TAG}")]),s._v("\nEOF")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("end_time")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%s"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("duration")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$((")]),s._v("end_time "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" start_time"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("))")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"✅ 部署完成，耗时 '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${duration}")]),s._v(" 秒！访问地址：http://"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SERVER_IP}")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PORT}")]),s._v('"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# === 成功提示音 ===")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" -v afplay "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&>")]),s._v("/dev/null"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n  afplay /System/Library/Sounds/Glass.aiff\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" -v paplay "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&>")]),s._v("/dev/null"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n  paplay /usr/share/sounds/freedesktop/stereo/complete.oga\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br")])]),t("h2",{attrs:{id:"references"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[s._v("#")]),s._v(" References")]),s._v(" "),t("ul",[t("li",[t("p",[t("a",{attrs:{href:"https://github.com/http-party/http-server",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("http-party/http-server")]),t("OutboundLink")],1)])]),s._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://github.com/vercel/serve",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("vercel/serve")]),t("OutboundLink")],1)])]),s._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://github.com/tapio/live-server",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("tapio/live-server")]),t("OutboundLink")],1)])]),s._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Node.js"),t("OutboundLink")],1)])]),s._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://nginx.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Nginx"),t("OutboundLink")],1)])]),s._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://www.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker"),t("OutboundLink")],1)])]),s._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://github.com/abiosoft/colima",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("abiosoft/colima")]),t("OutboundLink")],1)])]),s._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://github.com/rancher-sandbox/rancher-desktop",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("rancher-sandbox/rancher-desktop")]),t("OutboundLink")],1)])])])])}),[],!1,null,null,null);a.default=e.exports}}]);