(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{278:function(t,s,a){t.exports=a.p+"assets/img/share-extension-photos.70ce21ff.jpeg"},279:function(t,s,a){t.exports=a.p+"assets/img/share-extension-create.4bea31d4.png"},280:function(t,s,a){t.exports=a.p+"assets/img/share-extension-default-ui.589d1d9f.jpeg"},281:function(t,s,a){t.exports=a.p+"assets/img/share-extension-share-container.740e747a.png"},282:function(t,s){t.exports="data:image/png;base64,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JLWOHQoCCJlDQZlzRJ7Am2++aR07drQlS5ZUeF+XLVtm3/rWt6xPnz526qmn2oABA2zx4sUVfp6DXWFR7AF5377YWVKImOY182xk/wK7oOPnQqY4Ng+oTGW3hQsX2o033mhnn3125FAMHz7cvve971VIv+Rx+c9//uOE0fTp0x2z22+//QDPTIWcKKES7/l55513bP78+XbLLbfYSy+9ZBKg2KEhgJA5NJw5S8QJPP/8866HEydOrNCeyr1/1VVXuadLiaWZM2faKaecYldffbUVF+eWu8J5+lOIGImbUX0/vx1dPjmmYPbnC6wOHMD16aeftq997WvWvXt3++1vf2vnnXeeS3/mmWccm/79+9sVV1zhjv3ud7+z3r17u4/2vemYXz6RAL3oooviddxwww124YUX2rHHHms//OEP4/l8WW1V9tprr7UTTjjBvv71r1tw7FOds2/fvvaLX/zClVGbJ02aZGeccYadeOKJNnLkyGD1bl/j/O6779pNN91kDz74oFteuvTSS+P5xo4da/fcc4/7rglUnpTTTz/diV6xkL333nuOz/XXX2/HH3+8u542btxo8lZccsklLo/+vPLKK3Fm8YOxnffff9+++93v2nHHHWff//73bdOmTS5ZE7f6cPTRRzsvxKJFi9zxxDFIdX5lVntfeOEFV05s7rzzTjvppJPsggsusH//+9/uuK5zMdPxs846y375y1+6fC4x8GfdunXWpEkTq1u3rjs6aNAg58nyQkMeEnll1A+12y9ppeqHeIq7fm+PPfaYq1OesV69ejm+ugYTrWrVqi7/o48+ak8++aRt377dZXnxxRetX79+7npV+/1vV+f42c9+Fr8+dQ2p78ccc4xdd911tnfvXld+8uTJpmta18k111yT9HpMbEtl+o6QqUyjTV8PCoFdu3bZyy+/bLp5aWLyNymdTDev+++/392ENdkpXaab+/nnn+9urJostZ/My/LGG29YQUGBe7qsXr26HXbYYc59fuaZZ9pHH33k6tI5br31VjdJ6YlQdcu1rhu2tt5LNHr0aHvooYdcGf3RTfQf//hHvI5k7dTNX5OLbt5f/epX7fHHH4+XL9POfoEysH2e6eMFyw3d861vmzx7amGxPbc45obZny/ZOcRJrnuJBXFfuXKlaelAtmPHDps7d64TN3ra/9vf/uaejjW56qMnZR2T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"},283:function(t,s,a){t.exports=a.p+"assets/img/share-extension-custom-ui.fe7c2445.jpeg"},504:function(t,s,a){"use strict";a.r(s);var n=a(4),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"share-extension"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#share-extension"}},[t._v("#")]),t._v(" Share Extension")]),t._v(" "),n("p",[t._v("Share Extension 是 iOS 8 推出的一项扩展服务，为用户提供了一种方便的共享内容的方式，最常见的就是分享相册里的相片。")]),t._v(" "),n("blockquote",[n("p",[t._v("本文的样例代码在 "),n("a",{attrs:{href:"https://gitee.com/cp3hnu/share-demo",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),n("OutboundLink")],1)])]),t._v(" "),n("p",[n("img",{attrs:{src:a(278),alt:""}})]),t._v(" "),n("h2",{attrs:{id:"创建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建"}},[t._v("#")]),t._v(" 创建")]),t._v(" "),n("p",[t._v('在工程里添加一个 targets，选择 Share Extension，点击 "next"，一个 Share Extension 就创建好了')]),t._v(" "),n("p",[n("img",{attrs:{src:a(279),alt:""}})]),t._v(" "),n("p",[t._v("Xcode 自动创建了 3 个文件")]),t._v(" "),n("h5",{attrs:{id:"shareviewcontroller"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#shareviewcontroller"}},[t._v("#")]),t._v(" ShareViewController")]),t._v(" "),n("p",[t._v("主视图控制器，继承自 "),n("a",{attrs:{href:"https://developer.apple.com/documentation/social/slcomposeserviceviewcontroller#",target:"_blank",rel:"noopener noreferrer"}},[t._v("SLComposeServiceViewController"),n("OutboundLink")],1),t._v("，提供了默认 UI：textView、取消按钮、发布按钮和图片预览 view。我们可以自定义 UI，这个将在后面介绍。")]),t._v(" "),n("p",[n("img",{attrs:{src:a(280),alt:""}})]),t._v(" "),n("h5",{attrs:{id:"maininterface-storyboard"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#maininterface-storyboard"}},[t._v("#")]),t._v(" MainInterface.storyboard")]),t._v(" "),n("p",[t._v("主 Storyboard")]),t._v(" "),n("h5",{attrs:{id:"info-plist"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#info-plist"}},[t._v("#")]),t._v(" Info.plist")]),t._v(" "),n("p",[t._v("对 Extension 进行配置，下节进行详细讲解")]),t._v(" "),n("h2",{attrs:{id:"配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),n("p",[t._v("这里主要介绍与 Share Extention 相关的 property list key，详情请参考 "),n("a",{attrs:{href:"https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/AppExtensionKeys.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("App Extension Keys"),n("OutboundLink")],1),t._v(".")]),t._v(" "),n("p",[t._v("NSExtension")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("NSExtensionAttributes")]),t._v(" "),n("ul",[n("li",[t._v("NSExtensionActivationRule 见下文")]),t._v(" "),n("li",[t._v("NSExtensionActivationDictionaryVersion - 确定怎样匹配 host 提供的 asset 类型和 extension 能处理的 asset 类型，1：只有 当 extension 能处理 host 提供的所有 asset 类型时，extension 才能被选中，2：只要 extension 能处理 host 提供的其中一种 asset 类型，extension 就能被选中")]),t._v(" "),n("li",[t._v("NSExtensionActivationUsesStrictMatching - 严格（true）还是模糊（false）匹配 extension 能处理的 asset 类型")])])]),t._v(" "),n("li",[n("p",[t._v("NSExtensionMainStoryboard - 指定 extension 的 storeboard 的文件名")])]),t._v(" "),n("li",[n("p",[t._v("NSExtensionPointIdentifier - 指定 extension 支持的扩展点，对应 Share Extention 是 "),n("code",[t._v("com.apple.share-services")])])]),t._v(" "),n("li",[n("p",[t._v("NSExtensionPrincipalClass - 指定实现 extension 主要功能的自定义类的名称，与 "),n("code",[t._v("NSExtensionMainStoryboard")]),t._v(" 互斥")])])]),t._v(" "),n("h3",{attrs:{id:"nsextensionactivationrule"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nsextensionactivationrule"}},[t._v("#")]),t._v(" NSExtensionActivationRule")]),t._v(" "),n("p",[t._v("确定 extension 能处理的 asset 类型和数量，Dictionary 或者 String 类型")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("Key")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("NSExtensionActivationSupportsAttachmentsWithMaxCount")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("支持的 attachment 数量的最大值")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("NSExtensionActivationSupportsAttachmentsWithMinCount")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("支持的 attachment 数量的最小值")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("NSExtensionActivationSupportsFileWithMaxCount")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("支持的 file 数量的最大值")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("NSExtensionActivationSupportsImageWithMaxCount")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("支持的 image 数量的最大值")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("NSExtensionActivationSupportsMovieWithMaxCount")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("支持的 video 数量的最大值")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("NSExtensionActivationSupportsText")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("是否支持 text")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("NSExtensionActivationSupportsWebURLWithMaxCount")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("支持的 web url 数量的最大值")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[t._v("NSExtensionActivationSupportsWebPageWithMaxCount")])]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("支持的 web page 数量的最大值")])])])]),t._v(" "),n("p",[n("code",[t._v("NSExtensionActivationRule")]),t._v(" 除了可以设置这些预置的 key 之外，也可以设置字符串，详情请参考 "),n("a",{attrs:{href:"https://developer.apple.com/library/archive/documentation/General/Conceptual/ExtensibilityPG/ExtensionScenarios.html#//apple_ref/doc/uid/TP40014214-CH21-SW8",target:"_blank",rel:"noopener noreferrer"}},[t._v("Declaring Supported Data Types for a Share or Action Extension"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("p",[n("code",[t._v("NSExtensionActivationRule")]),t._v(" 的默认值是 "),n("code",[t._v("TRUEPREDICATE")]),t._v("，表示支持数量和类型没有限制，上架之前必须修改。")]),t._v(" "),n("h2",{attrs:{id:"获取数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#获取数据"}},[t._v("#")]),t._v(" 获取数据")]),t._v(" "),n("p",[t._v("Share Extension 使用 "),n("a",{attrs:{href:"https://developer.apple.com/documentation/uikit/uiviewcontroller/1621411-extensioncontext#",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("extensionContext")]),n("OutboundLink")],1),t._v(" 来获取数据")]),t._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" attachments "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("extensionContext"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("inputItems"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("first")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("NSExtensionItem")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("attachments "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" provider "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" attachments "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" contentType "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UTType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("identifier\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" provider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasItemConformingToTypeIdentifier")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("contentType"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  provider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadItem")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("forTypeIdentifier"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" contentType"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("nil")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("unowned")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("\n  \t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("guard")]),t._v(" error "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("nil")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("guard")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" url "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" data "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("URL")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" data "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("contentsOf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" data                                                               \n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br")])]),n("h2",{attrs:{id:"文件类型判断"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#文件类型判断"}},[t._v("#")]),t._v(" 文件类型判断")]),t._v(" "),n("p",[t._v("如果要指定 Share Extension 只能处理 PDF、Word 类型的文件，要怎么做呢？最好的方法是通过设置 "),n("code",[t._v("NSExtensionActivationRule")]),t._v(" 指定 Share Extension 支持的文件类型，比如下面申明 Share Extension 只支持一个 PDF 文件")]),t._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SUBQUERY")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    extensionItems"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    $extensionItem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SUBQUERY")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        $extensionItem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("attachments"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        $attachment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ANY")]),t._v(" $attachment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("registeredTypeIdentifiers "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UTI")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CONFORMS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TO")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.adobe.pdf"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("@"),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("count")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" $extensionItem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("attachments"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("@"),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("count")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("@"),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("count")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br")])]),n("p",[t._v("但是这个语法太生涩了，而且如果处理的类型太多，这个字符串也很长。还有一种办法是通过 "),n("a",{attrs:{href:"https://developer.apple.com/documentation/foundation/nsitemprovider",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("NSItemProvider")]),n("OutboundLink")],1),t._v(" 的 "),n("a",{attrs:{href:"https://developer.apple.com/documentation/foundation/nsitemprovider/1403921-hasitemconformingtotypeidentifie#",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("hasItemConformingToTypeIdentifier(_:)")]),n("OutboundLink")],1),t._v(" 判断是否是自己需要的文件类型。比如下面指定 Share Extension 只能处理 图片、PDF 和 Word 类型的文件。")]),t._v(" "),n("blockquote",[n("p",[n("code",[t._v("com.microsoft.word.doc")]),t._v(" 是 .doc Word 文件")]),t._v(" "),n("p",[n("code",[t._v("org.openxmlformats.wordprocessingml.document")]),t._v(" 是 .docx Word 文件")]),t._v(" "),n("p",[t._v("要想指定文件的 Type Id 请参考 "),n("a",{attrs:{href:"https://escapetech.eu/manuals/qdrop/uti.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Uniform Type Identifiers"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("如果在 "),n("a",{attrs:{href:"https://escapetech.eu/manuals/qdrop/uti.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Uniform Type Identifiers"),n("OutboundLink")],1),t._v(" 还没有找到，可以打印 "),n("code",[t._v("NSItemProvider")]),t._v(" 的 "),n("a",{attrs:{href:"https://developer.apple.com/documentation/foundation/nsitemprovider/1403923-registeredtypeidentifiers",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("registeredTypeIdentifiers")]),n("OutboundLink")],1),t._v(" 查看")]),t._v(" "),n("p",[t._v("比如 "),n("a",{attrs:{href:"https://daringfireball.net/linked/2011/08/05/markdown-uti",target:"_blank",rel:"noopener noreferrer"}},[t._v("Markdown"),n("OutboundLink")],1),t._v(" 文件的 Type Id 是 "),n("code",[t._v("net.daringfireball.markdown")])])]),t._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasItemConformingToTypeIds")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("provider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("NSItemProvider")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Bool")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ids "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UTType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UTType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pdf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("UTType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.microsoft.word.doc"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("UTType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"org.openxmlformats.wordprocessingml.document"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("compactMap "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" id "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" ids "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" provider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasItemConformingToTypeIdentifier")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("identifier"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br")])]),n("h2",{attrs:{id:"数据共享"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据共享"}},[t._v("#")]),t._v(" 数据共享")]),t._v(" "),n("p",[t._v("虽然 Extension 嵌套在 Containing app 中，但是他们不能直接访问彼此的容器，为了 Extension 和 Containing app 能共享数据，需要创建特殊的共享容器。")]),t._v(" "),n("p",[n("img",{attrs:{src:a(281),alt:""}})]),t._v(" "),n("h3",{attrs:{id:"app-groups"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#app-groups"}},[t._v("#")]),t._v(" App Groups")]),t._v(" "),n("p",[t._v("首先我们需要创建 App Groups。在 Extension 和 Containing app 中添加 "),n("code",[t._v("Capabilities")]),t._v(" -> "),n("code",[t._v("App Groups")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(282),alt:""}})]),t._v(" "),n("p",[t._v("然后就可以使用 UserDefaults、FileManager 、Core Data、SQLite、"),n("a",{attrs:{href:"https://developer.apple.com/documentation/foundation/nsfilecoordinator",target:"_blank",rel:"noopener noreferrer"}},[t._v("NSFileCoordinator"),n("OutboundLink")],1),t._v(" 访问共享容器。这里我们介绍前面两种方式。")]),t._v(" "),n("h3",{attrs:{id:"userdefaults"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#userdefaults"}},[t._v("#")]),t._v(" UserDefaults")]),t._v(" "),n("p",[t._v("使用 UserDefaults 有文件大小的限制，在我的手机（iPhoneXR 15.5）提示不能超过 4M.")]),t._v(" "),n("blockquote",[n("p",[t._v("Attempting to store >= 4194304 bytes of data in CFPreferences/NSUserDefaults on this platform is invalid. This is a bug in ImageShare or a library it uses.")])]),t._v(" "),n("h4",{attrs:{id:"extension"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#extension"}},[t._v("#")]),t._v(" Extension")]),t._v(" "),n("p",[t._v("保存数据")]),t._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" appGroupName "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"group.com.funnylearning.ShareDemo"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" userDefaults "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("UserDefaults")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("suiteName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" appGroupName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nuserDefaults"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imageData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" forKey"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"imageData"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("h4",{attrs:{id:"containing-app"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#containing-app"}},[t._v("#")]),t._v(" Containing app")]),t._v(" "),n("p",[t._v("读取数据")]),t._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" appGroupName "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"group.com.funnylearning.ShareDemo"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" userDefaults "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("UserDefaults")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("suiteName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" appGroupName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" imageData "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" userDefaults"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("forKey"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"imageData"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("h3",{attrs:{id:"filemanager"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#filemanager"}},[t._v("#")]),t._v(" FileManager")]),t._v(" "),n("h4",{attrs:{id:"extension-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#extension-2"}},[t._v("#")]),t._v(" Extension")]),t._v(" "),n("p",[t._v("保存数据")]),t._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" appGroupName "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"group.com.funnylearning.ShareDemo"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" documentsDirectory "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("FileManager")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("containerURL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("forSecurityApplicationGroupIdentifier"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" appGroupName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" archiveURL "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" documentsDirectory"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendingPathComponent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"file.data"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" imageData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" archiveURL"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Write data error ="')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n \t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br")])]),n("p",[t._v("更好的方式是使用 "),n("a",{attrs:{href:"https://developer.apple.com/documentation/foundation/filemanager/1412957-copyitem#",target:"_blank",rel:"noopener noreferrer"}},[t._v("copyItem(at:to:)"),n("OutboundLink")],1)]),t._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" fileManager "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("FileManager")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("guard")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" url "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" data "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("URL")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("guard")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" documentsDirectory "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fileManager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("containerURL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("forSecurityApplicationGroupIdentifier"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" appGroupName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                    \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" archiveURL "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" documentsDirectory"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendingPathComponent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"file.data"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" fileManager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fileExists")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("atPath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" archiveURL"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" fileManager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeItem")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("at"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" archiveURL"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" fileManager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("copyItem")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("at"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" archiveURL"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"FileManager Error = "')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br")])]),n("h4",{attrs:{id:"containing-app-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#containing-app-2"}},[t._v("#")]),t._v(" Containing App")]),t._v(" "),n("p",[t._v("读取数据")]),t._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" appGroupName "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"group.com.funnylearning.ShareDemo"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" documentsDirectory "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("FileManager")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("containerURL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("forSecurityApplicationGroupIdentifier"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" appGroupName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" archiveURL "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" documentsDirectory"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendingPathComponent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"file.data"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("FileManager")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fileExists")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("atPath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" archiveURL"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" imageData "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("contentsOf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" archiveURL"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" imageData\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br")])]),n("h2",{attrs:{id:"打开-containing-app"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#打开-containing-app"}},[t._v("#")]),t._v(" 打开 Containing App")]),t._v(" "),n("p",[t._v("iOS 只有 Today extension 和  iMessage app extension 通过 "),n("a",{attrs:{href:"https://developer.apple.com/documentation/foundation/nsextensioncontext",target:"_blank",rel:"noopener noreferrer"}},[t._v("NSExtensionContext"),n("OutboundLink")],1),t._v(" 的  "),n("a",{attrs:{href:"https://developer.apple.com/documentation/foundation/nsextensioncontext/1416791-open#",target:"_blank",rel:"noopener noreferrer"}},[t._v("open(_:completionHandler:)"),n("OutboundLink")],1),t._v(" 打开 Containing app，在 "),n("a",{attrs:{href:"https://stackoverflow.com/questions/27506413/share-extension-to-open-containing-app#44499222",target:"_blank",rel:"noopener noreferrer"}},[t._v("Stack Overflow"),n("OutboundLink")],1),t._v(" 上找到一个方法使别的 Extension 也能打开 Containing app.")]),t._v(" "),n("blockquote",[n("p",[t._v("在我的手机（iPhoneXR 15.5）上测试可行")])]),t._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("openURL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("URL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myapp://com.myapp.share"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token atrule"}},[t._v("@objc")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("openURL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("_")]),t._v(" url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("URL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Bool")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" responder"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIResponder")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" responder "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("nil")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" application "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" responder "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIApplication")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" application"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("perform")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("#"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("selector")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("openURL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("_")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" with"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("nil")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    responder "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" responder"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br")])]),n("h2",{attrs:{id:"自定义-ui"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#自定义-ui"}},[t._v("#")]),t._v(" 自定义 UI")]),t._v(" "),n("p",[t._v("如果不满意系统默认的 UI，我们可以自定义 UI。")]),t._v(" "),n("p",[t._v("删除 Xcode 自动创建的 ShareViewController，创建一个新的 CustomViewController，设置 view。")]),t._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Foundation")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIKit")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UniformTypeIdentifiers")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CustomViewController")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIViewController")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" imgView "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("UIImageView")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// MARK: - Init")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("viewDidLoad")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("viewDidLoad")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    view"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("backgroundColor "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIColor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("white\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setupNaviBar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setupView")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// MARK: - Setup")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extension")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("CustomViewController")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setupNaviBar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navigationItem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Share Demo"')]),t._v("\n        \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" itemCancel "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("UIBarButtonItem")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("barButtonSystemItem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cancel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("selector")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cancelAction"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navigationItem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setLeftBarButton")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("itemCancel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" animated"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" itemDone "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("UIBarButtonItem")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("barButtonSystemItem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("done"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("selector")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("doneAction"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navigationItem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setRightBarButton")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("itemDone"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" animated"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setupView")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    imgView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contentMode "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scaleAspectFit\n    view"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSubview")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imgView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   \n    imgView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("translatesAutoresizingMaskIntoConstraints "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n    \n    imgView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("topAnchor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("constraint")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("equalTo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" view"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("safeAreaLayoutGuide"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("topAnchor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" constant"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isActive "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    imgView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("leftAnchor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("constraint")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("equalTo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" view"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("safeAreaLayoutGuide"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("leftAnchor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" constant"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isActive "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    imgView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rightAnchor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("constraint")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("equalTo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" view"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("safeAreaLayoutGuide"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rightAnchor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" constant"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isActive "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    imgView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bottomAnchor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("constraint")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("equalTo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" view"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("safeAreaLayoutGuide"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bottomAnchor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" constant"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isActive "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadImageData")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n  "),n("span",{pre:!0,attrs:{class:"token atrule"}},[t._v("@objc")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" cancelAction "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" error "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("NSError")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("domain"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"some.bundle.identifier"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" code"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" userInfo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("NSLocalizedDescriptionKey")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"An error description"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    extensionContext"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cancelRequest")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("withError"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n  "),n("span",{pre:!0,attrs:{class:"token atrule"}},[t._v("@objc")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("doneAction")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    extensionContext"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("completeRequest")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("returningItems"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" completionHandler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("nil")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// MARK: - Private")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extension")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("CustomViewController")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadImageData")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" attachments "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("extensionContext"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("inputItems"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("first")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("NSExtensionItem")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("attachments "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("guard")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" provider "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" attachments"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("first")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" contentType "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UTType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("image"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("identifier\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("guard")]),t._v(" provider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasItemConformingToTypeIdentifier")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("contentType"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n       \n    provider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadItem")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("forTypeIdentifier"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" contentType"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                          options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("NSItemProviderPreferredImageSizeKey")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("CGSize")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("width"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" height"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("unowned")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("guard")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" url "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" data "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("URL")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("   \n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" imageData "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("contentsOf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" image "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("UIImage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" imageData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("DispatchQueue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("main"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("async "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("imgView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("image "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" image\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Read data error ="')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br"),n("span",{staticClass:"line-number"},[t._v("36")]),n("br"),n("span",{staticClass:"line-number"},[t._v("37")]),n("br"),n("span",{staticClass:"line-number"},[t._v("38")]),n("br"),n("span",{staticClass:"line-number"},[t._v("39")]),n("br"),n("span",{staticClass:"line-number"},[t._v("40")]),n("br"),n("span",{staticClass:"line-number"},[t._v("41")]),n("br"),n("span",{staticClass:"line-number"},[t._v("42")]),n("br"),n("span",{staticClass:"line-number"},[t._v("43")]),n("br"),n("span",{staticClass:"line-number"},[t._v("44")]),n("br"),n("span",{staticClass:"line-number"},[t._v("45")]),n("br"),n("span",{staticClass:"line-number"},[t._v("46")]),n("br"),n("span",{staticClass:"line-number"},[t._v("47")]),n("br"),n("span",{staticClass:"line-number"},[t._v("48")]),n("br"),n("span",{staticClass:"line-number"},[t._v("49")]),n("br"),n("span",{staticClass:"line-number"},[t._v("50")]),n("br"),n("span",{staticClass:"line-number"},[t._v("51")]),n("br"),n("span",{staticClass:"line-number"},[t._v("52")]),n("br"),n("span",{staticClass:"line-number"},[t._v("53")]),n("br"),n("span",{staticClass:"line-number"},[t._v("54")]),n("br"),n("span",{staticClass:"line-number"},[t._v("55")]),n("br"),n("span",{staticClass:"line-number"},[t._v("56")]),n("br"),n("span",{staticClass:"line-number"},[t._v("57")]),n("br"),n("span",{staticClass:"line-number"},[t._v("58")]),n("br"),n("span",{staticClass:"line-number"},[t._v("59")]),n("br"),n("span",{staticClass:"line-number"},[t._v("60")]),n("br"),n("span",{staticClass:"line-number"},[t._v("61")]),n("br"),n("span",{staticClass:"line-number"},[t._v("62")]),n("br"),n("span",{staticClass:"line-number"},[t._v("63")]),n("br"),n("span",{staticClass:"line-number"},[t._v("64")]),n("br"),n("span",{staticClass:"line-number"},[t._v("65")]),n("br"),n("span",{staticClass:"line-number"},[t._v("66")]),n("br"),n("span",{staticClass:"line-number"},[t._v("67")]),n("br"),n("span",{staticClass:"line-number"},[t._v("68")]),n("br"),n("span",{staticClass:"line-number"},[t._v("69")]),n("br"),n("span",{staticClass:"line-number"},[t._v("70")]),n("br"),n("span",{staticClass:"line-number"},[t._v("71")]),n("br"),n("span",{staticClass:"line-number"},[t._v("72")]),n("br"),n("span",{staticClass:"line-number"},[t._v("73")]),n("br")])]),n("p",[t._v("然后修改 MainInterface.storyboard 文件，添加 Navigation Controller，设置其 "),n("code",[t._v("rootViewController")]),t._v(" 为 CustomViewController。运行效果如下：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(283),alt:""}})]),t._v(" "),n("blockquote",[n("p",[n("a",{attrs:{href:"https://developer.apple.com/library/archive/documentation/General/Conceptual/ExtensibilityPG/Share.html#//apple_ref/doc/uid/TP40014214-CH12-SW5",target:"_blank",rel:"noopener noreferrer"}},[t._v("Design the UI"),n("OutboundLink")],1),t._v(" 文档上说可以通过 "),n("code",[t._v("Auto Layout constraints")]),t._v(" 或者 "),n("a",{attrs:{href:"https://developer.apple.com/documentation/uikit/uiviewcontroller/1621476-preferredcontentsize",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("preferredContentSize")]),n("OutboundLink")],1),t._v(" 调整 view 的高度，但是如果使用 Navigation Controller，UI 的高度不可调。")])]),t._v(" "),n("h2",{attrs:{id:"demo"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#demo"}},[t._v("#")]),t._v(" Demo")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://gitee.com/cp3hnu/share-demo",target:"_blank",rel:"noopener noreferrer"}},[t._v("share-demo"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"references"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[t._v("#")]),t._v(" References")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://developer.apple.com/library/archive/documentation/General/Conceptual/ExtensibilityPG/Share.html#//apple_ref/doc/uid/TP40014214-CH12-SW1",target:"_blank",rel:"noopener noreferrer"}},[t._v("Share Extension"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/AppExtensionKeys.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("App Extension Keys"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://escapetech.eu/manuals/qdrop/uti.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Uniform Type Identifiers"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://medium.com/macoclock/ios-share-extension-swift-5-1-1606263746b",target:"_blank",rel:"noopener noreferrer"}},[t._v("iOS Share extension — Swift 5.1"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://stackoverflow.com/questions/27506413/share-extension-to-open-containing-app#44499222",target:"_blank",rel:"noopener noreferrer"}},[t._v("StackOverflow - Share Extension to open containing app"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://developer.apple.com/library/archive/documentation/General/Conceptual/ExtensibilityPG/Share.html#//apple_ref/doc/uid/TP40014214-CH12-SW5",target:"_blank",rel:"noopener noreferrer"}},[t._v("Design the UI"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://diamantidis.github.io/2020/01/11/share-extension-custom-ui",target:"_blank",rel:"noopener noreferrer"}},[t._v("Custom UI for Share Extensions"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/nixzhu/Wormhole",target:"_blank",rel:"noopener noreferrer"}},[t._v("Wormhole"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);