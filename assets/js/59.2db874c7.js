(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{408:function(t,s,a){t.exports=a.p+"assets/img/214-1.5fa51b17.png"},409:function(t,s,a){t.exports=a.p+"assets/img/214-2.8022066e.png"},560:function(t,s,a){"use strict";a.r(s);var e=a(4),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"_214-implementing-dark-mode-on-ios"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_214-implementing-dark-mode-on-ios"}},[t._v("#")]),t._v(" 214-Implementing Dark Mode on iOS")]),t._v(" "),e("h2",{attrs:{id:"system-colors"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#system-colors"}},[t._v("#")]),t._v(" System Colors")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Color")]),t._v(" "),e("th",[t._v("Light")]),t._v(" "),e("th",[t._v("Dark")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("systemBackground")]),t._v(" "),e("td",[t._v("ffffff")]),t._v(" "),e("td",[t._v("000000")])]),t._v(" "),e("tr",[e("td",[t._v("secondarySystemBackground")]),t._v(" "),e("td",[t._v("f2f2f7")]),t._v(" "),e("td",[t._v("1c1c1e")])]),t._v(" "),e("tr",[e("td",[t._v("tertiarySystemBackground")]),t._v(" "),e("td",[t._v("ffffff")]),t._v(" "),e("td",[t._v("2c2c2e")])]),t._v(" "),e("tr",[e("td",[t._v("systemGroupedBackground")]),t._v(" "),e("td",[t._v("f2f2f7")]),t._v(" "),e("td",[t._v("000000")])]),t._v(" "),e("tr",[e("td",[t._v("secondarySystemGroupedBackground")]),t._v(" "),e("td",[t._v("ffffff")]),t._v(" "),e("td",[t._v("1c1c1e")])]),t._v(" "),e("tr",[e("td",[t._v("tertiarySystemGroupedBackground")]),t._v(" "),e("td",[t._v("f2f2f7")]),t._v(" "),e("td",[t._v("2c2c2e")])]),t._v(" "),e("tr",[e("td",[t._v("separator")]),t._v(" "),e("td",[t._v("3c3c43 0.29")]),t._v(" "),e("td",[t._v("545458 0.6")])]),t._v(" "),e("tr",[e("td",[t._v("opaqueSeparator")]),t._v(" "),e("td",[t._v("c6c6c8")]),t._v(" "),e("td",[t._v("38383a")])]),t._v(" "),e("tr",[e("td",[t._v("label")]),t._v(" "),e("td",[t._v("000000")]),t._v(" "),e("td",[t._v("ffffff")])]),t._v(" "),e("tr",[e("td",[t._v("secondaryLabel")]),t._v(" "),e("td",[t._v("3c3c43 0.6")]),t._v(" "),e("td",[t._v("ebebf5 0.6")])]),t._v(" "),e("tr",[e("td",[t._v("tertiaryLabel")]),t._v(" "),e("td",[t._v("3c3c43 0.3")]),t._v(" "),e("td",[t._v("ebebf5 0.3")])]),t._v(" "),e("tr",[e("td",[t._v("quaternaryLabel")]),t._v(" "),e("td",[t._v("3c3c43 0.18")]),t._v(" "),e("td",[t._v("ebebf5 0.18")])]),t._v(" "),e("tr",[e("td",[t._v("link")]),t._v(" "),e("td",[t._v("007aff")]),t._v(" "),e("td",[t._v("0984ff")])]),t._v(" "),e("tr",[e("td",[t._v("placeholderText")]),t._v(" "),e("td",[t._v("3c3c43 0.3")]),t._v(" "),e("td",[t._v("ebebf5 0.3")])]),t._v(" "),e("tr",[e("td",[t._v("systemFill")]),t._v(" "),e("td",[t._v("787880 0.2")]),t._v(" "),e("td",[t._v("787880 0.36")])]),t._v(" "),e("tr",[e("td",[t._v("secondarySystemFill")]),t._v(" "),e("td",[t._v("787880 0.16")]),t._v(" "),e("td",[t._v("787880 0.32")])]),t._v(" "),e("tr",[e("td",[t._v("tertiarySystemFill")]),t._v(" "),e("td",[t._v("767680 0.12")]),t._v(" "),e("td",[t._v("767680 0.24")])]),t._v(" "),e("tr",[e("td",[t._v("quaternarySystemFill")]),t._v(" "),e("td",[t._v("747480 0.08")]),t._v(" "),e("td",[t._v("767680 0.18")])])])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://developer.apple.com/design/human-interface-guidelines/ios/visual-design/color/#dynamic-system-colors",target:"_blank",rel:"noopener noreferrer"}},[e("strong",[t._v("Other System Colors")]),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"materials"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#materials"}},[t._v("#")]),t._v(" Materials")]),t._v(" "),e("h3",{attrs:{id:"uiblureffect"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#uiblureffect"}},[t._v("#")]),t._v(" UIBlurEffect")]),t._v(" "),e("p",[t._v("新增Style")]),t._v(" "),e("div",{staticClass:"language-swift line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-swift"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// dynamic")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" systemUltraThinMaterial "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" systemThinMaterial "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" systemMaterial "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" systemThickMaterial "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" systemChromeMaterial "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// light")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" systemUltraThinMaterialLight "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" systemThinMaterialLight "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" systemMaterialLight "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" systemThickMaterialLight "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" systemChromeMaterialLight "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// dark")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" systemUltraThinMaterialDark "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" systemThinMaterialDark "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" systemMaterialDark "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" systemThickMaterialDark "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" systemChromeMaterialDark "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br")])]),e("h3",{attrs:{id:"uivibrancyeffect"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#uivibrancyeffect"}},[t._v("#")]),t._v(" UIVibrancyEffect")]),t._v(" "),e("div",{staticClass:"language-swift line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-swift"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 新增 UIVibrancyEffectStyle")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// style会忽略 contentview 上的字体颜色")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("init")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("blurEffect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIBlurEffect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" style"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIVibrancyEffectStyle")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vibrancy for text labels.")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" label "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" secondaryLabel "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" tertiaryLabel "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" quaternaryLabel "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vibrancy for thicker filled areas.")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" fill "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" secondaryFill "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" tertiaryFill "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vibrancy for separator lines.")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" separator "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br")])]),e("h3",{attrs:{id:"demo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#demo"}},[t._v("#")]),t._v(" Demo")]),t._v(" "),e("div",{staticClass:"language-swift line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-swift"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" blur "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("UIBlurEffect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("style"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("systemMaterial"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" blurView "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("UIVisualEffectView")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("effect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" blur"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" vibrancy "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("UIVibrancyEffect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("blurEffect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" blur"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" style"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("label"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" vibrancyView "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("UIVisualEffectView")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("effect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" vibrancy"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" contentView "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("UIView")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nblurView"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contentView"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSubview")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vibrancyView"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nvibrancyView"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contentView"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSubview")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("contentView"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),e("h2",{attrs:{id:"flexible"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#flexible"}},[t._v("#")]),t._v(" Flexible")]),t._v(" "),e("h3",{attrs:{id:"uicolor-新增"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#uicolor-新增"}},[t._v("#")]),t._v(" UIColor 新增")]),t._v(" "),e("div",{staticClass:"language-swift line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-swift"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回 dynamic color 对应 traitCollection 的 color")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolvedColor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("with traitCollection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UITraitCollection")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIColor")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// dynamic color 初始化方法")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("init")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dynamicProvider"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" @escaping "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UITraitCollection")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIColor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("h3",{attrs:{id:"uitraitcollection"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#uitraitcollection"}},[t._v("#")]),t._v(" UITraitCollection")]),t._v(" "),e("div",{staticClass:"language-swift line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-swift"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// dark or light")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" userInterfaceStyle"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIUserInterfaceStyle")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// dark 模式下，base (全屏) or elevated (非全屏)")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" userInterfaceLevel"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIUserInterfaceLevel")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当前模式")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("var")]),t._v(" current"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UITraitCollection")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),e("h3",{attrs:{id:"dynamic-color-工作原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dynamic-color-工作原理"}},[t._v("#")]),t._v(" Dynamic color 工作原理")]),t._v(" "),e("div",{staticClass:"language-swift line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-swift"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BackgroundView")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIView")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("draw")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("_")]),t._v(" rect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("CGRect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// UIKit updates UITraitCollection.current before calling several well-known methods of UIView, UIViewController, and UIPresentationController")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// UIKit sets UITraitCollection.current = self.traitCollection")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 然后 UIKit 根据 UITraitCollection.current 解析出具体的颜色值")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当 mode 改变了，UIKit 会再次调用这个方法")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIColor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("systemBackground"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setFill")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("UIRectFill")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])]),e("p",[t._v("除 "),e("code",[t._v("draw")]),t._v(" 方法外还有下面这些方法，可以解析 dynamic color。当 mode 改变了，UIKit 也会调用这些方法。可以在这些方法里获取 "),e("code",[t._v("traitCollection")]),t._v(" ，然后改变颜色，比如 layer border color.")]),t._v(" "),e("p",[t._v("Layout is the best time to use trait")]),t._v(" "),e("p",[e("img",{attrs:{src:a(408),alt:""}})]),t._v(" "),e("h3",{attrs:{id:"border-color"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#border-color"}},[t._v("#")]),t._v(" Border Color")]),t._v(" "),e("div",{staticClass:"language-swift line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-swift"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Option 1")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" resolvedColor "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIColor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("label"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolvedColor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("with"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" traitCollection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nlayer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("borderColor "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" resolvedColor"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cgColor\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Option 2")]),t._v("\ntraitCollection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("performAsCurrent "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  layer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("borderColor "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIColor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("label"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cgColor\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Option 3")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" savedTraitCollection "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UITraitCollection")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current\n"),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UITraitCollection")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" traitCollection\nlayer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("borderColor "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIColor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("label"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cgColor\n"),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UITraitCollection")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" savedTraitCollection\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br")])]),e("h3",{attrs:{id:"when-dynamic-color-might-change"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#when-dynamic-color-might-change"}},[t._v("#")]),t._v(" When Dynamic Color Might Change")]),t._v(" "),e("p",[e("em",[t._v("UITraitCollection")]),t._v(" 新增 "),e("code",[t._v("hasDifferentColorAppearance")]),t._v(" 方法")]),t._v(" "),e("div",{staticClass:"language-swift line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-swift"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("traitCollectionDidChange")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("_")]),t._v(" previousTraitCollection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UITraitCollection")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("traitCollectionDidChange")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("previousTraitCollection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 只是颜色模式发生了改变")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" traitCollection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasDifferentColorAppearance")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("comparedTo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" previousTraitCollection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Resolve dynamic colors again")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),e("h3",{attrs:{id:"image"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#image"}},[t._v("#")]),t._v(" Image")]),t._v(" "),e("p",[e("em",[t._v("UIImageView")]),t._v(" 使用 "),e("code",[t._v("traitCollection")]),t._v(" 展示不同 mode 下的 image，如果你想自定义 image view，可以这么做")]),t._v(" "),e("div",{staticClass:"language-swift line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-swift"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" image "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("UIImage")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("named"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"HeaderImage"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" asset "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" image"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("imageAsset\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" resolvedImage "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" asset"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("with"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" traitCollection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("h3",{attrs:{id:"trait-collection-changes-in-ios-13"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#trait-collection-changes-in-ios-13"}},[t._v("#")]),t._v(" Trait Collection Changes in iOS 13")]),t._v(" "),e("p",[t._v("Traits are predicted during initialization")]),t._v(" "),e("p",[e("code",[t._v("traitCollectionDidChange(_:)")]),t._v(" will only be called if any of those initial traits change")]),t._v(" "),e("p",[t._v("A trait change may not occur when you moved into the hierarchy  as before.")]),t._v(" "),e("h3",{attrs:{id:"enable-debug-logging-with-launch-argument"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#enable-debug-logging-with-launch-argument"}},[t._v("#")]),t._v(" Enable debug logging with launch argument")]),t._v(" "),e("p",[t._v("-UITraitCollectionChangeLoggingEnabled YES")]),t._v(" "),e("p",[e("img",{attrs:{src:a(409),alt:""}})]),t._v(" "),e("h3",{attrs:{id:"overriding-user-interface-style"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#overriding-user-interface-style"}},[t._v("#")]),t._v(" Overriding User Interface Style")]),t._v(" "),e("p",[t._v("让 "),e("em",[t._v("UIViewController")]),t._v(" 或者 "),e("em",[t._v("UIView")]),t._v(" 只使用某一种 mode")]),t._v(" "),e("div",{staticClass:"language-swift line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-swift"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UIViewController")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" overrideUserInterfaceStyle"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIUserInterfaceStyle")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UIView")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" overrideUserInterfaceStyle"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIUserInterfaceStyle")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),e("p",[t._v("让整个 app 只使用某一种 mode")]),t._v(" "),e("p",[t._v("在 Info.plist 设置 "),e("em",[t._v("UIUserInterfaceStyle")]),t._v(" 为 Light or Dark")]),t._v(" "),e("h3",{attrs:{id:"overriding-traits"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#overriding-traits"}},[t._v("#")]),t._v(" Overriding Traits")]),t._v(" "),e("p",[t._v("Only specify values for traits you want to override, leave all of the other traits unspecified")]),t._v(" "),e("div",{staticClass:"language-swift line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-swift"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UIPresentationController")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" overrideTraitCollection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UITraitCollection")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UIViewController")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setOverrideTraitCollection")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("_")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UITraitCollection")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" forChild"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UIViewController")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])]),e("h3",{attrs:{id:"status-bar-style"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#status-bar-style"}},[t._v("#")]),t._v(" Status Bar Style")]),t._v(" "),e("p",[t._v("新增 darkContent 用于 light mode")]),t._v(" "),e("p",[t._v("原来的 lightContent 用于 dark mode")]),t._v(" "),e("h3",{attrs:{id:"uiactivityindicatorview-style"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#uiactivityindicatorview-style"}},[t._v("#")]),t._v(" UIActivityIndicatorView Style")]),t._v(" "),e("p",[t._v("废弃 gray, white, whiteLarge")]),t._v(" "),e("p",[t._v("新增 .medium .large, 使用 "),e("code",[t._v("color")]),t._v(" 属性设置颜色")]),t._v(" "),e("h3",{attrs:{id:"drawing-attributed-text"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#drawing-attributed-text"}},[t._v("#")]),t._v(" Drawing Attributed Text")]),t._v(" "),e("p",[t._v("使用 [.foregroundColor: UIColor.label] 设置文字颜色")])])}),[],!1,null,null,null);s.default=n.exports}}]);