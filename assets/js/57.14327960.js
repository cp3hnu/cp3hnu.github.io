(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{362:function(t,e,a){t.exports=a.p+"assets/img/record-audio-permission.127ebcf4.jpeg"},363:function(t,e,a){t.exports=a.p+"assets/img/record-audio-web-audio-workflow.a2e421fe.png"},535:function(t,e,a){"use strict";a.r(e);var s=a(4),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"æ‰‹æœºæµè§ˆå™¨å½•éŸ³"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ‰‹æœºæµè§ˆå™¨å½•éŸ³"}},[t._v("#")]),t._v(" æ‰‹æœºæµè§ˆå™¨å½•éŸ³")]),t._v(" "),s("p",[t._v("ä»Šå¤©æˆ‘ä»¬æ¥å®ç°æ‰‹æœºæµè§ˆå™¨çš„å½•éŸ³åŠŸèƒ½ï¼Œè®°å½•ç”¨æˆ·é€šè¿‡éº¦å…‹é£è¾“å…¥çš„è¯­éŸ³ï¼Œè½¬å­˜ä¸ºéŸ³é¢‘æ–‡ä»¶ï¼Œç„¶åè¿›è¡Œè¯­è¨€æ’­æ”¾ã€è¯­è¨€èŠå¤©æˆ–è€…è¯­è¨€è¯†åˆ«ç­‰ã€‚")]),t._v(" "),s("h2",{attrs:{id:"è·å–éº¦å…‹é£æƒé™"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è·å–éº¦å…‹é£æƒé™"}},[t._v("#")]),t._v(" è·å–éº¦å…‹é£æƒé™")]),t._v(" "),s("p",[t._v("é€šè¿‡ "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Navigator/mediaDevices",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("navigator.mediaDevices")]),s("OutboundLink")],1),t._v(" å±æ€§çš„ "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("getUserMedia()")]),s("OutboundLink")],1),t._v(" æ–¹æ³•ï¼Œè¯·æ±‚è·å–éº¦å…‹é£æƒé™ã€‚å¦‚æœç”¨æˆ·åŒæ„ï¼Œå°†è¿”å›ä¸€ä¸ª "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaStream",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("MediaStream")]),s("OutboundLink")],1),t._v(" å¯¹è±¡ resolve promiseï¼Œå¦‚æœç”¨æˆ·æ‹’ç»å°†è¿”å› "),s("code",[t._v("NotAllowedError")]),t._v(" çš„ reject promiseã€‚")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" stream "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" navigator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mediaDevices"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUserMedia")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  audio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[s("img",{attrs:{src:a(362),alt:""}})]),t._v(" "),s("h2",{attrs:{id:"å¼€å¯-https"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼€å¯-https"}},[t._v("#")]),t._v(" å¼€å¯ HTTPS")]),t._v(" "),s("p",[t._v("å¦‚æœä½ åœ¨ HTTP æœåŠ¡é‡Œè¿è¡Œä¸Šé¢çš„ä»£ç ï¼Œç¨‹åºå°†æŠ¥é”™ï¼Œå› ä¸ºåœ¨ HTTP æœåŠ¡é‡Œ "),s("code",[t._v("navigator.mediaDevices")]),t._v(" ä¸º "),s("code",[t._v("undefined")]),t._v("ã€‚ä» MDN æ–‡æ¡£å¾—çŸ¥ï¼Œ"),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("MediaDevices")]),s("OutboundLink")],1),t._v(" åªèƒ½ç”¨äº HTTPS æœåŠ¡")]),t._v(" "),s("blockquote",[s("p",[t._v("[!NOTE]")]),t._v(" "),s("p",[s("strong",[t._v("Secure context:")]),t._v(" This feature is available only in "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts",target:"_blank",rel:"noopener noreferrer"}},[t._v("secure contexts"),s("OutboundLink")],1),t._v(" (HTTPS), in some or all "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia#browser_compatibility",target:"_blank",rel:"noopener noreferrer"}},[t._v("supporting browsers"),s("OutboundLink")],1),t._v(".")])]),t._v(" "),s("p",[t._v("æ‰€ä»¥æˆ‘ä»¬é¦–å…ˆéœ€è¦å¼€å¯ HTTPS æœåŠ¡ã€‚æˆ‘è¿™ä¸ª demo æ˜¯ä½¿ç”¨ "),s("a",{attrs:{href:"https://github.com/http-party/http-server",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("http-server")]),s("OutboundLink")],1),t._v(" å¼€å¯ä¸€ä¸ª HTTP æœåŠ¡ï¼Œ"),s("a",{attrs:{href:"https://github.com/http-party/http-server",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("http-server")]),s("OutboundLink")],1),t._v(" ä¹Ÿå¯ä»¥å¼€å¯ä¸€ä¸ª "),s("a",{attrs:{href:"https://github.com/http-party/http-server?tab=readme-ov-file#tlsssl",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTPS æœåŠ¡"),s("OutboundLink")],1),t._v("ï¼Œåªéœ€è¦ä¸€ä¸ª SSL è¯ä¹¦å³å¯ã€‚ç”³è¯· SSL è¯ä¹¦æœ‰å¾ˆå¤šç§æ–¹æ³•")]),t._v(" "),s("ul",[s("li",[t._v("å»è¯ä¹¦é¢å‘æœºæ„ç”³è¯·è¯ä¹¦ï¼Œ"),s("a",{attrs:{href:"https://letsencrypt.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Letâ€™s Encrypt"),s("OutboundLink")],1),t._v("ã€"),s("a",{attrs:{href:"https://zerossl.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("ZeroSSL"),s("OutboundLink")],1),t._v(" å’Œ "),s("a",{attrs:{href:"https://www.cloudflare.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cloudflare"),s("OutboundLink")],1),t._v(" æ˜¯å…è´¹çš„è¯ä¹¦é¢å‘æœºæ„ï¼Œé€‚ç”¨äºå¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒï¼Œä½†æ˜¯éœ€è¦åŸŸå")]),t._v(" "),s("li",[t._v("ä½¿ç”¨å·¥å…·ç”Ÿæˆæœ¬åœ°è¯ä¹¦ï¼Œè¿™æ ·çš„å·¥å…·æœ‰ "),s("a",{attrs:{href:"https://github.com/FiloSottile/mkcert",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("mkcert")]),s("OutboundLink")],1),t._v("ã€"),s("a",{attrs:{href:"https://github.com/openssl/openssl",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("openssl")]),s("OutboundLink")],1),t._v(" å’Œ "),s("a",{attrs:{href:"https://github.com/caddyserver/caddy",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("caddy")]),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("å› ä¸ºæˆ‘æ˜¯æœ¬åœ°å¼€å¯ HTTPS æœåŠ¡ï¼Œæ²¡æœ‰åŸŸåï¼ŒåŒæ—¶éœ€è¦æ‰‹æœºç«¯ä¹Ÿæ­£å¸¸è®¿é—®ï¼Œæ‰€ä»¥æˆ‘ä½¿ç”¨ "),s("code",[t._v("mkcert")]),t._v(" ç”Ÿæˆ SSL è¯ä¹¦")]),t._v(" "),s("h3",{attrs:{id:"mkcert"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mkcert"}},[t._v("#")]),t._v(" "),s("code",[t._v("mkcert")])]),t._v(" "),s("h4",{attrs:{id:"å®‰è£…"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…"}},[t._v("#")]),t._v(" å®‰è£…")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("$ brew "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" mkcert\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h4",{attrs:{id:"åœ¨ç³»ç»Ÿä¸­å®‰è£…æœ¬åœ°è¯ä¹¦é¢å‘æœºæ„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨ç³»ç»Ÿä¸­å®‰è£…æœ¬åœ°è¯ä¹¦é¢å‘æœºæ„"}},[t._v("#")]),t._v(" åœ¨ç³»ç»Ÿä¸­å®‰è£…æœ¬åœ°è¯ä¹¦é¢å‘æœºæ„")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("$ mkcert -install\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h4",{attrs:{id:"ç”Ÿæˆè¯ä¹¦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç”Ÿæˆè¯ä¹¦"}},[t._v("#")]),t._v(" ç”Ÿæˆè¯ä¹¦")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("$ mkcert -cert-file cert.pem -key-file key.pem "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".0.102\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Created a new certificate valid for the following names ğŸ“œ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#  - "192.168.0.102"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# The certificate is at "cert.pem" and the key at "key.pem" âœ…')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h4",{attrs:{id:"æ‰‹æœºå®‰è£…æ ¹è¯ä¹¦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ‰‹æœºå®‰è£…æ ¹è¯ä¹¦"}},[t._v("#")]),t._v(" æ‰‹æœºå®‰è£…æ ¹è¯ä¹¦")]),t._v(" "),s("h5",{attrs:{id:"è·å–-mkcert-çš„æ ¹è¯ä¹¦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è·å–-mkcert-çš„æ ¹è¯ä¹¦"}},[t._v("#")]),t._v(" è·å– mkcert çš„æ ¹è¯ä¹¦")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("$ mkcert -CAROOT\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ~/Library/Application Support/mkcert")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("è¯¥å‘½ä»¤ä¼šè¾“å‡ºä¸€ä¸ªè·¯å¾„ï¼Œä¾‹å¦‚ "),s("code",[t._v("~/Library/Application Support/mkcert")])]),t._v(" "),s("p",[t._v("åœ¨è¿™ä¸ªè·¯å¾„ä¸‹ï¼Œä½ å¯ä»¥æ‰¾åˆ°æ ¹è¯ä¹¦æ–‡ä»¶ï¼Œé€šå¸¸æ˜¯ "),s("code",[t._v("rootCA.pem")]),t._v("ã€‚")]),t._v(" "),s("h5",{attrs:{id:"å°†æ ¹è¯ä¹¦å¯¼å…¥åˆ°-iphone"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å°†æ ¹è¯ä¹¦å¯¼å…¥åˆ°-iphone"}},[t._v("#")]),t._v(" å°†æ ¹è¯ä¹¦å¯¼å…¥åˆ° iPhone")]),t._v(" "),s("p",[t._v("å°†æ ¹è¯ä¹¦ "),s("code",[t._v("rootCA.pem")]),t._v(" å¯¼å…¥åˆ° iPhone")]),t._v(" "),s("h5",{attrs:{id:"å®‰è£…è¯ä¹¦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…è¯ä¹¦"}},[t._v("#")]),t._v(" å®‰è£…è¯ä¹¦")]),t._v(" "),s("p",[t._v("åœ¨ iPhone ä¸Šç‚¹å‡» "),s("code",[t._v("rootCA.pem")]),t._v("  æ–‡ä»¶ï¼Œå¹¶å®Œæˆå®‰è£…æ­¥éª¤ã€‚")]),t._v(" "),s("h5",{attrs:{id:"ä¿¡ä»»æ ¹è¯ä¹¦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¿¡ä»»æ ¹è¯ä¹¦"}},[t._v("#")]),t._v(" ä¿¡ä»»æ ¹è¯ä¹¦")]),t._v(" "),s("p",[t._v("å®‰è£…è¯ä¹¦åï¼Œè¿˜éœ€è¦å°†å…¶æ ‡è®°ä¸ºä¿¡ä»»ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("æ‰“å¼€ iPhone çš„ "),s("strong",[t._v("è®¾ç½®")])]),t._v(" "),s("li",[t._v("è¿›å…¥ "),s("strong",[t._v("é€šç”¨ > å…³äºæœ¬æœº > è¯ä¹¦ä¿¡ä»»è®¾ç½®")])]),t._v(" "),s("li",[t._v("æ‰¾åˆ°åˆšå®‰è£…çš„è¯ä¹¦ï¼Œå¯ç”¨å¯¹è¯¥è¯ä¹¦çš„å®Œå…¨ä¿¡ä»»")])]),t._v(" "),s("h3",{attrs:{id:"http-server"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http-server"}},[t._v("#")]),t._v(" "),s("code",[t._v("http-server")])]),t._v(" "),s("p",[t._v("ç”Ÿæˆå¹¶å®‰è£…è¯ä¹¦ä¹‹åå°±å¯ä»¥å¼€å¯ HTTPS æœåŠ¡äº†")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("$ http-server -S -C cert.pem\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# https://192.168.0.102:8080")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("åœ¨æ‰‹æœºç«¯è¾“å…¥ https://192.168.0.102:8080ï¼Œå°±å¯ä»¥è®¿é—® HTTPS æœåŠ¡äº†")]),t._v(" "),s("p",[t._v("å…¶å®ƒå¼€å¯ http æœåŠ¡çš„å·¥å…·ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œæ·»åŠ  SSL è¯ä¹¦å°±å¯ä»¥å¼€å¯ HTTPS æœåŠ¡ã€‚æœ‰äº›å·¥å…·ç”šè‡³å¸¦æœ‰è‡ªåŠ¨ç”Ÿæˆè¯ä¹¦çš„èƒ½åŠ›ï¼Œæ¯”å¦‚ "),s("a",{attrs:{href:"https://webpack.js.org/configuration/dev-server/#devserverserver",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("webpack-dev-server")]),s("OutboundLink")],1),t._v("ã€ "),s("a",{attrs:{href:"https://umijs.org/docs/api/config#https",target:"_blank",rel:"noopener noreferrer"}},[t._v("UmiJS"),s("OutboundLink")],1),t._v("ï¼Œè¯¦ç»†é…ç½®è¯·å‚ä»–ä»¬çš„å®˜æ–¹æ–‡æ¡£ã€‚")]),t._v(" "),s("h2",{attrs:{id:"å½•éŸ³"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å½•éŸ³"}},[t._v("#")]),t._v(" å½•éŸ³")]),t._v(" "),s("p",[t._v("ä½¿ç”¨ "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("MediaRecorder")]),s("OutboundLink")],1),t._v(" å®ç°å½•éŸ³åŠŸèƒ½ï¼Œ"),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("MediaRecorder")]),s("OutboundLink")],1),t._v(" çš„æ„é€ å‡½æ•°éœ€è¦ä¸€ä¸ª  "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaStream",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("MediaStream")]),s("OutboundLink")],1),t._v(" å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å¯ä»¥æ˜¯ä¸Šé¢é€šè¿‡ "),s("code",[t._v("navigator.mediaDevices.getUserMedia()")]),t._v(" æ–¹æ³•è·å–çš„ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/captureStream",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("HTMLCanvasElement.captureStream()")]),s("OutboundLink")],1),t._v(" æ–¹æ³•å’Œ "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/captureStream",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("HTMLMediaElement.captureStream()")]),s("OutboundLink")],1),t._v(" æ–¹æ³•è·å–ã€‚"),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("MediaRecorder")]),s("OutboundLink")],1),t._v(" çš„æ„é€ å‡½æ•°è¿˜æœ‰ä¸€ä¸ªå¯é€‰çš„ "),s("code",[t._v("options")]),t._v(" å¯¹è±¡ï¼Œæä¾›ä¸€äº›é…ç½®é€‰é¡¹ï¼Œæ¯”å¦‚åª’ä½“æ ¼å¼çš„ MIME ç±»å‹ï¼ˆ"),s("code",[t._v("mimeType")]),t._v("ï¼‰æˆ–è€…æ¯”ç‰¹ç‡ï¼ˆ"),s("code",[t._v("bitsPerSecond")]),t._v("ï¼‰ã€‚")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MediaRecorder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("è°ƒç”¨ "),s("code",[t._v("MediaRecorder")]),t._v(" çš„ "),s("code",[t._v("start()")]),t._v(" æ–¹æ³•å¼€å§‹å½•éŸ³ï¼Œå½“ MediaRecorder å°†åª’ä½“æ•°æ®ä¼ é€’ç»™åº”ç”¨ç¨‹åºæ—¶ï¼ŒMediaRecorder çš„ "),s("code",[t._v("dataavailable")]),t._v(" äº‹ä»¶å°±è¢«è§¦å‘ã€‚è¿™æ˜¯ä¸€ä¸ª "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/BlobEvent",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("BlobEvent")]),s("OutboundLink")],1),t._v(" ç±»å‹çš„äº‹ä»¶ï¼Œå®ƒçš„ data å±æ€§ä¸€ä¸ª "),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Blob",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("Blob")]),s("OutboundLink")],1),t._v(" å¯¹è±¡ï¼Œè¡¨ç¤ºå½•åˆ¶çš„åª’ä½“èµ„æºæ•°æ®")]),t._v(" "),s("p",[t._v("è°ƒç”¨ "),s("code",[t._v("MediaRecorder")]),t._v(" çš„ "),s("code",[t._v("stop()")]),t._v(" æ–¹æ³•åœæ­¢å½•éŸ³ã€‚è°ƒç”¨ "),s("code",[t._v("pause()")]),t._v(" æ–¹æ³•å’Œ "),s("code",[t._v("resume()")]),t._v(" æ–¹æ³•æš‚åœå’Œæ¢å¤å½•éŸ³ã€‚")]),t._v(" "),s("p",[t._v("é™æ€æ–¹æ³• "),s("code",[t._v("isTypeSupported()")]),t._v(" åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒæŸç§ MIME æ ¼å¼ã€‚")]),t._v(" "),s("p",[t._v("ä¸‹é¢æ˜¯å½•åˆ¶éŸ³é¢‘çš„ä¸€ä¸ªåˆ—å­")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" audioChunks "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" mediaRecorder\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼€å§‹å½•éŸ³")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("startRecording")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒå½•éŸ³")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("navigator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mediaDevices"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æµè§ˆå™¨ä¸æ”¯æŒå½•éŸ³ï¼'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¯·æ±‚éº¦å…‹é£æƒé™")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" stream "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" navigator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mediaDevices"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUserMedia")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      audio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åŠ¨æ€æ£€æµ‹æ”¯æŒçš„éŸ³é¢‘æ ¼å¼")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" audioType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("MediaRecorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isTypeSupported")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'audio/webm'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      audioType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'audio/webm'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("MediaRecorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isTypeSupported")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'audio/mp4'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      audioType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'audio/mp4'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æµè§ˆå™¨ä¸æ”¯æŒå½•éŸ³ï¼'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¸…ç©º chunk")]),t._v("\n    audioChunks "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆå§‹åŒ– MediaRecorder")]),t._v("\n    mediaRecorder "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MediaRecorder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" mimeType"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" audioType "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    mediaRecorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ”¶é›†å½•éŸ³æ•°æ®")]),t._v("\n    mediaRecorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dataavailable"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      audioChunks"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½•éŸ³ç»“æŸæ—¶ï¼Œç”Ÿæˆ Blob")]),t._v("\n    mediaRecorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stop"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°†éŸ³é¢‘æ•°æ®å—è½¬æ¢ä¸º Blob")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" audioBlob "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Blob")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("audioChunks"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" audioType "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”ŸæˆéŸ³é¢‘ URL")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" audioUrl "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("URL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createObjectURL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("audioBlob"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®éŸ³é¢‘ URL ä¸º <audio> çš„æ’­æ”¾æº")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// audioElement.src = audioUrl;")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"æ— æ³•è®¿é—®éº¦å…‹é£:"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœæ­¢å½•éŸ³")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stopRecording")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mediaRecorder "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" mediaRecorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recording"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    mediaRecorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stop")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br")])]),s("h2",{attrs:{id:"è®¾ç½®é‡‡æ ·ç‡å’Œå•é€šé“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è®¾ç½®é‡‡æ ·ç‡å’Œå•é€šé“"}},[t._v("#")]),t._v(" è®¾ç½®é‡‡æ ·ç‡å’Œå•é€šé“")]),t._v(" "),s("p",[t._v("å½•éŸ³ä¹‹åè¿›è¡Œè¯­éŸ³è¯†åˆ«ï¼Œè®¯é£çš„è¯­è¨€è¯†åˆ«åŠŸèƒ½è¦æ±‚é‡‡æ ·ç‡ 16000 Hz å’Œå•é€šé“")]),t._v(" "),s("h3",{attrs:{id:"æ¯”ç‰¹ç‡-vs-é‡‡æ ·ç‡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¯”ç‰¹ç‡-vs-é‡‡æ ·ç‡"}},[t._v("#")]),t._v(" æ¯”ç‰¹ç‡  VS é‡‡æ ·ç‡")]),t._v(" "),s("p",[t._v("åˆ›å»º "),s("code",[t._v("MediaRecorder")]),t._v(" æ—¶ï¼Œæœ‰ä¸€ä¸ª "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder/MediaRecorder#audiobitspersecond",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("audiobitspersecond")]),s("OutboundLink")],1),t._v(" å’Œ "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder/MediaRecorder#bitspersecond",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("bitspersecond")]),s("OutboundLink")],1),t._v(" é€‰é¡¹ï¼Œè¡¨ç¤ºåª’ä½“ç»„ä»¶çš„æ¯”ç‰¹ç‡ï¼ˆbitrateï¼‰ã€‚é‚£æ¯”ç‰¹ç‡å’Œé‡‡æ ·ç‡çš„åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå®ƒä»¬æ˜¯åŒä¸€ä¸ªä¸œè¥¿å—ï¼Ÿç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œå®ƒä»¬ä¸æ˜¯åŒä¸€ä¸ªä¸œè¥¿")]),t._v(" "),s("ul",[s("li",[t._v("æ¯”ç‰¹ç‡ï¼Œè¡¨ç¤ºæ¯ç§’é’Ÿä¼ è¾“çš„æ¯”ç‰¹æ•°ï¼ˆbitï¼‰ï¼Œæ˜¯è¡¡é‡æ•°æ®ä¼ è¾“é€Ÿåº¦çš„æŒ‡æ ‡ï¼Œé€šå¸¸ä»¥æ¯ç§’æ¯”ç‰¹æ•°ï¼ˆbpsï¼‰ã€åƒæ¯”ç‰¹æ¯ç§’ï¼ˆkbpsï¼‰æ¥è¡¡é‡ã€‚"),s("strong",[t._v("éŸ³é¢‘æ–‡ä»¶çš„æ¯”ç‰¹ç‡å†³å®šäº†å…¶éŸ³è´¨å’Œæ–‡ä»¶å¤§å°")]),t._v("ï¼Œä¾‹å¦‚ï¼Œä¸€ä¸ª 128 kbps çš„ MP3 æ–‡ä»¶æ¯ç§’åŒ…å« 128,000 æ¯”ç‰¹çš„éŸ³é¢‘æ•°æ®ã€‚")]),t._v(" "),s("li",[t._v("é‡‡æ ·ç‡ï¼Œè¿™æ˜¯æ¯ç§’ä»æ¨¡æ‹Ÿä¿¡å·ä¸­æ•è·çš„æ ·æœ¬æ•°é‡ï¼Œé€šå¸¸ä»¥åƒèµ«å…¹ï¼ˆkHzï¼‰ä¸ºå•ä½ã€‚éŸ³é¢‘é‡‡æ ·ç‡æ˜¯æŒ‡å½•éŸ³è®¾å¤‡åœ¨ä¸€ç§’é’Ÿå†…å¯¹å£°éŸ³ä¿¡å·çš„é‡‡æ ·æ¬¡æ•°ï¼Œé‡‡æ ·é¢‘ç‡è¶Šé«˜å£°éŸ³çš„è¿˜åŸå°±è¶ŠçœŸå®è¶Šè‡ªç„¶ã€‚æ¢å¥è¯è¯´ï¼š"),s("strong",[t._v("é‡‡æ ·ç‡è¶Šé«˜ï¼Œæ¬¡æ•°å°±è¶Šå¤šï¼Œå­˜çš„æ•°æ®å°±è¶Šç²¾ç»†ã€‚")])])]),t._v(" "),s("p",[t._v("é‚£è¦æ€ä¹ˆä¿®æ”¹é‡‡æ ·ç‡å‘¢ï¼Ÿ"),s("code",[t._v("MediaRecorder")]),t._v(" å¹¶æ²¡æœ‰æä¾›è®¾ç½®é‡‡æ ·ç‡çš„ APIï¼Œè¿™é‡Œå°±éœ€è¦ä½¿ç”¨ "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API",target:"_blank",rel:"noopener noreferrer"}},[t._v("Web Audio API"),s("OutboundLink")],1),t._v(" å’Œ "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/AudioContext",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("AudioContext")]),s("OutboundLink")],1),t._v(" å¤„ç† "),s("code",[t._v("MediaStream")])]),t._v(" "),s("h3",{attrs:{id:"web-audio-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#web-audio-api"}},[t._v("#")]),t._v(" Web Audio API")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API",target:"_blank",rel:"noopener noreferrer"}},[t._v("Web Audio API"),s("OutboundLink")],1),t._v(" çš„ä¸€èˆ¬å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("åˆ›å»ºä¸€ä¸ª "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/AudioContext",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("AudioContext")]),s("OutboundLink")],1),t._v(" éŸ³é¢‘ä¸Šä¸‹æ–‡")]),t._v(" "),s("li",[t._v("åœ¨éŸ³é¢‘ä¸Šä¸‹æ–‡é‡Œï¼Œåˆ›å»ºéŸ³é¢‘æºï¼ˆSourcesï¼‰ï¼Œæ¯”å¦‚ "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/AudioContext/createMediaStreamSource",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("createMediaStreamSource()")]),s("OutboundLink")],1),t._v(" æ–¹æ³•")]),t._v(" "),s("li",[t._v("åˆ›å»ºéŸ³æ•ˆèŠ‚ç‚¹ï¼ˆEffectsï¼‰ï¼Œå¦‚æ··å“ï¼Œè¿‡æ»¤å™¨ã€éŸ³é“åˆå¹¶ç­‰ï¼Œæ¯”å¦‚ "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/BaseAudioContext/createChannelMerger",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("createChannelMerger()")]),s("OutboundLink")],1),t._v(" æ–¹æ³•")]),t._v(" "),s("li",[t._v("é€‰æ‹©éŸ³é¢‘è¾“å‡ºçš„ç›®çš„åœ°ï¼ˆDestinationï¼‰ï¼Œæ¯”å¦‚è®¾å¤‡æ‰¬å£°å™¨")]),t._v(" "),s("li",[t._v("å°†éŸ³é¢‘æºè¿æ¥åˆ°éŸ³æ•ˆèŠ‚ç‚¹ï¼Œå†å°†éŸ³æ•ˆèŠ‚ç‚¹è¿æ¥åˆ°ç›®çš„åœ°ã€‚")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(363),alt:""}})]),t._v(" "),s("h3",{attrs:{id:"audiocontext"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#audiocontext"}},[t._v("#")]),t._v(" "),s("code",[t._v("AudioContext")])]),t._v(" "),s("p",[s("code",[t._v("AudioContext")]),t._v(" ä»£è¡¨äº†ä¸€ä¸ªç”±éŸ³é¢‘æ¨¡å—é“¾æ¥è€Œæˆçš„éŸ³é¢‘å¤„ç†å›¾ï¼Œå…¶ä¸­æ¯ä¸ªéŸ³é¢‘æ¨¡å—ç”± "),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/AudioNode",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("AudioNode")]),s("OutboundLink")],1),t._v(" è¡¨ç¤º")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AudioContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("code",[t._v("AudioContext")]),t._v(" çš„æ„é€ å‡½æ•°æœ‰ä¸€ä¸ªå¯é€‰çš„ "),s("code",[t._v("options")]),t._v(" å¯¹è±¡ï¼Œå…¶ä¸­ "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/AudioContext/AudioContext#samplerate",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("samplerate")]),s("OutboundLink")],1),t._v(" å¯ä»¥è®¾ç½®é‡‡æ ·ç‡")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/AudioContext/createMediaStreamSource",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("createMediaStreamSource()")]),s("OutboundLink")],1),t._v(" æ–¹æ³•ä» "),s("code",[t._v("MediaStream")]),t._v(" åˆ›å»ºä¸€ä¸ª "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamAudioSourceNode",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("MediaStreamAudioSourceNode")]),s("OutboundLink")],1),t._v(" å¯¹è±¡ï¼Œæ˜¯ä¸€ä¸ªä» stream ä¸­è·å¾—å…¶åª’ä½“çš„éŸ³é¢‘èŠ‚ç‚¹ã€‚")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/AudioContext/createMediaStreamDestination",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("createMediaStreamDestination()")]),s("OutboundLink")],1),t._v(" æ–¹æ³•ä»åˆ›å»ºä¸€ä¸ª "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamAudioDestinationNode",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("MediaStreamAudioDestinationNode")]),s("OutboundLink")],1),t._v(" å¯¹è±¡ï¼Œä»£è¡¨éŸ³é¢‘ç›®çš„åœ°ï¼Œå®ƒçš„ "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamAudioDestinationNode/stream",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("stream")]),s("OutboundLink")],1),t._v(" å±æ€§æ˜¯ä¸€ä¸ªåŒ…å«å•ä¸ªéŸ³é¢‘"),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamTrack",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("MediaStreamTrack")]),s("OutboundLink")],1),t._v(" çš„ "),s("code",[t._v("MediaStream")]),t._v("ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ­¤å±æ€§ä»éŸ³é¢‘å›¾å½¢ä¸­è·å–æµã€‚")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/BaseAudioContext",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("BaseAudioContext")]),s("OutboundLink")],1),t._v("ï¼ˆ"),s("code",[t._v("AudioContext")]),t._v(" ç»§æ‰¿ "),s("code",[t._v("BaseAudioContext")]),t._v("ï¼‰çš„ "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/BaseAudioContext/createChannelMerger",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("createChannelMerger()")]),s("OutboundLink")],1),t._v(" æ–¹æ³•åˆ›å»ºäº†ä¸€ä¸ª"),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/ChannelMergerNode",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("ChannelMergerNode")]),s("OutboundLink")],1),t._v("ï¼Œå®ƒå°†å¤šä¸ªéŸ³é¢‘æµä¸­çš„é€šé“åˆå¹¶ä¸ºå•ä¸ªéŸ³é¢‘æµã€‚")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/AudioNode",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("AudioNode")]),s("OutboundLink")],1),t._v(" æ¥å£çš„ "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/AudioNode/connect",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("connect()")]),s("OutboundLink")],1),t._v(" æ–¹æ³•å°†èŠ‚ç‚¹çš„è¾“å‡ºè¿æ¥åˆ°å¦ä¸€ä¸ªç›®æ ‡ä¸Šã€‚")]),t._v(" "),s("p",[t._v("å®ç°é‡‡æ ·ç‡ 16000 Hz å’Œå•é€šé“")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("startRecording")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–éº¦å…‹é£è¾“å…¥æµ")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" stream "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" navigator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mediaDevices"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUserMedia")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" audio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»º AudioContext")]),t._v("\n    audioContext "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AudioContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" sampleRate"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16000")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®ç›®æ ‡é‡‡æ ·ç‡")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" source "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" audioContext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createMediaStreamSource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºå•å£°é“å¤„ç†å™¨")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" channelMerger "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" audioContext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createChannelMerger")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿æ¥éŸ³é¢‘æµåˆ°å•å£°é“å¤„ç†å™¨")]),t._v("\n    source"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("channelMerger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºç›®æ ‡éŸ³é¢‘æµ")]),t._v("\n    mediaStreamDestination "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" audioContext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createMediaStreamDestination")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    channelMerger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mediaStreamDestination"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆå§‹åŒ– MediaRecorder")]),t._v("\n    mediaRecorder "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MediaRecorder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mediaStreamDestination"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    mediaRecorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"æ— æ³•è®¿é—®éº¦å…‹é£:"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br")])]),s("h2",{attrs:{id:"references"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[t._v("#")]),t._v(" References")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API",target:"_blank",rel:"noopener noreferrer"}},[t._v("MediaStream Recording API"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API",target:"_blank",rel:"noopener noreferrer"}},[t._v("Web Audio API"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API/Using_the_MediaStream_Recording_API",target:"_blank",rel:"noopener noreferrer"}},[t._v("Using the MediaStream Recording API"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element",target:"_blank",rel:"noopener noreferrer"}},[t._v("Recording a media element"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Media_Capture_and_Streams_API",target:"_blank",rel:"noopener noreferrer"}},[t._v("Media Capture and Streams API"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("MediaDevices")]),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("MediaRecorder")]),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaStream",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("MediaStream")]),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/BaseAudioContext",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("BaseAudioContext")]),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/AudioContext",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("AudioContext")]),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/AudioNode",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("AudioNode")]),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/http-party/http-server",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("http-party/http-server")]),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/FiloSottile/mkcert",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("FiloSottile/mkcert")]),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/mdn/dom-examples/blob/main/media/web-dictaphone/scripts/app.js",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("mdn/dom-examples")]),s("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=n.exports}}]);