(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{241:function(t,s,a){t.exports=a.p+"assets/img/220-1.9683b8e1.png"},242:function(t,s,a){t.exports=a.p+"assets/img/220-2.91087095.png"},486:function(t,s,a){"use strict";a.r(s);var n=a(4),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"diffable-data-source"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#diffable-data-source"}},[t._v("#")]),t._v(" Diffable Data Source")]),t._v(" "),n("h2",{attrs:{id:"data-source-ä½¿ç”¨ç°çŠ¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#data-source-ä½¿ç”¨ç°çŠ¶"}},[t._v("#")]),t._v(" Data Source ä½¿ç”¨ç°çŠ¶")]),t._v(" "),n("p",[t._v("åœ¨ iOS å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨ "),n("code",[t._v("UITableView")]),t._v(" å’Œ "),n("code",[t._v("UICollectionView")]),t._v(" ç»„ä»¶ï¼Œåœ¨è¿‡å»æˆ‘ä»¬é€šå¸¸ä½¿ç”¨ Data Source æ¥é…ç½®æ•°æ®æºã€‚åœ¨ç®€å•çš„ä¸šåŠ¡ä¸­æˆ‘ä»¬å¯ä»¥æ„‰å¿«çš„å®ç°å„ç§éœ€æ±‚ï¼Œå¯æ˜¯ä¸€æ—¦ä¸šåŠ¡å¤æ‚èµ·æ¥ï¼Œæ¯”å¦‚æ•°æ®æºå®æ—¶çš„å¢åˆ æ”¹ï¼Œæˆ‘ä»¬ç»å¸¸ä¸€ä¸å°å¿ƒå°±é‡åˆ° "),n("code",[t._v("NSInternalInconsistencyException")]),t._v("ï¼ˆæ•°æ®æºå’Œå½“å‰ UI çŠ¶æ€ä¸ä¸€è‡´ï¼‰çš„é—®é¢˜ï¼Œé‚£æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ")]),t._v(" "),n("p",[t._v("ä»¥å‰æœ‰ä¸¤ä¸ªè§£å†³æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªè§£å†³æ–¹æ³•æ˜¯ç®€å•ç²—æš´çš„è°ƒç”¨ "),n("code",[t._v("reloadData")]),t._v(" æ–¹æ³•ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ¡ˆæœ‰ä¸¤ä¸ªé—®é¢˜ï¼Œ1ã€å½±å“æ€§èƒ½ï¼Œæ•°æ®æºå¯èƒ½åªæœ‰ä¸€å¤„å‘ç”Ÿäº†å˜åŒ–ï¼Œè€Œ "),n("code",[t._v("reloadData")]),t._v(" åˆ·æ–°äº†æ•´ä¸ªåˆ—è¡¨æ•°æ®ï¼›2ã€æ²¡æœ‰åŠ¨ç”»æ•ˆæœï¼Œç”¨æˆ·ä¸èƒ½å¾ˆå¥½åœ°æ„ŸçŸ¥åˆ—è¡¨ä¸­å“ªé‡Œå‘ç”Ÿäº†å˜åŒ–ã€‚")]),t._v(" "),n("p",[t._v("ç¬¬äºŒä¸ªè§£å†³æ–¹æ³•æ˜¯ï¼Œæ‰‹åŠ¨å±€éƒ¨åˆ·æ–°ï¼Œä¾‹å¦‚ä¸‹é¢åˆ é™¤æŸä¸€è¡Œçš„ä»£ç ")]),t._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[t._v("tableView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("beginUpdates")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndata"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("indexPath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("row"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntableView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("deleteRows")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("at"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("indexPath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" with"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fade"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntableView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("endUpdates")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br")])]),n("p",[t._v("å°½ç®¡å¦‚ä¸Šä»£ç æ»¡è¶³éœ€æ±‚ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸å¾—ä¸è®¡ç®—éœ€è¦æ’å…¥æˆ–è€…åˆ é™¤çš„çš„ indexPaths ï¼Œè€Œä¸”ç¨æœ‰ä¸æ…æˆ‘ä»¬å°†ä¼šé‡åˆ°ä¸‹é¢è¿™ä¸ªç†Ÿæ‚‰çš„å¼‚å¸¸ğŸ˜±")]),t._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("*** Terminating app due to uncaught exception\n\n"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'NSInternalInconsistencyException'")]),t._v(",\n\nreason: "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Invalid update: invalid number of sections. The number of sections contained in the tableView view after the update (1) must be equal to the number of sections contained in the tableView view before the update (1), plus or minus the number of sections inserted or deleted (0 inserted, 1 deleted).'")]),t._v("\n\n***\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br")])]),n("p",[t._v("ä¸ºæ­¤ iOS 13 æå‡ºäº†æ–°çš„è§£å†³æ–¹æ¡ˆï¼Œ"),n("strong",[t._v("Diffable Data Source")])]),t._v(" "),n("h2",{attrs:{id:"new-apis"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#new-apis"}},[t._v("#")]),t._v(" New APIs")]),t._v(" "),n("p",[n("img",{attrs:{src:a(241),alt:""}})]),t._v(" "),n("p",[n("strong",[t._v("Diffable Data Source")]),t._v(" ï¼Œè®©å¼€å‘è€…å¯ä»¥æ›´ç®€å•é«˜æ•ˆçš„å®ç° "),n("code",[t._v("UITableView")]),t._v("ã€"),n("code",[t._v("UICollectionView")]),t._v(" çš„å±€éƒ¨æ•°æ®åˆ·æ–°ã€‚å…¶æ ¸å¿ƒæ€æƒ³å°±æ˜¯è®°å½•å˜åŒ–å‰å’Œå˜åŒ–åçš„æ•°æ®å¿«ç…§ï¼Œå†…éƒ¨è®¡ç®—ä¸¤æ¬¡å¿«ç…§çš„å·®å¼‚ï¼Œç„¶åæ›´æ–° UIã€‚")]),t._v(" "),n("blockquote",[n("p",[t._v("Noteï¼šåœ¨è½¯ä»¶å¼€å‘ä¸­ Diff æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µï¼Œæœ‰å¾ˆå¤šåº”ç”¨åœºæ™¯ï¼Œå¦‚ git ç‰ˆæœ¬ç®¡ç†ä¸­æ–‡ä»¶å˜æ›´åº”ç”¨ï¼›Reactä¸­è™šæ‹ŸDOM ç”¨ Diffç®—æ³•æ›´æ–° UI çŠ¶æ€ï¼›IGListKit é€šè¿‡ IGListDiff è‡ªåŠ¨è®¡ç®—å‰åä¸¤æ¬¡æ•°æ®æºçš„å·®å€¼ï¼Œå®ç°å±€éƒ¨æ•°æ®åˆ·æ–°ã€‚")])]),t._v(" "),n("p",[t._v("ç¬”è€…ä»¥ "),n("code",[t._v("UITableViewDiffableDataSource")]),t._v(" ä½œä¸ºåˆ‡å…¥ç‚¹è¿›è¡Œè®²è§£ï¼Œå…¶å®ƒä¸¤ä¸ªç”¨æ³•ç±»ä¼¼")]),t._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UITableViewDiffableDataSource")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("SectionIdentifierType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ItemIdentifierType")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("NSObject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UITableViewDataSource")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("SectionIdentifierType")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Hashable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ItemIdentifierType")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Hashable")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("æˆ‘ä»¬çœ‹åˆ° "),n("code",[t._v("UITableViewDiffableDataSource")]),t._v(" ç±»å®ç°äº† "),n("code",[t._v("UITableViewDataSource")]),t._v(" åè®®,  ç”¨æ¥ç»´æŠ¤  table view çš„æ•°æ®æºï¼ŒSection å’Œ Item éµå¾ª "),n("code",[t._v("IdentifierType")]),t._v("ï¼Œä»è€Œç¡®ä¿æ¯æ¡æ•°æ®çš„å”¯ä¸€æ€§ï¼Œåˆå§‹åŒ–æ–¹æ³•å¦‚ä¸‹ï¼š")]),t._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("init")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tableView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UITableView")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cellProvider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" @escaping "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UITableViewDiffableDataSource")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("SectionIdentifierType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ItemIdentifierType")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("CellProvider")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typealias")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UITableViewDiffableDataSource")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("SectionIdentifierType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ItemIdentifierType")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("CellProvider")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UITableView")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("IndexPath")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ItemIdentifierType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UITableViewCell")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("p",[t._v("ä½¿ç”¨è¿‡ RxCocoa çš„å¯èƒ½å¯¹ CellProvider å¾ˆçœ¼ç†Ÿï¼Œæ²¡é”™ä»¥åæˆ‘ä»¬å¯ä»¥åœ¨åˆå§‹åŒ–æ–¹æ³•ä¸­é…ç½® Cellï¼Œåœ¨æˆ‘ä»¬é…ç½®å¥½ "),n("code",[t._v("UITableViewDiffableDataSource")]),t._v(" åï¼Œä½¿ç”¨ "),n("code",[t._v("apply")]),t._v("  snapshot å¯¹ table view è¿›è¡Œåˆ·æ–°")]),t._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("_")]),t._v(" snapshot"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("NSDiffableDataSourceSnapshot")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("SectionIdentifierType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ItemIdentifierType")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" animatingDifferences"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Bool")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" completion"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Void")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("nil")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("é€šè¿‡ä½¿ç”¨ "),n("code",[t._v("apply")]),t._v(" æˆ‘ä»¬æ— éœ€è®¡ç®—å˜æ›´çš„ "),n("code",[t._v("indexPaths")]),t._v("ï¼Œä¹Ÿæ— éœ€è°ƒç”¨ "),n("code",[t._v("reloadData")]),t._v("æ–¹æ³•ï¼Œå³å¯å®‰å…¨åœ¨åœ¨ä¸»çº¿ç¨‹æˆ–"),n("strong",[t._v("åå°çº¿ç¨‹")]),t._v("æ›´æ–° UIï¼Œä»…ä»…åªéœ€è¦å°†å˜æ›´åçš„æ•°æ®é€šè¿‡ "),n("code",[t._v("NSDiffableDataSourceSnapshot")]),t._v(" è®¡ç®—å‡ºæ¥ï¼Œ"),n("code",[t._v("NSDiffableDataSourceSnapshot")]),t._v(" çš„å®šä¹‰å¦‚ä¸‹ï¼š")]),t._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NSDiffableDataSourceSnapshot")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("SectionIdentifierType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ItemIdentifierType")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("SectionIdentifierType")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Hashable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ItemIdentifierType")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Hashable")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("åˆ›å»º snapshot æœ‰ä¸¤ç§æ–¹æ³•")]),t._v(" "),n("ul",[n("li",[t._v("åˆ›å»ºä¸€ä¸ªç©ºçš„ snapshotï¼Œ ç„¶åé€šè¿‡  "),n("code",[t._v("append")]),t._v(" æ–¹æ³•æ·»åŠ æ•°æ®ã€‚")]),t._v(" "),n("li",[t._v("é€šè¿‡ diffable data source çš„ "),n("code",[t._v("snapshot()")]),t._v(" æ–¹æ³•è·å–å½“å‰çš„ snapshotï¼Œ ç„¶åé€šè¿‡  "),n("code",[t._v("append")]),t._v(" , "),n("code",[t._v("delete")]),t._v(", "),n("code",[t._v("move")]),t._v(", "),n("code",[t._v("insert")]),t._v(" æ–¹æ³•ä¿®æ”¹æ•°æ®ã€‚")])]),t._v(" "),n("p",[t._v("ä»‹ç»åˆ°åœ¨è¿™é‡Œ "),n("strong",[t._v("Diffable Data Source")]),t._v(" å…³é”®æ¦‚å¿µå·®ä¸å¤šä»‹ç»å®Œäº†ï¼Œè¿™é‡Œæ•´ç†ä¸€ä¸‹æµç¨‹")]),t._v(" "),n("ol",[n("li",[n("p",[n("code",[t._v("UITableViewDiffableDataSource")]),t._v(" è´Ÿè´£å½“å‰æ•°æ®æºé…ç½®ï¼Œæ¯”å¦‚é…ç½® cell")])]),t._v(" "),n("li",[n("p",[n("code",[t._v("NSDiffableDataSourceSnapshot")]),t._v(" è´Ÿè´£æ•°æ®æºçš„å˜æ›´")])]),t._v(" "),n("li",[n("p",[n("code",[t._v("UITableViewDiffableDataSource")]),t._v("  é€šè¿‡è°ƒç”¨ "),n("code",[t._v("apply")]),t._v(" æ–¹æ³•å°† "),n("code",[t._v("NSDiffableDataSourceSnapshot")]),t._v("  å˜æ›´åçš„æ•°æ®æ›´æ–°åŒæ­¥åˆ° "),n("code",[t._v("UITableView")]),t._v("ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ä¸ºäº†ç¡®ä¿ Diff ç”Ÿæ•ˆï¼Œæ‰€ä»¥æ•°æ®å¿…é¡»å…·æœ‰å”¯ä¸€ Identifierï¼Œä¸”éµå¾ª "),n("code",[t._v("Hashable")]),t._v(" åè®®")])])]),t._v(" "),n("h2",{attrs:{id:"demo"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#demo"}},[t._v("#")]),t._v(" Demo")]),t._v(" "),n("p",[t._v("ä»¥ "),n("a",{attrs:{href:"https://developer.apple.com/documentation/uikit/views_and_controls/collection_views/implementing_modern_collection_views",target:"_blank",rel:"noopener noreferrer"}},[t._v("Implementing Modern Collection Views"),n("OutboundLink")],1),t._v(" ä¸­çš„ Wifi Setting ä¸ºä¾‹")]),t._v(" "),n("p",[n("img",{attrs:{src:a(242),alt:""}})]),t._v(" "),n("ol",[n("li",[t._v("å®šä¹‰ "),n("code",[t._v("UITableViewDiffableDataSource")]),t._v("ï¼Œé…ç½® cell")])]),t._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataSource "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UITableViewDiffableDataSource")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Section")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Item")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tableView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" tableView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("weak")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tableView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UITableView")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" indexPath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("IndexPath")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" item"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Item")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("UITableViewCell")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("\n  \n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" cell "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tableView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("dequeueReusableCell")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    withIdentifier"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("WiFiSettingsViewController")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("reuseIdentifier"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" indexPath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é…ç½® cell")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" cell\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataSource"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaultRowAnimation "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fade\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br")])]),n("p",[t._v("å…³äº Section, Item çš„å®šä¹‰ï¼Œå…³é”®ä¸€ç‚¹æ˜¯è¦éµä»  "),n("code",[t._v("Hashable")]),t._v(" åè®®")]),t._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ²¡æœ‰ associated å€¼çš„æšä¸¾ç±»å‹è‡ªåŠ¨éµä» Hashable åè®®")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("enum")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Section")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("CaseIterable")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" networks\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Item")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Hashable")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("String")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ItemType")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" network"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("WiFiController")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Network")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" identifier"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UUID")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®ç° Hashable åè®®")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("hash")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("into hasher"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("inout")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Hasher")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    hasher"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("combine")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("identifier"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("å®šä¹‰ "),n("code",[t._v("NSDiffableDataSourceSnapshot")]),t._v("ï¼Œè´Ÿè´£æ•°æ®æºçš„å˜æ›´")])]),t._v(" "),n("div",{staticClass:"language-swift line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-swift"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" configItems "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" configurationItems"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentNetwork "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("controller"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wifiEnabled"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ncurrentSnapshot "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("NSDiffableDataSourceSnapshot")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Section")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Item")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ncurrentSnapshot"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendSections")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ncurrentSnapshot"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendItems")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("configItems"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" toSection"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" controller"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wifiEnabled "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" sortedNetworks "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" controller"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("availableNetworks"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("sorted")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" $"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" networkItems "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sortedNetworks"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("map")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Item")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("network"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  currentSnapshot"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendSections")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("networks"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  currentSnapshot"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendItems")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("networkItems"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" toSection"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("networks"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br")])]),n("ol",{attrs:{start:"3"}},[n("li",[t._v("è°ƒç”¨ "),n("code",[t._v("apply")]),t._v(" æ–¹æ³•å°† "),n("code",[t._v("NSDiffableDataSourceSnapshot")]),t._v("  å˜æ›´åçš„æ•°æ®æ›´æ–°åŒæ­¥åˆ° "),n("code",[t._v("UITableView")])])]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v(" self.dataSource.apply(currentSnapshot, animatingDifferences: animated)\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("h2",{attrs:{id:"å…¶å®ƒæ–¹é¢"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å…¶å®ƒæ–¹é¢"}},[t._v("#")]),t._v(" å…¶å®ƒæ–¹é¢")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("ä½¿ç”¨ "),n("code",[t._v("apply")]),t._v(" æ–¹æ³•ï¼Œä¸è¦å†ä½¿ç”¨è€å°± "),n("code",[t._v("performBatchUpdates")]),t._v(" , "),n("code",[t._v("insertItems")])])]),t._v(" "),n("li",[n("p",[t._v("æ–°çš„ APIsï¼Œä¸ä¼šåœ¨ç”¨çš„ indexPathï¼Œä½†æ˜¯ä»¥å‰çš„ APIs å¯èƒ½è¿˜éœ€è¦å®ƒï¼Œæ€ä¹ˆåŠï¼Ÿ"),n("code",[t._v("NSDiffableDataSourceSnapshot")]),t._v(" æä¾›äº†å¾ˆå¤šè½¬æ¢æ–¹æ³•")])]),t._v(" "),n("li",[n("p",[n("code",[t._v("apply")]),t._v(" æ–¹æ³•è¿è¡Œå¾ˆå¿«ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(N)")])]),t._v(" "),n("li",[n("p",[n("code",[t._v("apply")]),t._v(" æ–¹æ³•å¯ä»¥åœ¨åå°çº¿ç¨‹é‡Œå®‰å…¨çš„è¿è¡Œï¼Œå½“æ•°æ®å¾ˆå¤šå¾ˆå¤šæ—¶ï¼Œå¯ä»¥åœ¨åå°çº¿ç¨‹é‡Œè¿è¡Œ "),n("code",[t._v("apply")]),t._v(" æ–¹æ³•")])]),t._v(" "),n("li",[n("p",[t._v("Share Sheet å·²ç»é‡‡ç”¨æ–°çš„ APIs")])])]),t._v(" "),n("h2",{attrs:{id:"å‚è€ƒé˜…è¯»"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒé˜…è¯»"}},[t._v("#")]),t._v(" å‚è€ƒé˜…è¯»")]),t._v(" "),n("ul",[n("li",[t._v("Sample Code")])]),t._v(" "),n("p",[n("a",{attrs:{href:"https://developer.apple.com/documentation/uikit/views_and_controls/collection_views/implementing_modern_collection_views",target:"_blank",rel:"noopener noreferrer"}},[t._v("Implementing Modern Collection Views"),n("OutboundLink")],1)]),t._v(" "),n("ul",[n("li",[t._v("WWDC 2019 Session 220")])]),t._v(" "),n("p",[n("a",{attrs:{href:"https://developer.apple.com/videos/play/wwdc2019/220/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Advances in UI Data Sources"),n("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);