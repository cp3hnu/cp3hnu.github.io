(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{384:function(t,s,a){t.exports=a.p+"assets/img/doc-search-result.8ee30137.png"},385:function(t,s,a){t.exports=a.p+"assets/img/doc-search-component.ed4bde7c.png"},386:function(t,s,a){t.exports=a.p+"assets/img/doc-search-dashboard.a9e21019.png"},387:function(t,s,a){t.exports=a.p+"assets/img/doc-search-auth-meta-tag.d8da11b7.png"},388:function(t,s,a){t.exports=a.p+"assets/img/doc-search-create-crawler.0acc7805.png"},389:function(t,s,a){t.exports=a.p+"assets/img/doc-search-index.cd678a48.png"},390:function(t,s,a){t.exports=a.p+"assets/img/doc-serach-url-test.e1bbe053.png"},391:function(t,s,a){t.exports=a.p+"assets/img/doc-search-search-test.e793fd6c.png"},540:function(t,s,a){"use strict";a.r(s);var n=a(4),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"blog-集成-algolia-docsearch"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#blog-集成-algolia-docsearch"}},[t._v("#")]),t._v(" Blog 集成 Algolia DocSearch")]),t._v(" "),n("p",[t._v("我们在浏览技术网站的时候，发现现在很多的技术网站（比如：Vue、React、Vite）都使用了 "),n("a",{attrs:{href:"https://github.com/algolia/docsearch",target:"_blank",rel:"noopener noreferrer"}},[t._v("Algolia DocSearch"),n("OutboundLink")],1),t._v(" 对他们提供的内容进行搜索。今天我打算在本博客网站上也集成 Algolia DocSearch，以便对博客内容进行更好的搜索（以前只能搜索文章标题）。")]),t._v(" "),n("p",[t._v("本博客于 2019年使用 "),n("a",{attrs:{href:"https://v1.vuepress.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("VuePress v1"),n("OutboundLink")],1),t._v(" + "),n("a",{attrs:{href:"https://v1.vuepress.vuejs.org/zh/theme/blog-theme.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("博客主题"),n("OutboundLink")],1),t._v(" 搭建的。因为该 "),n("a",{attrs:{href:"https://github.com/vuepress/vuepress-theme-blog",target:"_blank",rel:"noopener noreferrer"}},[t._v("博客主题"),n("OutboundLink")],1),t._v(" 一直没有升级以支持 VuePress v2 以及之后的 "),n("a",{attrs:{href:"https://vitepress.dev/",target:"_blank",rel:"noopener noreferrer"}},[t._v("VitePress"),n("OutboundLink")],1),t._v("，而我也非常喜欢该主题的风格，因此也没有升级到 VuePress v2。以后打算改用 "),n("a",{attrs:{href:"https://vitepress.dev/",target:"_blank",rel:"noopener noreferrer"}},[t._v("VitePress"),n("OutboundLink")],1),t._v(" 或者 "),n("a",{attrs:{href:"https://astro.build/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Astro"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("p",[t._v("通过查看 "),n("a",{attrs:{href:"https://github.com/algolia/docsearch",target:"_blank",rel:"noopener noreferrer"}},[t._v("Algolia DocSearch"),n("OutboundLink")],1),t._v(" 的 GitHub 文档，我原以为只需 1~2 个小时就能集成 Algolia DocSearch，结果花了我一整个周末才搞定。实现的过程中也踩了不少的坑，因此想通过这篇文章记录下来。")]),t._v(" "),n("p",[t._v("实现的最终效果如下：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(384),alt:""}})]),t._v(" "),n("h2",{attrs:{id:"接入-docsearch"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#接入-docsearch"}},[t._v("#")]),t._v(" 接入 DocSearch")]),t._v(" "),n("blockquote",[n("p",[n("a",{attrs:{href:"https://v1.vuepress.vuejs.org/zh/theme/default-theme-config.html#algolia-%E6%90%9C%E7%B4%A2",target:"_blank",rel:"noopener noreferrer"}},[t._v("VuePress v1 的默认主题"),n("OutboundLink")],1),t._v(" 已经集成了 Algolia DocSearch，但是 "),n("a",{attrs:{href:"https://github.com/vuepress/vuepress-theme-blog",target:"_blank",rel:"noopener noreferrer"}},[t._v("博客主题"),n("OutboundLink")],1),t._v(" 不支持，需要自己手动配置。")])]),t._v(" "),n("p",[t._v("根据 "),n("a",{attrs:{href:"https://github.com/algolia/docsearch",target:"_blank",rel:"noopener noreferrer"}},[t._v("Algolia DocSearch"),n("OutboundLink")],1),t._v(" 的 GitHub 文档，接入 DocSearch 很简单")]),t._v(" "),n("ol",[n("li",[t._v("安装 DocSearch")])]),t._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" @docsearch/js@3\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("创建 "),n("a",{attrs:{href:"https://docsearch.algolia.com/apply",target:"_blank",rel:"noopener noreferrer"}},[t._v("Algolia DocSearch 项目"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("添加 DocSearch 挂载的容器")])]),t._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("docsearch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("ol",{attrs:{start:"4"}},[n("li",[t._v("在项目入口添加一段脚本")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" docsearch "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@docsearch/js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@docsearch/css'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("docsearch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  container"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#docsearch'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  appId"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'YOUR_APP_ID'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  indexName"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'YOUR_INDEX_NAME'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  apiKey"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'YOUR_SEARCH_API_KEY'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br")])]),n("p",[n("code",[t._v("appId")]),t._v(" 和 "),n("code",[t._v("apiKey")]),t._v(" 在刚才创建的 Algolia DocSearch 项目中可以找到")]),t._v(" "),n("p",[n("code",[t._v("container")]),t._v(" 就是 DocSearch 挂载的容器，支持 CSS 选择器或者Element 元素。")]),t._v(" "),n("p",[n("code",[t._v("indexName")]),t._v(" 是什么？文档中没有说明，即便是 "),n("a",{attrs:{href:"https://docsearch.algolia.com/docs/api#indexname",target:"_blank",rel:"noopener noreferrer"}},[t._v("DocSearch 官方文档 "),n("OutboundLink")],1),t._v("也只有简单的描述")]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("Your Algolia index name.\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("先不管了，空着。")]),t._v(" "),n("p",[t._v("回到我们的博客，界面上已经有了 DocSearch。但是搜索没有数据。")]),t._v(" "),n("p",[n("img",{attrs:{src:a(385),alt:""}})]),t._v(" "),n("h2",{attrs:{id:"crawler"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#crawler"}},[t._v("#")]),t._v(" Crawler")]),t._v(" "),n("h3",{attrs:{id:"indexname"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#indexname"}},[t._v("#")]),t._v(" "),n("code",[t._v("indexName")])]),t._v(" "),n("p",[t._v("没有查询到数据的根源就在于没有设置 "),n("code",[t._v("indexName")]),t._v(" 参数。那 "),n("code",[t._v("indexName")]),t._v(" 参数究竟代表什么？")]),t._v(" "),n("p",[t._v("其实 "),n("code",[t._v("indexName")]),t._v(" 就是你的网站内容索引数据库。就像后台 API 需要从数据库里获取数据一样，DocSearch 也是需要从索引数据库里检索数据。那这个数据库从何而来？DocSearch 通过 Crawler 抓取您的网页内容，生成索引数据库。")]),t._v(" "),n("h3",{attrs:{id:"创建-crawler"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建-crawler"}},[t._v("#")]),t._v(" 创建 Crawler")]),t._v(" "),n("p",[t._v("去到项目的"),n("a",{attrs:{href:"https://dashboard.algolia.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("工作台"),n("OutboundLink")],1),t._v('，点击 "Go To Crawler"，创建一个 Crawler')]),t._v(" "),n("p",[n("img",{attrs:{src:a(386),alt:""}})]),t._v(" "),n("p",[t._v("首先添加您网站的域名，并进行认证（需要证明是您的网站），Algolia 提供了四种认证方式：")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("Meta Tag")])]),t._v(" "),n("li",[n("code",[t._v("HTML file")])]),t._v(" "),n("li",[n("code",[t._v("Robots.txt")])]),t._v(" "),n("li",[n("code",[t._v("DNS")])])]),t._v(" "),n("p",[t._v("如果我们能控制源代码，最简单的方式是使用 "),n("code",[t._v("Meta Tag")]),t._v("。")]),t._v(" "),n("p",[n("img",{attrs:{src:a(387),alt:""}})]),t._v(" "),n("p",[t._v('添加上面的代码到 HMTL Head 标签下，点击 "Verify Now"。当认证通过后，就可以创建 Crawler。')]),t._v(" "),n("p",[n("img",{attrs:{src:a(388),alt:""}})]),t._v(" "),n("p",[t._v("输入 "),n("code",[t._v("Crawler name")]),t._v(" 和 "),n("code",[t._v("Start URL")]),t._v('，然后选择网页内容类型，这里我选择 "Technical documentation"。对于这个类型，DocSearch 提供了几种 '),n("a",{attrs:{href:"https://docsearch.algolia.com/docs/templates",target:"_blank",rel:"noopener noreferrer"}},[t._v("模版"),n("OutboundLink")],1),t._v(' 可供选择，我选择 "VuePress v1" 。如果选错了，也没有关系，后面还可以手动修改 Crawler 的配置。')]),t._v(" "),n("p",[t._v("创建好了之后，他会运行测试 crawl，测试 crawl 最多访问 100 个 URL。运行成功后您可以看到一个统计页面（访问了多少了页面，生成了多少个记录），并且生成了一个 "),n("code",[t._v("index")]),t._v("。")]),t._v(" "),n("p",[n("img",{attrs:{src:a(389),alt:""}})]),t._v(" "),n("p",[t._v("这个就是要填写的 "),n("code",[t._v("indexName")]),t._v(" 参数。")]),t._v(" "),n("p",[t._v("将这个值填写到 JS 代码里，运行程序，开始搜索。没有搜索到结果，并且控制台报错：")]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("Uncaught (in promise) TypeError: Cannot read properties of undefined (reading 'lvl0')\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("出错原因是索引（Index）数据库里的数据没有返回 "),n("strong",[t._v("hierarchy")]),t._v(" 字段，导致读取 "),n("strong",[t._v("hierarchy.lvl0")]),t._v(' 时报错。根本原因可能是我在创建 Crawrler 时，网页内容类型（What types of content do you want to crawl?）选择了 "General web pages"。如果您和我一样也选错了类型，不要慌，我们还可以手动修改 Crawler 配置。')]),t._v(" "),n("h2",{attrs:{id:"手动配置-crawler"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#手动配置-crawler"}},[t._v("#")]),t._v(" 手动配置 Crawler")]),t._v(" "),n("p",[t._v('进入 Crawler 页面，选择 "Configuration" 进行可视化配置，选择 "Editor" 进行代码配置。我们直接选择代码配置，他的功能更全。复制 '),n("a",{attrs:{href:"https://docsearch.algolia.com/docs/templates#vuepress-v1-template",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vuepress v1 Template"),n("OutboundLink")],1),t._v(" 的配置到 Editor。")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Crawler")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  appId"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'YOUR_APP_ID'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  apiKey"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'YOUR_API_KEY'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  rateLimit"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  maxDepth"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  schedule"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"on the 2 day of the month"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  startUrls"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://cp3hnu.github.io/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  sitemaps"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://YOUR_WEBSITE_URL/sitemap.xml'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  discoveryPatterns"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://YOUR_WEBSITE_URL/**'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  actions"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      indexName"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cp3hnu_github_io_du4vgyodoq_pages'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      pathsToMatch"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://cp3hnu.github.io/**'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("recordExtractor")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" helpers "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" helpers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("docsearch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          recordProps"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            lvl0"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              selectors"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'p.sidebar-heading.open'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              defaultValue"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Documentation'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            lvl1"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.content__default h1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            lvl2"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.content__default h2'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            lvl3"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.content__default h3'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            lvl4"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.content__default h4'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            lvl5"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.content__default h5'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            content"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.content__default p, .content__default li'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          indexHeadings"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          aggregateContent"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  initialIndexSettings"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    cp3hnu_github_io_du4vgyodoq_pages"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      attributesForFaceting"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'lang'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      attributesToRetrieve"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hierarchy'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'anchor'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      attributesToHighlight"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hierarchy'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hierarchy_camel'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      attributesToSnippet"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content:10'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      camelCaseAttributes"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hierarchy'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hierarchy_radio'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      searchableAttributes"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy_radio_camel.lvl0)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy_radio.lvl0)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy_radio_camel.lvl1)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy_radio.lvl1)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy_radio_camel.lvl2)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy_radio.lvl2)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy_radio_camel.lvl3)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy_radio.lvl3)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy_radio_camel.lvl4)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy_radio.lvl4)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy_radio_camel.lvl5)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy_radio.lvl5)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy_radio_camel.lvl6)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy_radio.lvl6)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy_camel.lvl0)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy.lvl0)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy_camel.lvl1)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy.lvl1)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy_camel.lvl2)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy.lvl2)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy_camel.lvl3)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy.lvl3)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy_camel.lvl4)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy.lvl4)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy_camel.lvl5)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy.lvl5)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy_camel.lvl6)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unordered(hierarchy.lvl6)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      distinct"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      attributeForDistinct"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      customRanking"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'desc(weight.pageRank)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'desc(weight.level)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'asc(weight.position)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      ranking"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'words'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'filters'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'typo'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'attribute'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'proximity'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'exact'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'custom'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      highlightPreTag"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<span class=\"algolia-docsearch-suggestion--highlight\">'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      highlightPostTag"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'</span>'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      minWordSizefor1Typo"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      minWordSizefor2Typos"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      allowTyposOnNumericTokens"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      minProximity"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      ignorePlurals"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      advancedSyntax"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      attributeCriteriaComputedByMinProximity"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      removeWordsIfNoResults"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'allOptional'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br"),n("span",{staticClass:"line-number"},[t._v("36")]),n("br"),n("span",{staticClass:"line-number"},[t._v("37")]),n("br"),n("span",{staticClass:"line-number"},[t._v("38")]),n("br"),n("span",{staticClass:"line-number"},[t._v("39")]),n("br"),n("span",{staticClass:"line-number"},[t._v("40")]),n("br"),n("span",{staticClass:"line-number"},[t._v("41")]),n("br"),n("span",{staticClass:"line-number"},[t._v("42")]),n("br"),n("span",{staticClass:"line-number"},[t._v("43")]),n("br"),n("span",{staticClass:"line-number"},[t._v("44")]),n("br"),n("span",{staticClass:"line-number"},[t._v("45")]),n("br"),n("span",{staticClass:"line-number"},[t._v("46")]),n("br"),n("span",{staticClass:"line-number"},[t._v("47")]),n("br"),n("span",{staticClass:"line-number"},[t._v("48")]),n("br"),n("span",{staticClass:"line-number"},[t._v("49")]),n("br"),n("span",{staticClass:"line-number"},[t._v("50")]),n("br"),n("span",{staticClass:"line-number"},[t._v("51")]),n("br"),n("span",{staticClass:"line-number"},[t._v("52")]),n("br"),n("span",{staticClass:"line-number"},[t._v("53")]),n("br"),n("span",{staticClass:"line-number"},[t._v("54")]),n("br"),n("span",{staticClass:"line-number"},[t._v("55")]),n("br"),n("span",{staticClass:"line-number"},[t._v("56")]),n("br"),n("span",{staticClass:"line-number"},[t._v("57")]),n("br"),n("span",{staticClass:"line-number"},[t._v("58")]),n("br"),n("span",{staticClass:"line-number"},[t._v("59")]),n("br"),n("span",{staticClass:"line-number"},[t._v("60")]),n("br"),n("span",{staticClass:"line-number"},[t._v("61")]),n("br"),n("span",{staticClass:"line-number"},[t._v("62")]),n("br"),n("span",{staticClass:"line-number"},[t._v("63")]),n("br"),n("span",{staticClass:"line-number"},[t._v("64")]),n("br"),n("span",{staticClass:"line-number"},[t._v("65")]),n("br"),n("span",{staticClass:"line-number"},[t._v("66")]),n("br"),n("span",{staticClass:"line-number"},[t._v("67")]),n("br"),n("span",{staticClass:"line-number"},[t._v("68")]),n("br"),n("span",{staticClass:"line-number"},[t._v("69")]),n("br"),n("span",{staticClass:"line-number"},[t._v("70")]),n("br"),n("span",{staticClass:"line-number"},[t._v("71")]),n("br"),n("span",{staticClass:"line-number"},[t._v("72")]),n("br"),n("span",{staticClass:"line-number"},[t._v("73")]),n("br"),n("span",{staticClass:"line-number"},[t._v("74")]),n("br"),n("span",{staticClass:"line-number"},[t._v("75")]),n("br"),n("span",{staticClass:"line-number"},[t._v("76")]),n("br"),n("span",{staticClass:"line-number"},[t._v("77")]),n("br"),n("span",{staticClass:"line-number"},[t._v("78")]),n("br"),n("span",{staticClass:"line-number"},[t._v("79")]),n("br"),n("span",{staticClass:"line-number"},[t._v("80")]),n("br"),n("span",{staticClass:"line-number"},[t._v("81")]),n("br"),n("span",{staticClass:"line-number"},[t._v("82")]),n("br"),n("span",{staticClass:"line-number"},[t._v("83")]),n("br"),n("span",{staticClass:"line-number"},[t._v("84")]),n("br"),n("span",{staticClass:"line-number"},[t._v("85")]),n("br"),n("span",{staticClass:"line-number"},[t._v("86")]),n("br"),n("span",{staticClass:"line-number"},[t._v("87")]),n("br"),n("span",{staticClass:"line-number"},[t._v("88")]),n("br"),n("span",{staticClass:"line-number"},[t._v("89")]),n("br"),n("span",{staticClass:"line-number"},[t._v("90")]),n("br"),n("span",{staticClass:"line-number"},[t._v("91")]),n("br"),n("span",{staticClass:"line-number"},[t._v("92")]),n("br"),n("span",{staticClass:"line-number"},[t._v("93")]),n("br"),n("span",{staticClass:"line-number"},[t._v("94")]),n("br"),n("span",{staticClass:"line-number"},[t._v("95")]),n("br"),n("span",{staticClass:"line-number"},[t._v("96")]),n("br"),n("span",{staticClass:"line-number"},[t._v("97")]),n("br"),n("span",{staticClass:"line-number"},[t._v("98")]),n("br"),n("span",{staticClass:"line-number"},[t._v("99")]),n("br"),n("span",{staticClass:"line-number"},[t._v("100")]),n("br")])]),n("h3",{attrs:{id:"crawler-的配置项"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#crawler-的配置项"}},[t._v("#")]),t._v(" Crawler 的配置项")]),t._v(" "),n("p",[t._v("Crawler 的配置项比较多，完整列表请参考 "),n("a",{attrs:{href:"https://www.algolia.com/doc/tools/crawler/apis/configuration/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Crawler Configuration"),n("OutboundLink")],1),t._v("。这里讲解几个比较重要的。")]),t._v(" "),n("h4",{attrs:{id:"starturls"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#starturls"}},[t._v("#")]),t._v(" "),n("code",[t._v("startUrls")])]),t._v(" "),n("p",[t._v("Crawler 的入口 URLs，一般设置为您网站的域名。")]),t._v(" "),n("h4",{attrs:{id:"discoverypatterns"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#discoverypatterns"}},[t._v("#")]),t._v(" "),n("code",[t._v("discoveryPatterns")])]),t._v(" "),n("p",[t._v("指示 Crawler 应该访问哪些网页，支持 "),n("a",{attrs:{href:"https://github.com/micromatch/micromatch",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("micromatch")]),n("OutboundLink")],1),t._v("。Crawler 会提取这些页面链接的页面，但不会从这些中间页面提取记录时。比如博客列表页面："),n("code",[t._v("https://cp3hnu.github.io/blog/page/xx")]),t._v("。")]),t._v(" "),n("h4",{attrs:{id:"exclusionpatterns"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#exclusionpatterns"}},[t._v("#")]),t._v(" "),n("code",[t._v("exclusionPatterns")])]),t._v(" "),n("p",[t._v("告诉 Crawler 要忽略或排除哪些 URL。支持 "),n("a",{attrs:{href:"https://github.com/micromatch/micromatch",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("micromatch")]),n("OutboundLink")],1),t._v("。后面有用到。")]),t._v(" "),n("h4",{attrs:{id:"sitemaps"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sitemaps"}},[t._v("#")]),t._v(" "),n("code",[t._v("sitemaps")])]),t._v(" "),n("p",[t._v("在 "),n("code",[t._v("sitemaps")]),t._v(" 中找到的 URL 被视为 Crawler 的起始点。后面有用到。")]),t._v(" "),n("h4",{attrs:{id:"actions"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#actions"}},[t._v("#")]),t._v(" "),n("code",[t._v("actions")])]),t._v(" "),n("p",[t._v("确定哪些网页以何种方式转换成 Algolia 记录。这是一个对象数组，也包含很多"),n("a",{attrs:{href:"https://www.algolia.com/doc/tools/crawler/apis/configuration/actions/",target:"_blank",rel:"noopener noreferrer"}},[t._v("参数"),n("OutboundLink")],1),t._v("，常用的有下面三个参数：")]),t._v(" "),n("h5",{attrs:{id:"indexname-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#indexname-2"}},[t._v("#")]),t._v(" "),n("code",[t._v("indexName")])]),t._v(" "),n("p",[t._v("操作对应的 Index（索引数据库）的名称")]),t._v(" "),n("h5",{attrs:{id:"pathstomatch"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pathstomatch"}},[t._v("#")]),t._v(" "),n("code",[t._v("pathsToMatch")])]),t._v(" "),n("p",[t._v("操作应该处理哪些网页。支持 "),n("a",{attrs:{href:"https://github.com/micromatch/micromatch",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("micromatch")]),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("h5",{attrs:{id:"recordextractor"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#recordextractor"}},[t._v("#")]),t._v(" "),n("code",[t._v("recordExtractor")])]),t._v(" "),n("p",[t._v("一个自定义 Javascript 函数，他从页面中提取所需的内容，生成 Algolia 记录，存于索引数据库里。这个函数返回 JSON 对象数组或空数组，如果是一个空数组，表示跳过该页。")]),t._v(" "),n("p",[t._v("Algolia  提供了多个内置的函数帮助我们快速集成，可以通过 "),n("code",[t._v("recordExtractor")]),t._v(" 的 "),n("code",[t._v("helpers")]),t._v(" 参数访问 。"),n("code",[t._v("helpers.docsearch")]),t._v(" 内置函数用于 DocSearch 集成，他提取文档的 H0~H5 标题以及文档内容，生成  Algolia 记录。")]),t._v(" "),n("p",[n("strong",[t._v("这里的关键就是，为了让 "),n("code",[t._v("helpers.docsearch")]),t._v(" 知道哪些是 H0~H5 标题以及文档内容，需要指定 "),n("code",[t._v("lvl0 ~ lvl5")]),t._v(" 以及 "),n("code",[t._v("content")]),t._v(" 对应的 CSS 选择器")]),t._v("。对于 VuePress v1，他的配置应该是这样的：")]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("{\n  lvl0: {\n    selectors: 'p.sidebar-heading.open',\n    defaultValue: 'Documentation',\n  },\n  lvl1: '.content__default h1',\n  lvl2: '.content__default h2',\n  lvl3: '.content__default h3',\n  lvl4: '.content__default h4',\n  lvl5: '.content__default h5',\n  content: '.content__default p, .content__default li',\n}\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br")])]),n("p",[t._v("关于 "),n("code",[t._v("helpers.docsearch")]),t._v(" 函数的更多详情，请参考 "),n("a",{attrs:{href:"https://docsearch.algolia.com/docs/record-extractor/#recordprops-api-reference",target:"_blank",rel:"noopener noreferrer"}},[t._v("Record Extractor"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("h4",{attrs:{id:"initialindexsettings"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#initialindexsettings"}},[t._v("#")]),t._v(" "),n("code",[t._v("initialIndexSettings")])]),t._v(" "),n("p",[t._v("Crawler 索引数据库的配置，参数更多，完整列表请参考 "),n("a",{attrs:{href:"https://www.algolia.com/doc/api-reference/settings-api-parameters/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Crawler Index Settings Parameters"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("h5",{attrs:{id:"attributestoretrieve"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#attributestoretrieve"}},[t._v("#")]),t._v(" "),n("code",[t._v("attributesToRetrieve")])]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.algolia.com/doc/api-reference/api-parameters/attributesToRetrieve/",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("attributesToRetrieve")]),n("OutboundLink")],1),t._v(" 参数控制抓取哪些属性，不抓取哪些属性。")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  attributesToRetrieve"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hierarchy'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'anchor'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("p",[n("code",[t._v("hierarchy")]),t._v(" 关键，之前的错误")]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("Uncaught (in promise) TypeError: Cannot read properties of undefined (reading 'lvl0')\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("就是因为没有抓取到 "),n("code",[t._v("hierarchy")]),t._v(" 值，导致读取 "),n("code",[t._v("hierarchy.lv10")]),t._v(" 值时报错。")]),t._v(" "),n("h5",{attrs:{id:"searchableattributes"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#searchableattributes"}},[t._v("#")]),t._v(" "),n("code",[t._v("searchableAttributes")])]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.algolia.com/doc/api-reference/api-parameters/searchableAttributes/",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("searchableAttributes")]),n("OutboundLink")],1),t._v(" 参数控制搜索时匹配哪些属性。数量越少，检索速度越快。越排在前面的属性优先级越高。DocSearch 提供的 VuePress v1 的模板有很多的属性，"),n("code",[t._v("hierarchy_radio")]),t._v("、"),n("code",[t._v("hierarchy_radio_camel")]),t._v("、"),n("code",[t._v("hierarchy_camel")]),t._v(" 好像没什么用，文档里也找不到它们的定义，因此我简化为")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   searchableAttributes"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unordered(hierarchy.lvl0)"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unordered(hierarchy.lvl1)"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unordered(hierarchy.lvl2)"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unordered(hierarchy.lvl3)"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unordered(hierarchy.lvl4)"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unordered(hierarchy.lvl5)"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unordered(hierarchy.lvl6)"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"content"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br")])]),n("p",[n("code",[t._v("unordered")]),t._v(" 是一个 "),n("a",{attrs:{href:"https://www.algolia.com/doc/api-reference/api-parameters/searchableAttributes/#modifiers",target:"_blank",rel:"noopener noreferrer"}},[t._v("Modifiers"),n("OutboundLink")],1),t._v("。忽略属性中匹配的位置。默认情况，从属性开头的匹配优先级更高。设置 "),n("code",[t._v("unordered")]),t._v(" 使所有匹配优先级相等，不管匹配的位置。")]),t._v(" "),n("h5",{attrs:{id:"attributestohighlight"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#attributestohighlight"}},[t._v("#")]),t._v(" "),n("code",[t._v("attributesToHighlight")])]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.algolia.com/doc/api-reference/api-parameters/attributesToHighlight/",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("attributesToHighlight")]),n("OutboundLink")],1),t._v(" 控制哪些属性要高亮显示。使用 "),n("code",[t._v("highlightPreTag")]),t._v(" 和 "),n("code",[t._v("highlightPostTag")]),t._v(" 元素进行包裹。")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  attributesToHighlight"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hierarchy"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"content"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("h5",{attrs:{id:"camelcaseattributes"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#camelcaseattributes"}},[t._v("#")]),t._v(" "),n("code",[t._v("camelCaseAttributes")])]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.algolia.com/doc/api-reference/api-parameters/camelCaseAttributes/",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("camelCaseAttributes")]),n("OutboundLink")],1),t._v(" 参数控制拆分哪些驼峰格式属性为多个单词，比如 "),n("code",[t._v("camelCaseAttributes")]),t._v(" 可以分成 3 个单词，"),n("code",[t._v("camel")]),t._v("、"),n("code",[t._v("case")]),t._v("、"),n("code",[t._v("attributes")]),t._v("， 这个一般用于英语环境中。")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("camelCaseAttributes"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hierarchy"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"content"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("h5",{attrs:{id:"attributefordistinct-和-distinct"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#attributefordistinct-和-distinct"}},[t._v("#")]),t._v(" "),n("code",[t._v("attributeForDistinct")]),t._v(" 和 "),n("code",[t._v("distinct")])]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.algolia.com/doc/api-reference/api-parameters/attributeForDistinct/",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("attributeForDistinct")]),n("OutboundLink")],1),t._v(" 和 "),n("a",{attrs:{href:"https://www.algolia.com/doc/api-reference/api-parameters/distinct/",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("distinct")]),n("OutboundLink")],1),t._v(" 两个参数控制分组的属性名称。")]),t._v(" "),n("p",[t._v("所有具有相同 "),n("code",[t._v("attributeForDistinct")]),t._v(" 值的记录都被视为一个组。一般设置为 "),n("code",[t._v("url")])]),t._v(" "),n("p",[n("code",[t._v("distinct")]),t._v(" 确定搜索结果中每组可以包含多少个变体（variant）。")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   attributeForDistinct"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"url"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   distinct"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br")])]),n("h5",{attrs:{id:"ranking"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ranking"}},[t._v("#")]),t._v(" "),n("code",[t._v("ranking")])]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.algolia.com/doc/api-reference/api-parameters/ranking/",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("ranking")]),n("OutboundLink")],1),t._v(" 参数确定排序方式。一般保留默认的排序即可。")]),t._v(" "),n("p",[t._v("排序策略请参考 "),n("a",{attrs:{href:"https://www.algolia.com/doc/api-reference/api-parameters/ranking/#ranking-criteria",target:"_blank",rel:"noopener noreferrer"}},[t._v("Ranking criteria"),n("OutboundLink")],1),t._v(" 和 "),n("a",{attrs:{href:"https://www.algolia.com/doc/guides/managing-results/relevance-overview/in-depth/ranking-criteria/#attribute-and-proximity-combinations",target:"_blank",rel:"noopener noreferrer"}},[t._v("The eight ranking criteria"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  ranking"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"words"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"filters"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"typo"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"attribute"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"proximity"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"exact"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"custom"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br")])]),n("h5",{attrs:{id:"customranking"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#customranking"}},[t._v("#")]),t._v(" "),n("code",[t._v("customRanking")])]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.algolia.com/doc/api-reference/api-parameters/customRanking/",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("customRanking")]),n("OutboundLink")],1),t._v(" 参数确定自定义排名属性。")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  customRanking"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"desc(weight.pageRank)"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"desc(weight.level)"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"asc(weight.position)"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br")])]),n("h5",{attrs:{id:"typotolerance"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#typotolerance"}},[t._v("#")]),t._v(" "),n("code",[t._v("typoTolerance")])]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.algolia.com/doc/api-reference/api-parameters/typoTolerance/",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("typoTolerance")]),n("OutboundLink")],1),t._v(" 参数控制是否允许错别字。")]),t._v(" "),n("h2",{attrs:{id:"验证"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#验证"}},[t._v("#")]),t._v(" 验证")]),t._v(" "),n("h3",{attrs:{id:"验证-crawler-配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#验证-crawler-配置"}},[t._v("#")]),t._v(" 验证 Crawler 配置")]),t._v(" "),n("p",[t._v('可以在 Crawler 的 "Editor" 页面验证 Crawler 配置')]),t._v(" "),n("p",[n("img",{attrs:{src:a(390),alt:""}})]),t._v(" "),n("h3",{attrs:{id:"验证-docsearch-搜索"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#验证-docsearch-搜索"}},[t._v("#")]),t._v(" 验证 DocSearch 搜索")]),t._v(" "),n("p",[t._v("可以在 Index 页面进行搜索验证")]),t._v(" "),n("p",[n("img",{attrs:{src:a(391),alt:""}})]),t._v(" "),n("h2",{attrs:{id:"创建-sitemaps"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建-sitemaps"}},[t._v("#")]),t._v(" 创建 Sitemaps")]),t._v(" "),n("p",[t._v("通过上一步配置 Crawler，现在搜索时不会报错了，而且可以搜索到内容了，但是在我使用的过程中发现，有些页面的内容搜索不到，通过查看 Crawler 的 "),n("code",[t._v("Monitoring tool")]),t._v(" 或者 "),n("code",[t._v("URL inspector")]),t._v(" 发现有些页面并没有被抓取。")]),t._v(" "),n("p",[t._v("原因是 VuePress 是根据 Markdown 文件自动生成 URL，Algolia Crawler 可能不知道（或者会漏掉）某些 URL。")]),t._v(" "),n("p",[t._v("一个解决办法是，手动将漏掉的 URL 添加到 "),n("a",{attrs:{href:"https://www.algolia.com/doc/tools/crawler/apis/configuration/extra-urls/",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("extraUrls")]),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  extraUrls"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://cp3hnu.github.io/2024/08/23/node-cli/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("p",[t._v("如果漏掉的 URL 很多，一个一个添加太麻烦了。更好的方式是使用 Sitemaps。Sitemaps 是网站管理员告知搜索引擎，网站有哪些页面可以抓取。Crawler 也使用 Sitemaps 抓取页面内容。")]),t._v(" "),n("p",[t._v("VuePress v1 可以使用 "),n("a",{attrs:{href:"https://github.com/ekoeryanto/vuepress-plugin-sitemap",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("vuepress-plugin-sitemap")]),n("OutboundLink")],1),t._v(" 插件帮我们创建 Sitemaps。")]),t._v(" "),n("p",[t._v("首先安装 "),n("code",[t._v("vuepress-plugin-sitemap")])]),t._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i -D vuepress-plugin-sitemap \n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("然后添加配置")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("plugins"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sitemap'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      hostname"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://cp3hnu.github.io'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ✅ 你的站点地址")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br")])]),n("p",[t._v("编译就会生成 "),n("code",[t._v("sitemap.xml")]),t._v(" 文件，然后我们修改 Crawler 配置。")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Crawler")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  sitemaps"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://cp3hnu.github.io/sitemap.xml'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("p",[t._v('点击 "Start Crawling" 重新抓取，此时网站上所有的页面内容都被抓取到了。')]),t._v(" "),n("h2",{attrs:{id:"排除-url"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#排除-url"}},[t._v("#")]),t._v(" 排除 URL")]),t._v(" "),n("p",[t._v("如果网站上有些内容不想被抓取，有哪些方法呢？我通过熟读 "),n("a",{attrs:{href:"https://www.algolia.com/doc/tools/crawler/getting-started/overview/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Algolia Crawler"),n("OutboundLink")],1),t._v(" 文档，总结出三种方法，由粗到细：")]),t._v(" "),n("h3",{attrs:{id:"exclusionpatterns-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#exclusionpatterns-2"}},[t._v("#")]),t._v(" "),n("code",[t._v("exclusionPatterns")])]),t._v(" "),n("p",[t._v("最简单的方式是使用 "),n("a",{attrs:{href:"https://www.algolia.com/doc/tools/crawler/apis/configuration/exclusion-patterns/",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("exclusionPatterns")]),n("OutboundLink")],1),t._v(" 配置，全局排除 URL，支持 "),n("a",{attrs:{href:"https://github.com/micromatch/micromatch",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("micromatch")]),n("OutboundLink")],1),t._v("。比如我不想 "),n("code",[t._v("https://cp3hnu.github.io/tag/")]),t._v(" 下的网页内容被抓取，可以这么设置：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("exclusionPatterns"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://cp3hnu.github.io/tag/**'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("h3",{attrs:{id:"actions-pathstomatch"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#actions-pathstomatch"}},[t._v("#")]),t._v(" "),n("code",[t._v("actions.pathsToMatch")])]),t._v(" "),n("p",[t._v("如果只是想排除某个 Action 抓取某些页面的内容，可以使用 "),n("code",[t._v("actions.pathsToMatch")]),t._v("，也支持 "),n("a",{attrs:{href:"https://github.com/micromatch/micromatch",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("micromatch")]),n("OutboundLink")],1),t._v("，但是需要是使用 negation 标识（"),n("code",[t._v("!")]),t._v("）。比如某些页面的数据格式跟您的 blog 页面的数据格式不同，就可以把这些页面排除出 blog 索引数据库。")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("actions"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    indexName"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cp3hnu_github_io_du4vgyodoq_pages'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    pathsToMatch"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://cp3hnu.github.io/**'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'!https://cp3hnu.github.io/product/**'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])]),n("h3",{attrs:{id:"actions-recordextractor"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#actions-recordextractor"}},[t._v("#")]),t._v(" "),n("code",[t._v("actions.recordExtractor")])]),t._v(" "),n("p",[t._v("如果 "),n("code",[t._v("actions.recordExtractor")]),t._v(" 返回一个空数组，表示忽略该页面的内容，可以更加细粒度的控制是否抓取某些页面的内容，比如可以根据查询字符串忽略页面的内容。")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("recordExtractor")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" contentLength"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fileType "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 排除包含特定查询字符串的 URL")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("includes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Itemid="')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回空数组，表示跳过")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])]),n("h2",{attrs:{id:"references"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[t._v("#")]),t._v(" References")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://www.algolia.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Algolia"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.algolia.com/doc/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Algolia Document"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://docsearch.algolia.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Algolia DocSearch Document"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/algolia/docsearch",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("algolia/docsearch")]),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.algolia.com/doc/tools/crawler/getting-started/overview/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Algolia Crawler"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://docsearch.algolia.com/docs/templates",target:"_blank",rel:"noopener noreferrer"}},[t._v("DocSearch 模版"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.algolia.com/doc/tools/crawler/apis/configuration/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Crawler Configuration"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.algolia.com/doc/tools/crawler/apis/configuration/actions/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Crawler Action Parameters"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://docsearch.algolia.com/docs/record-extractor/#recordprops-api-reference",target:"_blank",rel:"noopener noreferrer"}},[t._v("Crawler Record Extractor"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.algolia.com/doc/api-reference/settings-api-parameters/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Crawler Index Settings Parameters"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://v1.vuepress.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("VuePress v1"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://v1.vuepress.vuejs.org/zh/theme/default-theme-config.html#algolia-%E6%90%9C%E7%B4%A2",target:"_blank",rel:"noopener noreferrer"}},[t._v("VuePress v1 默认主题"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://v1.vuepress.vuejs.org/zh/theme/blog-theme.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("VuePress v1 博客主题"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://vitepress.dev/",target:"_blank",rel:"noopener noreferrer"}},[t._v("VitePress"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://astro.build/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Astro"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/ekoeryanto/vuepress-plugin-sitemap",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("ekoeryanto/vuepress-plugin-sitemap")]),n("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);