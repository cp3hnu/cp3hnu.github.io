<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>416-Binary Frameworks in Swift | Study &amp; Product</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    <meta name="description" content="
Overview

Introducing XCFrameworks
Creating an XCFramework
Framework author considerations ...">
    <meta name="algolia-site-verification" content="23333450F18E92C1">
    
    <link rel="preload" href="/assets/css/0.styles.cd1f7b12.css" as="style"><link rel="preload" href="/assets/js/app.b07256e7.js" as="script"><link rel="preload" href="/assets/js/34.49b71b2c.js" as="script"><link rel="preload" href="/assets/js/5.373c53f3.js" as="script"><link rel="preload" href="/assets/js/76.2ed620b3.js" as="script"><link rel="prefetch" href="/assets/js/10.7c5bc6fc.js"><link rel="prefetch" href="/assets/js/100.f675d046.js"><link rel="prefetch" href="/assets/js/101.92ede1ec.js"><link rel="prefetch" href="/assets/js/102.678a907d.js"><link rel="prefetch" href="/assets/js/103.959ad108.js"><link rel="prefetch" href="/assets/js/104.b15677eb.js"><link rel="prefetch" href="/assets/js/105.377da8a5.js"><link rel="prefetch" href="/assets/js/106.29a8c44d.js"><link rel="prefetch" href="/assets/js/107.64b19904.js"><link rel="prefetch" href="/assets/js/108.a3e75a67.js"><link rel="prefetch" href="/assets/js/109.283d92d8.js"><link rel="prefetch" href="/assets/js/11.e6a0311f.js"><link rel="prefetch" href="/assets/js/110.cbb6ea81.js"><link rel="prefetch" href="/assets/js/111.252f143f.js"><link rel="prefetch" href="/assets/js/112.df62c9fe.js"><link rel="prefetch" href="/assets/js/113.66189350.js"><link rel="prefetch" href="/assets/js/114.890cd7de.js"><link rel="prefetch" href="/assets/js/115.53823707.js"><link rel="prefetch" href="/assets/js/116.caaa6eaa.js"><link rel="prefetch" href="/assets/js/117.b7b0f88f.js"><link rel="prefetch" href="/assets/js/118.03168974.js"><link rel="prefetch" href="/assets/js/119.90f4d7b7.js"><link rel="prefetch" href="/assets/js/12.8da07182.js"><link rel="prefetch" href="/assets/js/120.b654e5ee.js"><link rel="prefetch" href="/assets/js/121.92d87086.js"><link rel="prefetch" href="/assets/js/13.a9f90626.js"><link rel="prefetch" href="/assets/js/14.b18d5210.js"><link rel="prefetch" href="/assets/js/15.835c7671.js"><link rel="prefetch" href="/assets/js/16.eb29ed80.js"><link rel="prefetch" href="/assets/js/17.c4871518.js"><link rel="prefetch" href="/assets/js/18.606b879c.js"><link rel="prefetch" href="/assets/js/19.777086a8.js"><link rel="prefetch" href="/assets/js/20.c8e69fcc.js"><link rel="prefetch" href="/assets/js/21.6cda2658.js"><link rel="prefetch" href="/assets/js/22.19e356e1.js"><link rel="prefetch" href="/assets/js/23.ca8661ea.js"><link rel="prefetch" href="/assets/js/24.9f090eaf.js"><link rel="prefetch" href="/assets/js/25.be2c8a0c.js"><link rel="prefetch" href="/assets/js/26.5ce52eaa.js"><link rel="prefetch" href="/assets/js/27.d75e1151.js"><link rel="prefetch" href="/assets/js/28.6863d7e4.js"><link rel="prefetch" href="/assets/js/29.d8a1c4f2.js"><link rel="prefetch" href="/assets/js/3.276926dd.js"><link rel="prefetch" href="/assets/js/30.178b8dc0.js"><link rel="prefetch" href="/assets/js/31.4c488d0e.js"><link rel="prefetch" href="/assets/js/32.ce3ae3c7.js"><link rel="prefetch" href="/assets/js/33.828dd0d1.js"><link rel="prefetch" href="/assets/js/35.9496ed4c.js"><link rel="prefetch" href="/assets/js/36.33ada8e1.js"><link rel="prefetch" href="/assets/js/37.e9705ffe.js"><link rel="prefetch" href="/assets/js/38.f9c57096.js"><link rel="prefetch" href="/assets/js/39.75b77f83.js"><link rel="prefetch" href="/assets/js/4.c651aa9d.js"><link rel="prefetch" href="/assets/js/40.4496a5db.js"><link rel="prefetch" href="/assets/js/41.260393e3.js"><link rel="prefetch" href="/assets/js/42.083f9350.js"><link rel="prefetch" href="/assets/js/43.8d311a8e.js"><link rel="prefetch" href="/assets/js/44.df55763b.js"><link rel="prefetch" href="/assets/js/45.e19037c7.js"><link rel="prefetch" href="/assets/js/46.9529f37b.js"><link rel="prefetch" href="/assets/js/47.8d631e39.js"><link rel="prefetch" href="/assets/js/48.3acad59c.js"><link rel="prefetch" href="/assets/js/49.9a12a900.js"><link rel="prefetch" href="/assets/js/50.f30877b8.js"><link rel="prefetch" href="/assets/js/51.e8b2adf9.js"><link rel="prefetch" href="/assets/js/52.e6a458bb.js"><link rel="prefetch" href="/assets/js/53.e4027d0c.js"><link rel="prefetch" href="/assets/js/54.5a4be38d.js"><link rel="prefetch" href="/assets/js/55.924ee4f8.js"><link rel="prefetch" href="/assets/js/56.11ff1ccf.js"><link rel="prefetch" href="/assets/js/57.14327960.js"><link rel="prefetch" href="/assets/js/58.cea182b0.js"><link rel="prefetch" href="/assets/js/59.2db874c7.js"><link rel="prefetch" href="/assets/js/6.6878fac4.js"><link rel="prefetch" href="/assets/js/60.e3e4017b.js"><link rel="prefetch" href="/assets/js/61.d5cd385e.js"><link rel="prefetch" href="/assets/js/62.6929f93f.js"><link rel="prefetch" href="/assets/js/63.3f8bf719.js"><link rel="prefetch" href="/assets/js/64.e89e1572.js"><link rel="prefetch" href="/assets/js/65.a4335c65.js"><link rel="prefetch" href="/assets/js/66.cc9fb484.js"><link rel="prefetch" href="/assets/js/67.d5da8f2f.js"><link rel="prefetch" href="/assets/js/68.91a38f6d.js"><link rel="prefetch" href="/assets/js/69.800ca600.js"><link rel="prefetch" href="/assets/js/7.6f2558ea.js"><link rel="prefetch" href="/assets/js/70.f7b16ee7.js"><link rel="prefetch" href="/assets/js/71.e34929dc.js"><link rel="prefetch" href="/assets/js/72.175a64bf.js"><link rel="prefetch" href="/assets/js/73.c3dcfd4b.js"><link rel="prefetch" href="/assets/js/74.65978082.js"><link rel="prefetch" href="/assets/js/75.718d5152.js"><link rel="prefetch" href="/assets/js/77.f8726387.js"><link rel="prefetch" href="/assets/js/78.1dea2e59.js"><link rel="prefetch" href="/assets/js/79.f62213a1.js"><link rel="prefetch" href="/assets/js/8.81ebcef8.js"><link rel="prefetch" href="/assets/js/80.7600ac29.js"><link rel="prefetch" href="/assets/js/81.ab94746f.js"><link rel="prefetch" href="/assets/js/82.26baf7f8.js"><link rel="prefetch" href="/assets/js/83.89a3942a.js"><link rel="prefetch" href="/assets/js/84.1a5577ac.js"><link rel="prefetch" href="/assets/js/85.eb62de22.js"><link rel="prefetch" href="/assets/js/86.7635121c.js"><link rel="prefetch" href="/assets/js/87.5bee4d72.js"><link rel="prefetch" href="/assets/js/88.04d56860.js"><link rel="prefetch" href="/assets/js/89.09a7d920.js"><link rel="prefetch" href="/assets/js/9.7f69b9b1.js"><link rel="prefetch" href="/assets/js/90.dac6a66e.js"><link rel="prefetch" href="/assets/js/91.14f101dd.js"><link rel="prefetch" href="/assets/js/92.d398eb09.js"><link rel="prefetch" href="/assets/js/93.7a5477fa.js"><link rel="prefetch" href="/assets/js/94.c4bf7674.js"><link rel="prefetch" href="/assets/js/95.a0c3c94c.js"><link rel="prefetch" href="/assets/js/96.c3a44db5.js"><link rel="prefetch" href="/assets/js/97.6956ed39.js"><link rel="prefetch" href="/assets/js/98.ad65fe08.js"><link rel="prefetch" href="/assets/js/99.4fe76e2f.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.cb5d1302.js">
    <link rel="stylesheet" href="/assets/css/0.styles.cd1f7b12.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/" class="nav-link home-link">Study &amp; Product </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/" class="nav-link">Home</a></li><li class="nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/notebook/" class="nav-link router-link-active">Notebook</a></li><li class="nav-item"><a href="/about/" class="nav-link">About</a></li><li class="nav-item"><a href="https://github.com/cp3hnu" target="_blank" rel="noopener noreferrer" class="nav-link external">GitHub</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="nav-link mobile-home-link">Study &amp; Product </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/" class="nav-link">Home</a></li><li class="mobile-nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/notebook/" class="nav-link router-link-active">Notebook</a></li><li class="mobile-nav-item"><a href="/about/" class="nav-link">About</a></li><li class="mobile-nav-item"><a href="https://github.com/cp3hnu" target="_blank" rel="noopener noreferrer" class="nav-link external">GitHub</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper index-page"><div id="vuepress-theme-blog__post-layout"><aside class="sidebar"> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/notebook/wwdc/" class="sidebar-heading clickable router-link-active open"><span>WWDC</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>2017</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>2019</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notebook/wwdc/2019/documents/206.html" class="sidebar-link">206-Introducing SF Symbols</a></li><li><a href="/notebook/wwdc/2019/documents/212.html" class="sidebar-link">212-Introducing Multiple Windows on iPad</a></li><li><a href="/notebook/wwdc/2019/documents/214.html" class="sidebar-link">214-Implementing Dark Mode on iOS</a></li><li><a href="/notebook/wwdc/2019/documents/215.html" class="sidebar-link">215-Advances in Collection View Layout</a></li><li><a href="/notebook/wwdc/2019/documents/220.html" class="sidebar-link">220-Advances in UI Data Sources</a></li><li><a href="/notebook/wwdc/2019/documents/224.html" class="sidebar-link">224-Modernizing Your UI for iOS 13</a></li><li><a href="/notebook/wwdc/2019/documents/227.html" class="sidebar-link">227-Font Management and Text Scaling</a></li><li><a href="/notebook/wwdc/2019/documents/234.html" class="sidebar-link">234-Text Recognition in Vision Framework</a></li><li><a href="/notebook/wwdc/2019/documents/235.html" class="sidebar-link">235-Taking iPad Apps for Mac to the Next Level</a></li><li><a href="/notebook/wwdc/2019/documents/246.html" class="sidebar-link">246-Window Management in Your Multitasking App</a></li><li><a href="/notebook/wwdc/2019/documents/256.html" class="sidebar-link">256-Advances in Speech Recognition</a></li><li><a href="/notebook/wwdc/2019/documents/258.html" class="sidebar-link">258-Architecting Your App for Multiple Windows</a></li><li><a href="/notebook/wwdc/2019/documents/259.html" class="sidebar-link">259-Targeting Content with Multiple Windows</a></li><li><a href="/notebook/wwdc/2019/documents/401.html" class="sidebar-link">401-What's New in Xcode</a></li><li><a href="/notebook/wwdc/2019/documents/402.html" class="sidebar-link">402-What's New in Swift</a></li><li><a href="/notebook/wwdc/2019/documents/403.html" class="sidebar-link">403-Creating Great Localized Experiences with Xcode 11</a></li><li><a href="/notebook/wwdc/2019/documents/408.html" class="sidebar-link">408-Adopting Swift Packages in Xcode</a></li><li><a href="/notebook/wwdc/2019/documents/410.html" class="sidebar-link">410-Creating Swift Packages</a></li><li><a href="/notebook/wwdc/2019/documents/413.html" class="sidebar-link">413-Testing in Xcode</a></li><li><a href="/notebook/wwdc/2019/documents/416.html" aria-current="page" class="active sidebar-link">416-Binary Frameworks in Swift</a></li><li><a href="/notebook/wwdc/2019/documents/511.html" class="sidebar-link">511-Supporting Dark Mode in Your Web Content</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>2020</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <a href="/notebook/wwdc/" class="back-to-list"><img src="/assets/img/back.png" width="20"> 返回列表
  </a> <article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-sidebar-content"><div itemprop="articleBody" class="content__default"><h1 id="_416-binary-frameworks-in-swift"><a href="#_416-binary-frameworks-in-swift" class="header-anchor">#</a> 416-Binary Frameworks in Swift</h1> <h2 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h2> <ul><li><a href="#introducing-xcframeworks">Introducing XCFrameworks</a></li> <li><a href="#creating-an-xcframework">Creating an XCFramework</a></li> <li><a href="#framework-author-considerations">Framework author considerations</a></li></ul> <h2 id="introducing-xcframeworks"><a href="#introducing-xcframeworks" class="header-anchor">#</a> Introducing XCFrameworks</h2> <p>使用 <a href="/notebook/wwdc/2019/documents/408-Adopting Swift Packages in Xcode.html">Swift Packages</a> 管理第三方库不需要考虑 Binary Compatibility.</p> <p>XCFrameworks are a new way to bundle up multiple variants of your framework in a way that will work across Xcode versions going forward.</p> <p>A single XCFramework can contain</p> <ul><li>a variant for the simulator, and for the device.</li> <li>a variant for any of the platforms that Xcode supports.</li> <li>a variant for Mac apps that use AppKit, and a variant for Mac apps that use UIKit</li></ul> <p>XCFramework can not only  bundle up frameworks, but also bundle up static libraries, and their corresponding headers.  XCFramework support binary distribution of Swift and C-based code.</p> <h2 id="creating-an-xcframework"><a href="#creating-an-xcframework" class="header-anchor">#</a> Creating an XCFramework</h2> <p>以前在自己的 Project 中使用 Framework ，经常出现 Framework 与当前的 compiler 不相同的错误，比如说 &quot;Module compiled with Swift 4.0 cannot be imported by the Swift 5.0 compiler&quot;，这是因为以前 Framework 使用 Compiled Module Format—.swiftmodule. 这种格式</p> <ul><li>是一种 binary 格式，包含内部 Compiler 数据结构</li> <li>它随着 Swift Compiler 的每个版本而发生变化</li> <li>不同版本的 Swift Compiler 不能相互解析</li></ul> <p>为了解决这个问题Xcode 11引入了一种新的格式： Swift Module Interface—.swiftinterface，这种格式</p> <ul><li>更像源代码的文本格式</li> <li>兼容不同版本的 Swift Compiler</li> <li>通过设置 “Build Libraries for Distribution&quot; = true</li></ul> <h3 id="swift-module-interface"><a href="#swift-module-interface" class="header-anchor">#</a> Swift Module Interface</h3> <p><img src="/assets/img/416-1.e173871a.png" alt=""></p> <h3 id="building-an-xcframework"><a href="#building-an-xcframework" class="header-anchor">#</a> Building an XCFramework</h3> <ol><li><p>Enable &quot;Build Libraries for Distribution&quot;</p></li> <li><p>xcodebuild archive</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code>xcodebuild archive 
  <span class="token operator">-</span>scheme <span class="token constant">XXXX</span> 
  <span class="token operator">-</span>destination generic<span class="token operator">/</span>platform<span class="token operator">=</span>ios 
  <span class="token operator">-</span>destination <span class="token string">'platform=iOS Simulator,name=iPhone 11,OS=13.0'</span> 
  <span class="token constant">SKIP_INSTALL</span><span class="token operator">=</span><span class="token constant">NO</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>xcodebuild -create-xcframework</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code>xcodebuild 
  <span class="token operator">-</span>create<span class="token operator">-</span>xcframework 
  <span class="token operator">-</span>framework <span class="token constant">XXXX</span><span class="token punctuation">.</span>framework 
  <span class="token operator">-</span>framework <span class="token constant">XXXX</span><span class="token punctuation">.</span>framework 
  <span class="token operator">-</span>framework <span class="token constant">XXXX</span><span class="token punctuation">.</span>framework 
  <span class="token operator">-</span>output <span class="token constant">XXXX</span><span class="token punctuation">.</span>xcframework
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ol> <p>关于第二步中的 -destination 请看<a href="https://www.mokacoding.com/blog/xcodebuild-destination-options/" target="_blank" rel="noopener noreferrer">Xcodebuild Destination Cheatsheet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="framework-author-considerations"><a href="#framework-author-considerations" class="header-anchor">#</a> Framework author considerations</h2> <h2 id="overview-2"><a href="#overview-2" class="header-anchor">#</a> overview</h2> <ul><li>Evolving your framework</li> <li>Trading flexibility for optimizability</li> <li>Helping your clients</li></ul> <h3 id="evolving-your-framework"><a href="#evolving-your-framework" class="header-anchor">#</a> Evolving your framework</h3> <p>首先 framework 的版本号是很重要的，应遵循 <a href="https://semver.org/" target="_blank" rel="noopener noreferrer">Semantic Versioning<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>Patch Version represents when you make bug fixes, or implementation changes to your framework that shouldn't affect your clients.</li> <li>Middle component is for backwards compatible editions, new APIs, or new capabilities.</li> <li>Major component is for any breaking changes that you have to make, whether that's source breaking, binary breaking, or semantics breaking in a way where clients will have to rebuild.</li></ul> <h3 id="trading-flexibility-for-optimizability"><a href="#trading-flexibility-for-optimizability" class="header-anchor">#</a> Trading flexibility for optimizability</h3> <p>&quot;Build Libraries for Distribution&quot; build setting set the default to the flexibility side.</p> <p>flexibility 表现在新增方法，新增枚举值、新增属性等不需要 client 重新编译。但是会增加 client 和 framework 之间的握手和额外通信。</p> <p>为了优化性能，Swift 提供有三种方式: inlinable functions, frozen enums, and frozen structs.</p> <h4 id="inlinable-function"><a href="#inlinable-function" class="header-anchor">#</a> inlinable function</h4> <p>Inlinable function copies function body into the Module Interface file.</p> <p>And when a client is compiling against that interface, they'll be able to copy that body directly into their own code, and possibly optimize it even further if they know something about the cargo that's being checked.</p> <p>如果 framework 改变 Inlinable function 的函数体，将可能导致 client 和 framework 的结果不一致</p> <p>As a rule of thumb, make sure not to change the output or observable behavior. It's okay to add a better algorithm, or some additional fast pads, but if you change the observable behavior of the function, then you could end up with these really subtle problems that are only visible at runtime, and possibly only under certain inputs. If you need to do this, all your clients need to recompile.</p> <h4 id="frozen-enum"><a href="#frozen-enum" class="header-anchor">#</a> frozen enum</h4> <p>Marking this enum with the frozen attribute, then I as the framework author can promise that there are no new cases added in future releases of the framework. The compiler is able to compile it more efficiently.</p> <p>改变 frozen enums 需要改变 framework 的 major component, 需要 client 需要重新编译。</p> <h4 id="frozen-struct"><a href="#frozen-struct" class="header-anchor">#</a> frozen struct</h4> <p>The frozen attribute can be used to promise that the stored properties will not change. They will not be added, or reordered, or removed. The types of stored properties must be public, or @usableFromInline.  And The framework author can now write inlinable initializers. .</p> <p>The compiler to be able to manipulate the stored properties of this struct directly, so that it can generate more efficient code on the client side.</p> <h3 id="helping-your-clients"><a href="#helping-your-clients" class="header-anchor">#</a> Helping your clients</h3> <h4 id="entitlements"><a href="#entitlements" class="header-anchor">#</a> Entitlements</h4> <ul><li>Document you requirements</li> <li>Minimize entitlement requests</li> <li>Handle denial gracefully</li></ul> <h4 id="dependencies"><a href="#dependencies" class="header-anchor">#</a> Dependencies</h4> <ul><li>Document your dependencies</li> <li>Minimize your dependencies</li> <li>Dependencies must user &quot;Build Library for Distribution&quot;</li> <li>Binary frameworks cannot depend on Packages.</li></ul> <h4 id="if-your-swift-code-has-no-objective-c-api"><a href="#if-your-swift-code-has-no-objective-c-api" class="header-anchor">#</a> If Your Swift Code Has No Objective-C API</h4> <ul><li><p>If your Swift code doesn't have any Objective-C API that it's trying to publish</p> <p>set &quot;Install Objective-C Compatibility Header&quot; = No</p></li> <li><p>If your framework doesn't vend any Objective-C API, well then there's no reason to support this Objective-C Import Syntax</p> <p>set &quot;Defines Module&quot; = No</p></li></ul></div></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#overview" title="Overview">Overview</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#introducing-xcframeworks" title="Introducing XCFrameworks">Introducing XCFrameworks</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#creating-an-xcframework" title="Creating an XCFramework">Creating an XCFramework</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#swift-module-interface" title="Swift Module Interface">Swift Module Interface</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#building-an-xcframework" title="Building an XCFramework">Building an XCFramework</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#framework-author-considerations" title="Framework author considerations">Framework author considerations</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#overview-2" title="overview">overview</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#evolving-your-framework" title="Evolving your framework">Evolving your framework</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#trading-flexibility-for-optimizability" title="Trading flexibility for optimizability">Trading flexibility for optimizability</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#helping-your-clients" title="Helping your clients">Helping your clients</a></div></div></div></div></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.b07256e7.js" defer></script><script src="/assets/js/34.49b71b2c.js" defer></script><script src="/assets/js/5.373c53f3.js" defer></script><script src="/assets/js/76.2ed620b3.js" defer></script>
  </body>
</html>
