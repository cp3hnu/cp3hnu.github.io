---
pageClass: blog-page
title: Valtio
tags:
  - web
  - react
  - state
date: 2024-06-09
author: cp3hnu
location: ChangSha
summary: Valtio æ˜¯å¦ä¸€ä¸ª React çŠ¶æ€ç®¡ç†çš„åº“ï¼Œå’Œ Zustand ä¸€æ ·å‡ºè‡ª Poimandres å›¢é˜Ÿã€‚è™½ç„¶ Zustand æ¯” Redux æ›´ç®€å•ï¼Œå‡å°‘äº†æ ·æ¿ä»£ç ï¼Œä½†æ˜¯ Zustand çš„è®¾è®¡ç†å¿µè¿˜æ˜¯å’Œ Redux å¾ˆç›¸ä¼¼çš„ï¼Œéƒ½ä¸èƒ½ç›´æ¥ä¿®æ”¹ state å€¼è€Œæ˜¯é€šè¿‡ action æ¥ä¿®æ”¹ã€‚è€Œ Valtio çš„è®¾è®¡ç†å¿µå®Œå…¨ä¸åŒï¼Œé€šè¿‡ Proxy å¯ä»¥ç›´æ¥ä¿®æ”¹ state å¹¶ä¸”åœ¨æ›´æ–°æ—¶è¿›è¡Œç»†ç²’åº¦çš„è®¢é˜…å’Œå“åº”ï¼Œè¿™ä¸€ç‚¹ Valtio æœ‰ç‚¹ç±»ä¼¼äº Piniaã€‚
---

# Valtio

[Valtio](https://valtio.pmnd.rs/) æ˜¯å¦ä¸€ä¸ª React çŠ¶æ€ç®¡ç†çš„åº“ï¼Œå’Œ [Zustand](https://github.com/pmndrs/zustand) ä¸€æ ·å‡ºè‡ª [Poimandres](https://github.com/pmndrs) å›¢é˜Ÿã€‚ è™½ç„¶ Zustand æ¯” [Redux](https://redux.js.org/) æ›´ç®€å•ï¼Œå‡å°‘äº†æ ·æ¿ä»£ç ï¼Œä½†æ˜¯ Zustand çš„è®¾è®¡ç†å¿µå’Œ Redux è¿˜æ˜¯å¾ˆç›¸ä¼¼çš„ï¼Œéƒ½ä¸èƒ½ç›´æ¥ä¿®æ”¹ state å€¼è€Œæ˜¯é€šè¿‡ action æ¥ä¿®æ”¹ã€‚è€Œ Valtio çš„è®¾è®¡ç†å¿µå®Œå…¨ä¸åŒï¼Œé€šè¿‡ [Proxy](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy) å¯ä»¥ç›´æ¥ä¿®æ”¹ state å¹¶ä¸”åœ¨æ›´æ–°æ—¶è¿›è¡Œç»†ç²’åº¦çš„è®¢é˜…å’Œå“åº”ï¼Œè¿™ä¸€ç‚¹ Valtio æœ‰ç‚¹ç±»ä¼¼äº [Pinia](https://pinia.vuejs.org/zh/core-concepts/getters.html)ã€‚

## å®‰è£…

```sh
$ pnpm add valtio
```

## åŸºç¡€ç”¨æ³•

é€šè¿‡  `proxy()` å‡½æ•°å®šä¹‰ stateã€‚`proxy()` åˆ›å»ºä¸€ä¸ªä»£ç†å¯¹è±¡æ¥æ£€æµ‹å˜åŒ–ï¼Œå±äº valtio çš„  "Proxy for write"ã€‚æ›´å¤šè¯¦æƒ…è¯·å‚è€ƒ [proxy](https://valtio.pmnd.rs/docs/api/basic/proxy).

```ts
// src/store/bearStore.ts
import { proxy, useSnapshot } from 'valtio';
const bearState = proxy({ count: 0, text: 'hello' });
```

é€šè¿‡ `useSnapshot()` å‡½æ•°ä½¿ç”¨ stateï¼Œ `useSnapshot()` åˆ›å»ºæ•è·äº† state çš„æœ¬åœ°å¿«ç…§ï¼Œå±äº valtio çš„  "Proxy for read"ã€‚æ›´å¤šè¯¦æƒ…è¯·å‚è€ƒ [useSnapshot](https://valtio.pmnd.rs/docs/api/basic/useSnapshot).

```tsx
import bearState from '@store/bearStore';
import { useSnapshot } from 'valtio';

function Component() {
  const snap = useSnapshot(bearState);

  const increase = () => {
    bearState.count++;
  };

  const reset = () => {
    bearState.count = 0;
  };

  return (
    <div>
      <div>Bears: {snap.count}</div>
      <div>
        <Button onClick={increase}>å¢åŠ </Button>
        <Button onClick={reset}>é‡ç½®</Button>
      </div>
    </div>
  );
}
```

`useSnapshot()` èƒ½è‡ªåŠ¨æ”¶é›†è®¿é—®äº†å“ªäº› state å±æ€§ï¼Œåªæœ‰å½“è¿™äº›å±æ€§æ”¹å˜äº†ï¼Œæ‰ä¼šæ›´æ–°ç»„ä»¶ï¼Œé¿å…æ— æ•ˆçš„æ¸²æŸ“ã€‚æ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œç»„ä»¶åªè®¿é—®äº† `state.count`ï¼Œå¦‚æœ `state.text` æ”¹å˜äº†ï¼Œæ˜¯ä¸ä¼šé‡æ–°æ¸²æŸ“ç»„ä»¶çš„ã€‚

> ğŸ“¢  ç»„ä»¶ç›´æ¥ä½¿ç”¨ stateï¼Œä¸èƒ½æ›´æ–°ç»„ä»¶

Valtio é»˜è®¤æ˜¯æ‰¹é‡æ›´æ–°çš„ï¼Œæ„æ€æ˜¯åŒæ—¶å¤šæ¬¡ä¿®æ”¹ stateï¼Œç»„ä»¶åªä¼šæ›´æ–°ä¸€æ¬¡ï¼Œå¦‚æœæƒ³è¦æ¯æ¬¡éƒ½æ›´æ–°ï¼ˆæ¯”å¦‚å—æ§ inputï¼‰ï¼Œå¯ä»¥è®¾ç½® `useSnapshot` ç¬¬äºŒä¸ªå‚æ•°ä¸º `true`ã€‚

## è®¢é˜…

Valtio æä¾›äº† 3 ä¸ª API æ”¯æŒè®¢é˜…ï¼š

- `subscribe`
- `subscribeKey`
- `watch`

### `subscribe`

`subscribe` æ”¯æŒè®¢é˜…æ•´ä¸ª state æˆ–è€…éƒ¨åˆ†å±æ€§ï¼ˆå¯¹è±¡ï¼‰ã€‚

```ts
import { subscribe } from 'valtio'

// Subscribe to all state changes
const unsubscribe = subscribe(state, () =>
  console.log('state has changed to', state),
)
// Unsubscribe by calling the result
unsubscribe()
```

è®¢é˜…éƒ¨åˆ†å±æ€§ï¼ˆå¯¹è±¡ï¼‰

```ts
const state = proxy({ obj: { foo: 'bar' }, arr: ['hello'] })

subscribe(state.obj, () => console.log('state.obj has changed to', state.obj))
state.obj.foo = 'baz'

subscribe(state.arr, () => console.log('state.arr has changed to', state.arr))
state.arr.push('world')
```

### `subscribeKey`

`subscribe` è®¢é˜…éƒ¨åˆ†å±æ€§åªèƒ½æ˜¯å¯¹è±¡ï¼Œå¦‚æœæƒ³è®¢é˜… primitive ç±»å‹ï¼Œéœ€è¦ä½¿ç”¨ `subscribeKey`ã€‚

```ts
import { subscribeKey } from 'valtio/utils'

const state = proxy({ count: 0, text: 'hello' })
subscribeKey(state, 'count', (newCount) =>
  console.log('state.count has changed to', newCount),
)
```

### `watch`

`watch` å¯ä»¥è®¢é˜…å¤šä¸ª stateï¼Œä¸€æ—¦è¿™äº› state å‘ç”Ÿæ”¹å˜ï¼Œå°±ä¼šè°ƒç”¨å›è°ƒæ–¹æ³•ã€‚è°ƒç”¨ `watch` ä¼šç«‹å³è°ƒç”¨å›è°ƒæ–¹æ³•ï¼Œè¿™ä¸ªæœ‰åˆ«äº `subscribe` å’Œ  `subscribeKey`ã€‚æ›´å¤šè¯¦æƒ…è¯·å‚è€ƒ [watch](https://valtio.pmnd.rs/docs/api/utils/watch)ã€‚

> `watch` ä¸èƒ½ç›‘å¬ state çš„æŸä¸€ä¸ªå±æ€§ï¼Œè¿™ä¸ªæœ‰åˆ«äº Vue 3 çš„ `watch` æ–¹æ³•

```ts
import { proxy } from 'valtio'
import { watch } from 'valtio/utils'

const userState = proxy({ user: { name: 'Juuso' } })
const sessionState = proxy({ expired: false })

const unwatch = watch((get) => {
  // `get` adds `sessionState` to this callback's watched proxies
  get(sessionState)
  const expired = sessionState.expired
  // Or call it inline
  const name = get(userState).user.name
  console.log(`${name}'s session is ${expired ? 'expired' : 'valid'}`)
  
  // call before each re-invocation of the callback or after `unwatch` called
  return () => {
    if (expired) {
      console.log('Cleaning up')
    }
  }
})
// 'Juuso's session is valid'
sessionState.expired = true
// 'Juuso's session is expired'
```

### åŒæ­¥

Valtio é»˜è®¤æ˜¯æ‰¹é‡æ›´æ–°çš„ï¼Œå³åŒæ—¶å¤šæ¬¡ä¿®æ”¹ stateï¼Œé»˜è®¤åªä¼šé€šçŸ¥è®¢é˜…è€…ä¸€æ¬¡ã€‚`subscribe`ã€`subscribeKey` å’Œ `watch` æä¾›äº†ç¬¬äºŒä¸ªå‚æ•° `notifyInSync` æˆ–è€… `{ sync }` ( `watch` ) è¡¨ç¤ºç¦æ­¢æ‰¹é‡æ›´æ–°ï¼Œä¿®æ”¹ä¸€æ¬¡é€šçŸ¥ä¸€æ¬¡ã€‚

## è®¡ç®—å±æ€§

ä¸åƒ Zustandï¼ŒValtio å¤©ç„¶æ”¯æŒè®¡ç®—å±æ€§ã€‚Valtio è®¡ç®—å±æ€§çš„è¯­æ³•å’Œ JavaScript ä¸€æ ·ã€‚æ›´å¤šè¯¦æƒ…è¯·å‚è€ƒ [Computed Properties](https://valtio.pmnd.rs/docs/guides/computed-properties)ã€‚

```ts
const state = proxy({
  count: 1,
  get doubled() {
    // ä¹Ÿå¯ä»¥ä½¿ç”¨ this
    return state.count * 2
  },
  set doubled(newValue) {
    state.count = newValue / 2
  },
})

console.log(state.doubled) // 2

state.count = 10

console.log(state.doubled) // 20

state.doubled = 4

console.log(state.count) // 2
```

## Actions

Valtio æ”¯æŒç›´æ¥ä¿®æ”¹ stateï¼Œä½†æ˜¯ç›´æ¥ä¿®æ”¹ state ä¸åˆ©äºç®¡ç†ã€‚Valtio æ”¯æŒä¸¤ç§æ–¹å¼å®šä¹‰ actionsã€‚æ›´å¤šè¯¦æƒ…è¯·å‚è€ƒ [How to organize actions](https://valtio.pmnd.rs/docs/how-tos/how-to-organize-actions)ã€‚

Valtio æ¨èåœ¨æ¨¡å—é‡Œå®šä¹‰ action å‡½æ•°ï¼Œæœ‰åˆ©äºä»£ç åˆ†å‰²

```ts 
const state = proxy({
  count: 0,
});

export const increase = () => {
  state.count++;
};

export const reset = () => {
  state.count = 0;
};

export default state;
```

ä¹Ÿå¯ä»¥å°† action å®šä¹‰åœ¨ state é‡Œ

```ts
export const state = proxy({
  count: 0,
  inc: () => {
    ++state.count;
  },
  // ä½¿ç”¨ this æ—¶ï¼Œ ä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°
  reset() {
    this.count = 0;
  },
})
```

## å¼‚æ­¥

Valtio å¼‚æ­¥å’ŒåŒæ­¥æ²¡æœ‰åŒºåˆ«ï¼Œå®šä¹‰ä¸€ä¸ªå¼‚æ­¥ actionï¼Œç„¶ååœ¨ action é‡Œç›´æ¥ä¿®æ”¹ state å³å¯ã€‚

```ts
// src/store/userStore.ts
import { getCurrentUserReq } from '@/services/user';
import { proxy } from 'valtio';

type UserStore = {
  user?: API.UserInfo;
  getUser: () => void;
};

const state = proxy<UserStore>({
  user: undefined,
  getUser: async () => {
    const { data, success } = await getCurrentUserReq();
    if (success) {
      state.user = data;
    }
  },
});

export default state;
```

ç»„ä»¶ä½¿ç”¨ state

```tsx
import userStore from '@store/userStore';
import { useSnapshot } from 'valtio';

const AsyncPage = () => {
  const snap = useSnapshot(userStore);
  return (
    <PageContainer ghost>
      <div>
        <div>
          å½“å‰ç”¨æˆ·ï¼š{snap.user?.name || 'æœªç™»å½•'}
        </div>
        <Button onClick={userStore.getUser}>è·å–ç”¨æˆ·</Button>
      </div>
    </PageContainer>
  );
};

export default AsyncPage;
```

### Promise

Valtio state æ”¯æŒ Promise  å±æ€§ï¼Œå½“è°ƒç”¨ `snapshot()` æ–¹æ³•æ—¶ï¼Œå®ƒä¼šè¢« resolve æˆ–è€… rejectã€‚å½“ React ç»„ä»¶è®¿é—®æ—¶ï¼Œ ç»„ä»¶ä¼šè¢«æŒ‚èµ·ï¼Œæ­¤æ—¶çˆ¶ç»„ä»¶è´Ÿè´£å›é€€çŠ¶æ€å’Œé”™è¯¯å¤„ç†ã€‚

```ts
// src/store/promiseStore.ts
import { getCurrentUserReq } from '@/services/user';
import { proxy } from 'valtio';

type UserStore = {
  user: Promise<API.UserInfo>;
};

const fetchUser = async (): Promise<API.UserInfo> => {
  const { data, success } = await getCurrentUserReq();
  if (success) {
    return data;
  }
  return Promise.reject(new Error('è·å–ç”¨æˆ·å¤±è´¥'));
};

const state = proxy<UserStore>({
  user: fetchUser(),
});

export default state;
```

å®šä¹‰ç»„ä»¶ï¼Œè®¿é—® `user.name`

```tsx
import userState from '@store/promiseStore';
import { useSnapshot } from 'valtio';

function UserComponent() {
  const snap = useSnapshot(userState);

  return (
    <div style={{ marginBottom: 30, fontSize: 30 }}>
      ç”¨æˆ·å: {snap.user.name}
    </div>
  );
}

export default UserComponent;
```

çˆ¶ç»„ä»¶è´Ÿè´£å›é€€çŠ¶æ€å’Œé”™è¯¯å¤„ç†

```tsx
const PromisePage = () => {
  return (
    <PageContainer ghost>
      <div>
        <Suspense fallback="Loading...">
          <UserComponent />
        </Suspense>
      </div>
    </PageContainer>
  );
};

export default PromisePage;
```

ä¸ªäººè§‰å¾—è¿™ä¸ªæ–¹å¼ä¸æ˜¯å¾ˆå¥½ï¼Œè€ƒè™‘åˆ° Promise å¯èƒ½ä¼šå¤±è´¥ï¼Œè¿˜éœ€è¦æ·»åŠ  ErrorBoundaryï¼Œå¢åŠ äº†ç¨‹åºçš„å¤æ‚æ€§ï¼Œè¿˜ä¸å¦‚ç›´æ¥ä½¿ç”¨å¼‚æ­¥å‡½æ•°ã€‚

## æŒä¹…åŒ–

Valtio æ²¡ç›´æ¥æœ‰æä¾›æŒä¹…åŒ–çš„åŠŸèƒ½ï¼Œä½†æ˜¯å¯ä»¥è‡ªå·±å®ç°

```js
const state = proxy(
  JSON.parse(localStorage.getItem('foo')) || {
    count: 0,
    text: 'hello',
  },
)

subscribe(state, () => {
  localStorage.setItem('foo', JSON.stringify(state))
})
```

Valtio æåˆ°äº†ä¸€ä¸ªæŒä¹…åŒ–çš„éå®˜æ–¹çš„åº“ [`valtio-persist`](https://github.com/Noitidart/valtio-persist)ï¼Œä½†æ˜¯å¾ˆä¹…æ²¡æœ‰æ›´æ–°äº†ï¼Œè°¨æ…ä½¿ç”¨ã€‚

## å·¥å…·

### Devtools

Valtio ä¹Ÿå¯ä»¥ä½¿ç”¨ [`redux-devtools`](https://github.com/reduxjs/redux-devtools) å·¥å…·è¿›è¡ŒçŠ¶æ€ç›‘æ§ã€è°ƒè¯•ã€‚

```ts
import { devtools } from 'valtio/utils'

const state = proxy({ count: 0, text: 'hello' })
devtools(state, { name: 'instance name', enabled: true })
```

![](./assets/valtio-devtools.png)

ä½†æ˜¯ç›¸æ¯” Zustandï¼ŒValtio æä¾›çš„ `devtools` åŠŸèƒ½è¦å¼±å¾ˆå¤šï¼Œå®ƒåªèƒ½å®šä¹‰ instance nameï¼Œä¸èƒ½å®šä¹‰ store nameï¼Œä¹Ÿä¸èƒ½å®šä¹‰ action name.

å…³äº Zustand çš„  `devtools` åŠŸèƒ½ï¼Œè¯·å‚è€ƒä¸Šä¸€ç¯‡ [Zustand](/2024/05/20/zustand/#redux-devtools)

### `derive`

åˆ›å»ºä»å…¶ä»–ä»£ç†æ´¾ç”Ÿçš„æ–°ä»£ç†ï¼Œæ¯”å¦‚ç”Ÿæˆä¸€ä¸ªè®¡ç®—å±æ€§

```ts
import { derive } from 'derive-valtio'

// create a base proxy
const state = proxy({
  count: 1,
})

// create a derived proxy
const derived = derive({
  doubled: (get) => get(state).count * 2,
})
```

æˆ‘è§‰å¾—æ›´æœ‰ç”¨çš„æ˜¯ç»„åˆå¤šä¸ªä»£ç†ï¼Œæ¯”å¦‚ä¸‹é¢è®¡ç®— bear å’Œ fish çš„æ€»æ•°

```ts
import bearStore from '@store/bearStore';
import fishStore from '@store/fishStore';
import { derive } from 'derive-valtio';

const derived = derive({
  total: (get) => get(bearStore).count + get(fishStore).count,
});

export default derived;
```

### `proxyWithHistory`

ç”¨äºåˆ›å»ºå…·æœ‰å¿«ç…§å†å²è®°å½•çš„ä»£ç†

```ts
// src/store/historyStore.ts
import { proxyWithHistory } from 'valtio-history';
const state = proxyWithHistory({ count: 0 });
export default state;

export const increase = () => {
  state.value.count += 1;
};
```

`proxyWithHistory` è¿”å›çš„ä¸€ä¸ªå¯¹è±¡ï¼ŒçœŸå®çš„æ•°æ®å°è£…åœ¨å±æ€§ `value` å¯¹è±¡ä¸­ï¼Œä¾‹å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œä½¿ç”¨ `state.value.count` è®¿é—® `count` å€¼ã€‚

`useSnapshot` è¿”å›å€¼ä¹Ÿå‘ç”Ÿäº†æ”¹å˜ï¼Œè¯¦æƒ…è¯·å‚è€ƒ [valtio-history API](https://github.com/valtiojs/valtio-history/blob/main/packages/history-utility/docs/modules.md)

```tsx
import historyState, { increase } from '@store/historyStore';
const HistoryPage = () => {
  const { value, undo, redo, isRedoEnabled, isUndoEnabled } =
    useSnapshot(historyState);

  return (
    <PageContainer ghost>
      <div>
        <div>
          Bears: {value.count}
        </div>
        <div>
          <Button onClick={increase}>å¢åŠ </Button>
          <Button disabled={!isUndoEnabled} onClick={undo}>
            Undo
          </Button>
          <Button disabled={!isRedoEnabled} onClick={redo}>
            Redo
          </Button>
        </div>
      </div>
    </PageContainer>
  );
};
```

> ğŸ“¢ `valtio-history@0.3.5` deprecated `canUndo()` æ–¹æ³•ï¼Œæä¾›äº† `isUndoEnabled` å±æ€§ï¼Œä½†æ˜¯ `isUndoEnabled` ä¼šæ…¢ä¸€æ‹ã€‚æ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œå½“æˆ‘å¢åŠ  count ä» 0 åˆ° 1 æ—¶ï¼Œ`isUndoEnabled`  ä¸º falseï¼Œæˆ‘å†åœ¨ä» 1 å¢åŠ åˆ° 2 æ—¶ï¼Œ `isUndoEnabled`  æ‰å˜æˆ true.

### `proxySet` å’Œ `proxyMap`

Javascript é‡Œçš„ Set ç±»å‹ä¸èƒ½ä»£ç†ï¼ŒValtio æä¾›äº†ç›¸åŒåŠŸèƒ½çš„ç±»å‹ `proxySet`ã€‚

```ts
import { proxySet } from 'valtio/utils'

const state = proxySet([1, 2, 3])
//can be used inside a proxy as well
//const state = proxy({
//    count: 1,
//    set: proxySet()
//})

state.add(4)
state.delete(1)
state.forEach((v) => console.log(v)) // 2,3,4
```

ç›¸åŒçš„è¿˜æœ‰ `proxyMap`

```ts
import { proxyMap } from 'valtio/utils'

const state = proxyMap([
  ['key', 'value'],
  ['key2', 'value2'],
])
state.set('key', 'value')
state.delete('key')
state.get('key') // ---> value
state.forEach((value, key) => console.log(key, value)) // ---> "key", "value", "key2", "value2"
```

## å…¶å®ƒ

### `ref`

Valtio ä½¿ç”¨ `ref` æ¥å°è£…ä¸éœ€è¦ä»£ç†çš„ stateã€‚ä¾‹å¦‚ä¸‹é¢çš„ `uploads` ä¸éœ€è¦ä»£ç†ï¼Œä¹Ÿå°±ä¸éœ€è¦å“åº”æ€§ã€‚

```ts
import { ref } from 'valtio'
const store = proxy({
  users: [
    { id: 1, name: 'Juho', uploads: ref([]) },
  ]
})
```

### `snapshot`

ä»ä»£ç†å¯¹è±¡åˆ›å»ºä¸å¯å˜å¯¹è±¡ï¼Œ`useSnapshot` å°±æ˜¯ç”¨å¦ä¸€ä¸ªä»£ç†ï¼ˆä½¿ç”¨ [`proxy-compare`](https://github.com/dai-shi/proxy-compare)ï¼‰åŒ…è£… `snapshot` åˆ›å»ºçš„å¿«ç…§å¯¹è±¡ä»¥æ£€æµ‹å±æ€§è®¿é—®çš„ã€‚æ›´å¤šè¯¦æƒ…è¯·å‚è€ƒ [snapshot](https://valtio.pmnd.rs/docs/api/advanced/snapshot)ã€‚

```ts
import { proxy, snapshot } from 'valtio'

const store = proxy({ name: 'Mika' })
const snap1 = snapshot(store)
console.log(snap1) // {name: 'Mika'}

store.name = 'Hanna'
const snap3 = snapshot(store)
console.log(snap3) // {name: 'Hanna'}
console.log(snap1) // {name: 'Mika'}
```

## Demo

[valtio-demo](https://gitee.com/cp3hnu/web-demo/tree/master/valtio-demo)

## References

- [Valtio](https://valtio.pmnd.rs/)
- [proxy](https://valtio.pmnd.rs/docs/api/basic/proxy)
- [snapshot](https://valtio.pmnd.rs/docs/api/advanced/snapshot)
-  [useSnapshot](https://valtio.pmnd.rs/docs/api/basic/useSnapshot)
- [watch](https://valtio.pmnd.rs/docs/api/utils/watch)
- [derive](https://github.com/valtiojs/derive-valtio)
- [Computed Properties](https://valtio.pmnd.rs/docs/guides/computed-properties)
-  [How to organize actions](https://valtio.pmnd.rs/docs/how-tos/how-to-organize-actions)
- [`proxy-compare`](https://github.com/dai-shi/proxy-compare)
- [`proxy-memoize`](https://github.com/dai-shi/proxy-memoize)
- [`valtio-history`](https://github.com/valtiojs/valtio-history)
- [`valtio-persist`](https://github.com/Noitidart/valtio-persist)
- [eslint-plugin-valtio](https://github.com/pmndrs/eslint-plugin-valtio)
- [Pinia](https://pinia.vuejs.org/zh/core-concepts/getters.html)
- [When I Use Valtio and When I Use Jotai](https://blog.axlight.com/posts/when-i-use-valtio-and-when-i-use-jotai/)
- [Can valtio replace jotai completely?](https://github.com/pmndrs/valtio/issues/141)
- [How Valtio Proxy State Works (Vanilla Part)](https://blog.axlight.com/posts/how-valtio-proxy-state-works-vanilla-part/)
- [How Valtio Proxy State Works (React Part)](https://blog.axlight.com/posts/how-valtio-proxy-state-works-react-part/)